!function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return r(n||t)},h,h.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="object"===("undefined"==typeof window?"undefined":i(window));!function(n){if("function"==typeof define&&define.amd)define(["jquery"],n);else if("object"===(void 0===e?"undefined":i(e))&&e.exports){var r;try{r=t("jquery")}catch(t){r=null}e.exports=n(r)}else window&&(window.Slider=n(window.jQuery))}(function(t){r&&!window.console&&(window.console={}),r&&!window.console.log&&(window.console.log=function(){}),r&&!window.console.warn&&(window.console.warn=function(){});var e;return function(t){function e(){}var n=Array.prototype.slice;!function(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function r(e,i){t.fn[e]=function(r){if("string"==typeof r){for(var s=n.call(arguments,1),a=0,c=this.length;a<c;a++){var u=this[a],h=t.data(u,e);if(h)if(t.isFunction(h[r])&&"_"!==r.charAt(0)){var l=h[r].apply(h,s);if(void 0!==l&&l!==h)return l}else o("no such method '"+r+"' for "+e+" instance");else o("cannot call methods on "+e+" prior to initialization; attempted to call '"+r+"'")}return this}var f=this.map(function(){var n=t.data(this,e);return n?(n.option(r),n._init()):(n=new i(this,r),t.data(this,e,n)),t(this)});return!f||f.length>1?f:f[0]}}if(t){var o="undefined"==typeof console?e:function(t){console.error(t)};t.bridget=function(t,e){i(e),r(t,e)},t.bridget}}(t)}(t),function(t){function n(e,n){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),n=n||{};for(var i=Object.keys(this.defaultOptions),r=0;r<i.length;r++){var s=i[r],a=n[s];a=null!==(a=void 0!==a?a:function(t,e){var n="data-slider-"+e.replace(/_/g,"-"),i=t.getAttribute(n);try{return JSON.parse(i)}catch(t){return i}}(this.element,s))?a:this.defaultOptions[s],this.options||(this.options={}),this.options[s]=a}"auto"===this.options.rtl&&(this.options.rtl="rtl"===window.getComputedStyle(this.element).direction),"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var c,u,h,l,f,d=this.element.style.width,p=!1,g=this.element.parentNode;if(this.sliderElem)p=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var v=document.createElement("div");v.className="slider-track",(u=document.createElement("div")).className="slider-track-low",(c=document.createElement("div")).className="slider-selection",(h=document.createElement("div")).className="slider-track-high",(l=document.createElement("div")).className="slider-handle min-slider-handle",l.setAttribute("role","slider"),l.setAttribute("aria-valuemin",this.options.min),l.setAttribute("aria-valuemax",this.options.max),(f=document.createElement("div")).className="slider-handle max-slider-handle",f.setAttribute("role","slider"),f.setAttribute("aria-valuemin",this.options.min),f.setAttribute("aria-valuemax",this.options.max),v.appendChild(u),v.appendChild(c),v.appendChild(h),this.rangeHighlightElements=[];var m=this.options.rangeHighlights;if(Array.isArray(m)&&m.length>0)for(var y=0;y<m.length;y++){var b=document.createElement("div"),_=m[y].class||"";b.className="slider-rangeHighlight slider-selection "+_,this.rangeHighlightElements.push(b),v.appendChild(b)}var w=Array.isArray(this.options.labelledby);if(w&&this.options.labelledby[0]&&l.setAttribute("aria-labelledby",this.options.labelledby[0]),w&&this.options.labelledby[1]&&f.setAttribute("aria-labelledby",this.options.labelledby[1]),!w&&this.options.labelledby&&(l.setAttribute("aria-labelledby",this.options.labelledby),f.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",r=0;r<this.options.ticks.length;r++){var x=document.createElement("div");if(x.className="slider-tick",this.options.ticks_tooltip){var T=this._addTickListener(),P=T.addMouseEnter(this,x,r),C=T.addMouseLeave(this,x);this.ticksCallbackMap[r]={mouseEnter:P,mouseLeave:C}}this.ticks.push(x),this.ticksContainer.appendChild(x)}c.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",r=0;r<this.options.ticks_labels.length;r++){var E=document.createElement("div"),S=0===this.options.ticks_positions.length,A=this.options.reversed&&S?this.options.ticks_labels.length-(r+1):r;E.className="slider-tick-label",E.innerHTML=this.options.ticks_labels[A],this.tickLabels.push(E),this.tickLabelContainer.appendChild(E)}var O=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var n=document.createElement("div");n.className="tooltip-inner",t.appendChild(e),t.appendChild(n)},k=document.createElement("div");k.className="tooltip tooltip-main",k.setAttribute("role","presentation"),O(k);var I=document.createElement("div");I.className="tooltip tooltip-min",I.setAttribute("role","presentation"),O(I);var D=document.createElement("div");D.className="tooltip tooltip-max",D.setAttribute("role","presentation"),O(D),this.sliderElem.appendChild(v),this.sliderElem.appendChild(k),this.sliderElem.appendChild(I),this.sliderElem.appendChild(D),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(l),this.sliderElem.appendChild(f),g.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),o[this.options.scale]&&(this.options.scale=o[this.options.scale]),!0===p&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-right"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"left"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=d,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=u||this.trackLow,this.trackSelection=c||this.trackSelection,this.trackHigh=h||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=l||this.handle1,this.handle2=f||this.handle2,!0===p)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),r=0;r<this.ticks.length;r++)this._removeClass(this.ticks[r],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),r=0;r<this.ticks.length;r++)this._addClass(this.ticks[r],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable){var M=!1;try{var j=Object.defineProperty({},"passive",{get:function(){M=!0}});window.addEventListener("test",null,j)}catch(t){}var L=!!M&&{passive:!0};this.sliderElem.addEventListener("touchstart",this.touchstart,L),this.sliderElem.addEventListener("touchmove",this.touchmove,L)}if(this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var R=this._addTickListener(),N=R.addMouseEnter(this,this.handle1),F=R.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:N,mouseLeave:F},N=R.addMouseEnter(this,this.handle2),F=R.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:N,mouseLeave:F}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}var i={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},o={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min),n=!0;if(this.options.ticks_positions.length>0){for(var i,r,o,s=0,a=1;a<this.options.ticks_positions.length;a++)if(t<=this.options.ticks_positions[a]){i=this.options.ticks[a-1],o=this.options.ticks_positions[a-1],r=this.options.ticks[a],s=this.options.ticks_positions[a];break}e=i+(t-o)/(s-o)*(r-i),n=!1}var c=(n?this.options.min:0)+Math.round(e/this.options.step)*this.options.step;return c<this.options.min?this.options.min:c>this.options.max?this.options.max:c},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,n,i,r=0,o=0;o<this.options.ticks.length;o++)if(t<=this.options.ticks[o]){e=o>0?this.options.ticks[o-1]:0,i=o>0?this.options.ticks_positions[o-1]:0,n=this.options.ticks[o],r=this.options.ticks_positions[o];break}if(o>0)return i+(t-e)/(n-e)*(r-i)}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),n=Math.log(this.options.max),i=Math.exp(e+(n-e)*t/100);return i=this.options.min+Math.round((i-this.options.min)/this.options.step)*this.options.step,i<this.options.min?this.options.min:i>this.options.max?this.options.max:i},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),n=0===this.options.min?0:Math.log(this.options.min);return 100*((0===t?0:Math.log(t))-n)/(e-n)}}};if(e=function(t,e){return n.call(this,t,e),this},e.prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,n){t||(t=0);var i=this.getValue();this._state.value=this._validateInputValue(t);var r=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=r(this._state.value[0]),this._state.value[1]=r(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=r(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var o=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(o),!0===e&&this._trigger("slide",o),i!==o&&!0===n&&this._trigger("change",{oldValue:i,newValue:o}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,n){t?(this.$element.off(e,n),this.$sliderElem.off(e,n)):this._unbindNonQueryEventHandler(e,n)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),n.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var n=this.eventToCallbackMap[t];if(void 0!==n)for(var i=0;i<n.length;i++)if(n[i]===e){n.splice(i,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var n=t[e];delete this.eventToCallbackMap[n]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(t){function e(t,e){return e?[100-t.percentage[0],this.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}var n=this.options.formatter(t?t.value[0]:this._state.value[0]),i=t?e(t,this.options.reversed):e(this._state,this.options.reversed);this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=i[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px")},_addTickListener:function(){return{addMouseEnter:function(t,e,n){var i=function(){var e=t._state,i=n>=0?n:this.attributes["aria-valuenow"].value,r=parseInt(i,10);e.value[0]=r,e.percentage[0]=t.options.ticks_positions[r],t._setToolTipOnMouseOver(e),t._showTooltip()};return e.addEventListener("mouseenter",i,!1),i},addMouseLeave:function(t,e){var n=function(){t._hideTooltip()};return e.addEventListener("mouseleave",n,!1),n}}},_layout:function(){var t;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),isNaN(this.options.formatter(this._state.value[0]))&&this.handle1.setAttribute("aria-valuetext",this.options.formatter(this._state.value[0])),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),isNaN(this.options.formatter(this._state.value[1]))&&this.handle2.setAttribute("aria-valuetext",this.options.formatter(this._state.value[1])),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var e=0;e<this.options.rangeHighlights.length;e++){var n=this._toPercentage(this.options.rangeHighlights[e].start),i=this._toPercentage(this.options.rangeHighlights[e].end);if(this.options.reversed){var r=100-i;i=100-n,n=r}var o=this._createHighlightRange(n,i);o?"vertical"===this.options.orientation?(this.rangeHighlightElements[e].style.top=o.start+"%",this.rangeHighlightElements[e].style.height=o.size+"%"):(this.options.rtl?this.rangeHighlightElements[e].style.right=o.start+"%":this.rangeHighlightElements[e].style.left=o.start+"%",this.rangeHighlightElements[e].style.width=o.size+"%"):this.rangeHighlightElements[e].style.display="none"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var s,a="vertical"===this.options.orientation?"height":"width";s="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var c=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var u=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[s]=-c/2+"px"),u=this.tickLabelContainer.offsetHeight;else for(h=0;h<this.tickLabelContainer.childNodes.length;h++)this.tickLabelContainer.childNodes[h].offsetHeight>u&&(u=this.tickLabelContainer.childNodes[h].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=u+"px")}for(var h=0;h<this.options.ticks.length;h++){var l=this.options.ticks_positions[h]||this._toPercentage(this.options.ticks[h]);this.options.reversed&&(l=100-l),this.ticks[h].style[this.stylePos]=l+"%",this._removeClass(this.ticks[h],"in-selection"),this.options.range?l>=t[0]&&l<=t[1]&&this._addClass(this.ticks[h],"in-selection"):"after"===this.options.selection&&l>=t[0]?this._addClass(this.ticks[h],"in-selection"):"before"===this.options.selection&&l<=t[0]&&this._addClass(this.ticks[h],"in-selection"),this.tickLabels[h]&&(this.tickLabels[h].style[a]=c+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[h]?(this.tickLabels[h].style.position="absolute",this.tickLabels[h].style[this.stylePos]=l+"%",this.tickLabels[h].style[s]=-c/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[h].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[h].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[s]=this.sliderElem.offsetWidth/2*-1+"px"))}}var f;if(this.options.range){f=this.options.formatter(this._state.value),this._setText(this.tooltipInner,f),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");var d=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,d);var p=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,p),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetWidth/2+"px")}else f=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,f),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(t[0],t[1])+"%":this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var g=this.tooltip_min.getBoundingClientRect(),v=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?g.right>v.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):g.right>v.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(t,e){return this._isHighlightRange(t,e)?t>e?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function(t,e){return 0<=t&&t<=100&&0<=e&&e<=100},_resize:function(t){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var n=Math.abs(this._state.percentage[0]-e),i=Math.abs(this._state.percentage[1]-e);this._state.dragged=n<i?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var r=this._calculateValue();return this._trigger("slideStart",r),this._setDataVal(r),this.setValue(r,!1,!0),t.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){if(void 0===t.changedTouches)return void this._mousedown(t);var e=t.changedTouches[0];this.touchX=e.pageX,this.touchY=e.pageY},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var n;switch(e.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var i="vertical"===this.options.orientation&&!this.options.reversed,r="horizontal"===this.options.orientation&&this.options.reversed;(i||r)&&(n=-n)}var o=this._state.value[t]+n*this.options.step,s=o/this.options.max*100;return this._state.keyCtrl=t,this.options.range&&(this._adjustPercentageForRangeSliders(s),o=[this._state.keyCtrl?this._state.value[0]:o,this._state.keyCtrl?o:this._state.value[1]]),this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!0,!0),this._setDataVal(o),this._trigger("slideStop",o),this._layout(),this._pauseEvent(e),delete this._state.keyCtrl,!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var n=this._calculateValue(!0);return this.setValue(n,!0,!0),!1},_touchmove:function(t){if(void 0!==t.changedTouches){var e=t.changedTouches[0],n=e.pageX-this.touchX,i=e.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&n<=5&&n>=-5&&(i>=15||i<=-15)?this._mousedown(t):i<=5&&i>=-5&&(n>=15||n<=-15)&&this._mousedown(t))}},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var n=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<n?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>n?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._state.value[1]/this.options.max*100<t?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._state.value[0]/this.options.max*100>t&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var n=[e,1/0],i=0;i<this.options.ticks.length;i++){var r=Math.abs(this.options.ticks[i]-e);r<=n[1]&&(n=[this.options.ticks[i],r])}if(n[1]<=this.options.ticks_snap_bounds)return n[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var n=t.toFixed(e);return parseFloat(n)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos]-this._state.offset[this.stylePos];"right"===this.stylePos&&(e=-e);var n=e/this._state.size*100;return n=Math.round(n/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(n=100-n),Math.max(0,Math.min(100,n))},_validateInputValue:function(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(i.formatInvalidInputErrorMsg(t))}return+t},_validateArray:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("number"!=typeof n)throw new Error(i.formatInvalidInputErrorMsg(n))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,n){n=n||0===n?n:void 0;var i=this.eventToCallbackMap[e];if(i&&i.length)for(var r=0;r<i.length;r++)(0,i[r])(n);t&&this._triggerJQueryEvent(e,n)},_triggerJQueryEvent:function(t,e){var n={type:t,value:e};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){void 0!==t.textContent?t.textContent=e:void 0!==t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var n=e.split(" "),i=t.className,r=0;r<n.length;r++){var o=n[r],s=new RegExp("(?:\\s|^)"+o+"(?:\\s|$)");i=i.replace(s," ")}t.className=i.trim()},_addClass:function(t,e){for(var n=e.split(" "),i=t.className,r=0;r<n.length;r++){var o=n[r];new RegExp("(?:\\s|^)"+o+"(?:\\s|$)").test(i)||(i+=" "+o)}t.className=i.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetRight:function(t){return t.getBoundingClientRect().right},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),right:this._offsetRight(t),top:this._offsetTop(t)}},_css:function(e,n,i){if(t)t.style(e,n,i);else{var r=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});e.style[r]=i}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e,n="left"===(e=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right")?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[n]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},t&&t.fn){var s=void 0;t.fn.slider?(r&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),s="bootstrapSlider"):(t.bridget("slider",e),s="slider"),t.bridget("bootstrapSlider",e),t(function(){t("input[data-provide=slider]")[s]()})}}(t),e})},{jquery:31}],2:[function(t,e,n){if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");+function(t){var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(jQuery),function(){function t(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){function e(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(t){return(t[0]||t).nodeType}function i(){return{bindType:s.end,delegateType:s.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function r(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in a)if(void 0!==t.style[e])return{end:a[e]};return!1}function o(e){var n=this,i=!1;return t(this).one(c.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||c.triggerTransitionEnd(n)},e),this}var s=!1,a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(s.end)},supportsTransitionEnd:function(){return Boolean(s)},typeCheckConfig:function(t,i,r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o],a=i[o],c=a&&n(a)?"element":e(a);if(!new RegExp(s).test(c))throw new Error(t.toUpperCase()+': Option "'+o+'" provided type "'+c+'" but expected type "'+s+'".')}}};return function(){s=r(),t.fn.emulateTransitionEnd=o,c.supportsTransitionEnd()&&(t.event.special[c.TRANSITION_END]=i())}(),c}(jQuery),s=(function(t){var e="alert",i=t.fn[e],s={DISMISS:'[data-dismiss="alert"]'},a={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},c={ALERT:"alert",FADE:"fade",SHOW:"show"},u=function(){function e(t){n(this,e),this._element=t}return e.prototype.close=function(t){t=t||this._element;var e=this._getRootElement(t);this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.prototype.dispose=function(){t.removeData(this._element,"bs.alert"),this._element=null},e.prototype._getRootElement=function(e){var n=o.getSelectorFromElement(e),i=!1;return n&&(i=t(n)[0]),i||(i=t(e).closest("."+c.ALERT)[0]),i},e.prototype._triggerCloseEvent=function(e){var n=t.Event(a.CLOSE);return t(e).trigger(n),n},e.prototype._removeElement=function(e){var n=this;if(t(e).removeClass(c.SHOW),!o.supportsTransitionEnd()||!t(e).hasClass(c.FADE))return void this._destroyElement(e);t(e).one(o.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(150)},e.prototype._destroyElement=function(e){t(e).detach().trigger(a.CLOSED).remove()},e._jQueryInterface=function(n){return this.each(function(){var i=t(this),r=i.data("bs.alert");r||(r=new e(this),i.data("bs.alert",r)),"close"===n&&r[n](this)})},e._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(e,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}}]),e}();t(document).on(a.CLICK_DATA_API,s.DISMISS,u._handleDismiss(new u)),t.fn[e]=u._jQueryInterface,t.fn[e].Constructor=u,t.fn[e].noConflict=function(){return t.fn[e]=i,u._jQueryInterface}}(jQuery),function(t){var e="button",i=t.fn[e],o={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},s={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},a={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},c=function(){function e(t){n(this,e),this._element=t}return e.prototype.toggle=function(){var e=!0,n=t(this._element).closest(s.DATA_TOGGLE)[0];if(n){var i=t(this._element).find(s.INPUT)[0];if(i){if("radio"===i.type)if(i.checked&&t(this._element).hasClass(o.ACTIVE))e=!1;else{var r=t(n).find(s.ACTIVE)[0];r&&t(r).removeClass(o.ACTIVE)}e&&(i.checked=!t(this._element).hasClass(o.ACTIVE),t(i).trigger("change")),i.focus()}}this._element.setAttribute("aria-pressed",!t(this._element).hasClass(o.ACTIVE)),e&&t(this._element).toggleClass(o.ACTIVE)},e.prototype.dispose=function(){t.removeData(this._element,"bs.button"),this._element=null},e._jQueryInterface=function(n){return this.each(function(){var i=t(this).data("bs.button");i||(i=new e(this),t(this).data("bs.button",i)),"toggle"===n&&i[n]()})},r(e,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}}]),e}();t(document).on(a.CLICK_DATA_API,s.DATA_TOGGLE_CARROT,function(e){e.preventDefault();var n=e.target;t(n).hasClass(o.BUTTON)||(n=t(n).closest(s.BUTTON)),c._jQueryInterface.call(t(n),"toggle")}).on(a.FOCUS_BLUR_DATA_API,s.DATA_TOGGLE_CARROT,function(e){var n=t(e.target).closest(s.BUTTON)[0];t(n).toggleClass(o.FOCUS,/^focus(in)?$/.test(e.type))}),t.fn[e]=c._jQueryInterface,t.fn[e].Constructor=c,t.fn[e].noConflict=function(){return t.fn[e]=i,c._jQueryInterface}}(jQuery),function(t){var e="carousel",s="bs.carousel",a="."+s,c=t.fn[e],u={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},h={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},l={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},f={SLIDE:"slide"+a,SLID:"slid"+a,KEYDOWN:"keydown"+a,MOUSEENTER:"mouseenter"+a,MOUSELEAVE:"mouseleave"+a,LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},d={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},p={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},g=function(){function c(e,i){n(this,c),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this._config=this._getConfig(i),this._element=t(e)[0],this._indicatorsElement=t(this._element).find(p.INDICATORS)[0],this._addEventListeners()}return c.prototype.next=function(){if(this._isSliding)throw new Error("Carousel is sliding");this._slide(l.NEXT)},c.prototype.nextWhenVisible=function(){document.hidden||this.next()},c.prototype.prev=function(){if(this._isSliding)throw new Error("Carousel is sliding");this._slide(l.PREVIOUS)},c.prototype.pause=function(e){e||(this._isPaused=!0),t(this._element).find(p.NEXT_PREV)[0]&&o.supportsTransitionEnd()&&(o.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},c.prototype.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},c.prototype.to=function(e){var n=this;this._activeElement=t(this._element).find(p.ACTIVE_ITEM)[0];var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0)){if(this._isSliding)return void t(this._element).one(f.SLID,function(){return n.to(e)});if(i===e)return this.pause(),void this.cycle();var r=e>i?l.NEXT:l.PREVIOUS;this._slide(r,this._items[e])}},c.prototype.dispose=function(){t(this._element).off(a),t.removeData(this._element,s),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},c.prototype._getConfig=function(n){return n=t.extend({},u,n),o.typeCheckConfig(e,n,h),n},c.prototype._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(f.KEYDOWN,function(t){return e._keydown(t)}),"hover"!==this._config.pause||"ontouchstart"in document.documentElement||t(this._element).on(f.MOUSEENTER,function(t){return e.pause(t)}).on(f.MOUSELEAVE,function(t){return e.cycle(t)})},c.prototype._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next();break;default:return}},c.prototype._getItemIndex=function(e){return this._items=t.makeArray(t(e).parent().find(p.ITEM)),this._items.indexOf(e)},c.prototype._getItemByDirection=function(t,e){var n=t===l.NEXT,i=t===l.PREVIOUS,r=this._getItemIndex(e),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return e;var s=(r+(t===l.PREVIOUS?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},c.prototype._triggerSlideEvent=function(e,n){var i=t.Event(f.SLIDE,{relatedTarget:e,direction:n});return t(this._element).trigger(i),i},c.prototype._setActiveIndicatorElement=function(e){if(this._indicatorsElement){t(this._indicatorsElement).find(p.ACTIVE).removeClass(d.ACTIVE);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&t(n).addClass(d.ACTIVE)}},c.prototype._slide=function(e,n){var i=this,r=t(this._element).find(p.ACTIVE_ITEM)[0],s=n||r&&this._getItemByDirection(e,r),a=Boolean(this._interval),c=void 0,u=void 0,h=void 0;if(e===l.NEXT?(c=d.LEFT,u=d.NEXT,h=l.LEFT):(c=d.RIGHT,u=d.PREV,h=l.RIGHT),s&&t(s).hasClass(d.ACTIVE))return void(this._isSliding=!1);if(!this._triggerSlideEvent(s,h).isDefaultPrevented()&&r&&s){this._isSliding=!0,a&&this.pause(),this._setActiveIndicatorElement(s);var g=t.Event(f.SLID,{relatedTarget:s,direction:h});o.supportsTransitionEnd()&&t(this._element).hasClass(d.SLIDE)?(t(s).addClass(u),o.reflow(s),t(r).addClass(c),t(s).addClass(c),t(r).one(o.TRANSITION_END,function(){t(s).removeClass(c+" "+u).addClass(d.ACTIVE),t(r).removeClass(d.ACTIVE+" "+u+" "+c),i._isSliding=!1,setTimeout(function(){return t(i._element).trigger(g)},0)}).emulateTransitionEnd(600)):(t(r).removeClass(d.ACTIVE),t(s).addClass(d.ACTIVE),this._isSliding=!1,t(this._element).trigger(g)),a&&this.cycle()}},c._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(s),r=t.extend({},u,t(this).data());"object"===(void 0===e?"undefined":i(e))&&t.extend(r,e);var o="string"==typeof e?e:r.slide;if(n||(n=new c(this,r),t(this).data(s,n)),"number"==typeof e)n.to(e);else if("string"==typeof o){if(void 0===n[o])throw new Error('No method named "'+o+'"');n[o]()}else r.interval&&(n.pause(),n.cycle())})},c._dataApiClickHandler=function(e){var n=o.getSelectorFromElement(this);if(n){var i=t(n)[0];if(i&&t(i).hasClass(d.CAROUSEL)){var r=t.extend({},t(i).data(),t(this).data()),a=this.getAttribute("data-slide-to");a&&(r.interval=!1),c._jQueryInterface.call(t(i),r),a&&t(i).data(s).to(a),e.preventDefault()}}},r(c,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return u}}]),c}();t(document).on(f.CLICK_DATA_API,p.DATA_SLIDE,g._dataApiClickHandler),t(window).on(f.LOAD_DATA_API,function(){t(p.DATA_RIDE).each(function(){var e=t(this);g._jQueryInterface.call(e,e.data())})}),t.fn[e]=g._jQueryInterface,t.fn[e].Constructor=g,t.fn[e].noConflict=function(){return t.fn[e]=c,g._jQueryInterface}}(jQuery),function(t){var e="collapse",s="bs.collapse",a=t.fn[e],c={toggle:!0,parent:""},u={toggle:"boolean",parent:"string"},h={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},l={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},f={WIDTH:"width",HEIGHT:"height"},d={ACTIVES:".card > .show, .card > .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},p=function(){function a(e,i){n(this,a),this._isTransitioning=!1,this._element=e,this._config=this._getConfig(i),this._triggerArray=t.makeArray(t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]')),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return a.prototype.toggle=function(){t(this._element).hasClass(l.SHOW)?this.hide():this.show()},a.prototype.show=function(){var e=this;if(this._isTransitioning)throw new Error("Collapse is transitioning");if(!t(this._element).hasClass(l.SHOW)){var n=void 0,i=void 0;if(this._parent&&((n=t.makeArray(t(this._parent).find(d.ACTIVES))).length||(n=null)),!(n&&(i=t(n).data(s))&&i._isTransitioning)){var r=t.Event(h.SHOW);if(t(this._element).trigger(r),!r.isDefaultPrevented()){n&&(a._jQueryInterface.call(t(n),"hide"),i||t(n).data(s,null));var c=this._getDimension();t(this._element).removeClass(l.COLLAPSE).addClass(l.COLLAPSING),this._element.style[c]=0,this._element.setAttribute("aria-expanded",!0),this._triggerArray.length&&t(this._triggerArray).removeClass(l.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var u=function(){t(e._element).removeClass(l.COLLAPSING).addClass(l.COLLAPSE).addClass(l.SHOW),e._element.style[c]="",e.setTransitioning(!1),t(e._element).trigger(h.SHOWN)};if(!o.supportsTransitionEnd())return void u();var f="scroll"+(c[0].toUpperCase()+c.slice(1));t(this._element).one(o.TRANSITION_END,u).emulateTransitionEnd(600),this._element.style[c]=this._element[f]+"px"}}}},a.prototype.hide=function(){var e=this;if(this._isTransitioning)throw new Error("Collapse is transitioning");if(t(this._element).hasClass(l.SHOW)){var n=t.Event(h.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension(),r=i===f.WIDTH?"offsetWidth":"offsetHeight";this._element.style[i]=this._element[r]+"px",o.reflow(this._element),t(this._element).addClass(l.COLLAPSING).removeClass(l.COLLAPSE).removeClass(l.SHOW),this._element.setAttribute("aria-expanded",!1),this._triggerArray.length&&t(this._triggerArray).addClass(l.COLLAPSED).attr("aria-expanded",!1),this.setTransitioning(!0);var s=function(){e.setTransitioning(!1),t(e._element).removeClass(l.COLLAPSING).addClass(l.COLLAPSE).trigger(h.HIDDEN)};if(this._element.style[i]="",!o.supportsTransitionEnd())return void s();t(this._element).one(o.TRANSITION_END,s).emulateTransitionEnd(600)}}},a.prototype.setTransitioning=function(t){this._isTransitioning=t},a.prototype.dispose=function(){t.removeData(this._element,s),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},a.prototype._getConfig=function(n){return n=t.extend({},c,n),n.toggle=Boolean(n.toggle),o.typeCheckConfig(e,n,u),n},a.prototype._getDimension=function(){return t(this._element).hasClass(f.WIDTH)?f.WIDTH:f.HEIGHT},a.prototype._getParent=function(){var e=this,n=t(this._config.parent)[0],i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return t(n).find(i).each(function(t,n){e._addAriaAndCollapsedClass(a._getTargetFromElement(n),[n])}),n},a.prototype._addAriaAndCollapsedClass=function(e,n){if(e){var i=t(e).hasClass(l.SHOW);e.setAttribute("aria-expanded",i),n.length&&t(n).toggleClass(l.COLLAPSED,!i).attr("aria-expanded",i)}},a._getTargetFromElement=function(e){var n=o.getSelectorFromElement(e);return n?t(n)[0]:null},a._jQueryInterface=function(e){return this.each(function(){var n=t(this),r=n.data(s),o=t.extend({},c,n.data(),"object"===(void 0===e?"undefined":i(e))&&e);if(!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||(r=new a(this,o),n.data(s,r)),"string"==typeof e){if(void 0===r[e])throw new Error('No method named "'+e+'"');r[e]()}})},r(a,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return c}}]),a}();t(document).on(h.CLICK_DATA_API,d.DATA_TOGGLE,function(e){e.preventDefault();var n=p._getTargetFromElement(this),i=t(n).data(s)?"toggle":t(this).data();p._jQueryInterface.call(t(n),i)}),t.fn[e]=p._jQueryInterface,t.fn[e].Constructor=p,t.fn[e].noConflict=function(){return t.fn[e]=a,p._jQueryInterface}}(jQuery),function(t){var e="dropdown",i=".bs.dropdown",s=t.fn[e],a={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,CLICK:"click"+i,CLICK_DATA_API:"click.bs.dropdown.data-api",FOCUSIN_DATA_API:"focusin.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api"},c={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",SHOW:"show"},u={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},h=function(){function e(t){n(this,e),this._element=t,this._addEventListeners()}return e.prototype.toggle=function(){if(this.disabled||t(this).hasClass(c.DISABLED))return!1;var n=e._getParentFromElement(this),i=t(n).hasClass(c.SHOW);if(e._clearMenus(),i)return!1;if("ontouchstart"in document.documentElement&&!t(n).closest(u.NAVBAR_NAV).length){var r=document.createElement("div");r.className=c.BACKDROP,t(r).insertBefore(this),t(r).on("click",e._clearMenus)}var o={relatedTarget:this},s=t.Event(a.SHOW,o);return t(n).trigger(s),!s.isDefaultPrevented()&&(this.focus(),this.setAttribute("aria-expanded",!0),t(n).toggleClass(c.SHOW),t(n).trigger(t.Event(a.SHOWN,o)),!1)},e.prototype.dispose=function(){t.removeData(this._element,"bs.dropdown"),t(this._element).off(i),this._element=null},e.prototype._addEventListeners=function(){t(this._element).on(a.CLICK,this.toggle)},e._jQueryInterface=function(n){return this.each(function(){var i=t(this).data("bs.dropdown");if(i||(i=new e(this),t(this).data("bs.dropdown",i)),"string"==typeof n){if(void 0===i[n])throw new Error('No method named "'+n+'"');i[n].call(this)}})},e._clearMenus=function(n){if(!n||3!==n.which){var i=t(u.BACKDROP)[0];i&&i.parentNode.removeChild(i);for(var r=t.makeArray(t(u.DATA_TOGGLE)),o=0;o<r.length;o++){var s=e._getParentFromElement(r[o]),h={relatedTarget:r[o]};if(t(s).hasClass(c.SHOW)&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"focusin"===n.type)&&t.contains(s,n.target))){var l=t.Event(a.HIDE,h);t(s).trigger(l),l.isDefaultPrevented()||(r[o].setAttribute("aria-expanded","false"),t(s).removeClass(c.SHOW).trigger(t.Event(a.HIDDEN,h)))}}}},e._getParentFromElement=function(e){var n=void 0,i=o.getSelectorFromElement(e);return i&&(n=t(i)[0]),n||e.parentNode},e._dataApiKeydownHandler=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!t(this).hasClass(c.DISABLED))){var i=e._getParentFromElement(this),r=t(i).hasClass(c.SHOW);if(!r&&27!==n.which||r&&27===n.which){if(27===n.which){var o=t(i).find(u.DATA_TOGGLE)[0];t(o).trigger("focus")}return void t(this).trigger("click")}var s=t(i).find(u.VISIBLE_ITEMS).get();if(s.length){var a=s.indexOf(n.target);38===n.which&&a>0&&a--,40===n.which&&a<s.length-1&&a++,a<0&&(a=0),s[a].focus()}}},r(e,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}}]),e}();t(document).on(a.KEYDOWN_DATA_API,u.DATA_TOGGLE,h._dataApiKeydownHandler).on(a.KEYDOWN_DATA_API,u.ROLE_MENU,h._dataApiKeydownHandler).on(a.KEYDOWN_DATA_API,u.ROLE_LISTBOX,h._dataApiKeydownHandler).on(a.CLICK_DATA_API+" "+a.FOCUSIN_DATA_API,h._clearMenus).on(a.CLICK_DATA_API,u.DATA_TOGGLE,h.prototype.toggle).on(a.CLICK_DATA_API,u.FORM_CHILD,function(t){t.stopPropagation()}),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=s,h._jQueryInterface}}(jQuery),function(t){var e="modal",s=".bs.modal",a=t.fn[e],c={backdrop:!0,keyboard:!0,focus:!0,show:!0},u={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},h={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},l={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},f={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"},d=function(){function a(e,i){n(this,a),this._config=this._getConfig(i),this._element=e,this._dialog=t(e).find(f.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return a.prototype.toggle=function(t){return this._isShown?this.hide():this.show(t)},a.prototype.show=function(e){var n=this;if(this._isTransitioning)throw new Error("Modal is transitioning");o.supportsTransitionEnd()&&t(this._element).hasClass(l.FADE)&&(this._isTransitioning=!0);var i=t.Event(h.SHOW,{relatedTarget:e});t(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),t(document.body).addClass(l.OPEN),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(h.CLICK_DISMISS,f.DATA_DISMISS,function(t){return n.hide(t)}),t(this._dialog).on(h.MOUSEDOWN_DISMISS,function(){t(n._element).one(h.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))},a.prototype.hide=function(e){var n=this;if(e&&e.preventDefault(),this._isTransitioning)throw new Error("Modal is transitioning");var i=o.supportsTransitionEnd()&&t(this._element).hasClass(l.FADE);i&&(this._isTransitioning=!0);var r=t.Event(h.HIDE);t(this._element).trigger(r),this._isShown&&!r.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),t(document).off(h.FOCUSIN),t(this._element).removeClass(l.SHOW),t(this._element).off(h.CLICK_DISMISS),t(this._dialog).off(h.MOUSEDOWN_DISMISS),i?t(this._element).one(o.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(300):this._hideModal())},a.prototype.dispose=function(){t.removeData(this._element,"bs.modal"),t(window,document,this._element,this._backdrop).off(s),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._originalBodyPadding=null,this._scrollbarWidth=null},a.prototype._getConfig=function(n){return n=t.extend({},c,n),o.typeCheckConfig(e,n,u),n},a.prototype._showElement=function(e){var n=this,i=o.supportsTransitionEnd()&&t(this._element).hasClass(l.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&o.reflow(this._element),t(this._element).addClass(l.SHOW),this._config.focus&&this._enforceFocus();var r=t.Event(h.SHOWN,{relatedTarget:e}),s=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(r)};i?t(this._dialog).one(o.TRANSITION_END,s).emulateTransitionEnd(300):s()},a.prototype._enforceFocus=function(){var e=this;t(document).off(h.FOCUSIN).on(h.FOCUSIN,function(n){document===n.target||e._element===n.target||t(e._element).has(n.target).length||e._element.focus()})},a.prototype._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(h.KEYDOWN_DISMISS,function(t){27===t.which&&e.hide()}):this._isShown||t(this._element).off(h.KEYDOWN_DISMISS)},a.prototype._setResizeEvent=function(){var e=this;this._isShown?t(window).on(h.RESIZE,function(t){return e._handleUpdate(t)}):t(window).off(h.RESIZE)},a.prototype._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden","true"),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(l.OPEN),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(h.HIDDEN)})},a.prototype._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},a.prototype._showBackdrop=function(e){var n=this,i=t(this._element).hasClass(l.FADE)?l.FADE:"";if(this._isShown&&this._config.backdrop){var r=o.supportsTransitionEnd()&&i;if(this._backdrop=document.createElement("div"),this._backdrop.className=l.BACKDROP,i&&t(this._backdrop).addClass(i),t(this._backdrop).appendTo(document.body),t(this._element).on(h.CLICK_DISMISS,function(t){if(n._ignoreBackdropClick)return void(n._ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),r&&o.reflow(this._backdrop),t(this._backdrop).addClass(l.SHOW),!e)return;if(!r)return void e();t(this._backdrop).one(o.TRANSITION_END,e).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(l.SHOW);var s=function(){n._removeBackdrop(),e&&e()};o.supportsTransitionEnd()&&t(this._element).hasClass(l.FADE)?t(this._backdrop).one(o.TRANSITION_END,s).emulateTransitionEnd(150):s()}else e&&e()},a.prototype._handleUpdate=function(){this._adjustDialog()},a.prototype._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},a.prototype._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},a.prototype._checkScrollbar=function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},a.prototype._setScrollbar=function(){var e=parseInt(t(f.FIXED_CONTENT).css("padding-right")||0,10);this._originalBodyPadding=document.body.style.paddingRight||"",this._isBodyOverflowing&&(document.body.style.paddingRight=e+this._scrollbarWidth+"px")},a.prototype._resetScrollbar=function(){document.body.style.paddingRight=this._originalBodyPadding},a.prototype._getScrollbarWidth=function(){var t=document.createElement("div");t.className=l.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},a._jQueryInterface=function(e,n){return this.each(function(){var r=t(this).data("bs.modal"),o=t.extend({},a.Default,t(this).data(),"object"===(void 0===e?"undefined":i(e))&&e);if(r||(r=new a(this,o),t(this).data("bs.modal",r)),"string"==typeof e){if(void 0===r[e])throw new Error('No method named "'+e+'"');r[e](n)}else o.show&&r.show(n)})},r(a,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return c}}]),a}();t(document).on(h.CLICK_DATA_API,f.DATA_TOGGLE,function(e){var n=this,i=void 0,r=o.getSelectorFromElement(this);r&&(i=t(r)[0]);var s=t(i).data("bs.modal")?"toggle":t.extend({},t(i).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var a=t(i).one(h.SHOW,function(e){e.isDefaultPrevented()||a.one(h.HIDDEN,function(){t(n).is(":visible")&&n.focus()})});d._jQueryInterface.call(t(i),s,this)}),t.fn[e]=d._jQueryInterface,t.fn[e].Constructor=d,t.fn[e].noConflict=function(){return t.fn[e]=a,d._jQueryInterface}}(jQuery),function(t){var e="scrollspy",s=t.fn[e],a={offset:10,method:"auto",target:""},c={offset:"number",method:"string",target:"(string|element)"},u={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},h={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",NAV_LINK:"nav-link",NAV:"nav",ACTIVE:"active"},l={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",LIST_ITEM:".list-item",LI:"li",LI_DROPDOWN:"li.dropdown",NAV_LINKS:".nav-link",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},f={OFFSET:"offset",POSITION:"position"},d=function(){function s(e,i){var r=this;n(this,s),this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(i),this._selector=this._config.target+" "+l.NAV_LINKS+","+this._config.target+" "+l.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(u.SCROLL,function(t){return r._process(t)}),this.refresh(),this._process()}return s.prototype.refresh=function(){var e=this,n=this._scrollElement!==this._scrollElement.window?f.POSITION:f.OFFSET,i="auto"===this._config.method?n:this._config.method,r=i===f.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),t.makeArray(t(this._selector)).map(function(e){var n=void 0,s=o.getSelectorFromElement(e);return s&&(n=t(s)[0]),n&&(n.offsetWidth||n.offsetHeight)?[t(n)[i]().top+r,s]:null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},s.prototype.dispose=function(){t.removeData(this._element,"bs.scrollspy"),t(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},s.prototype._getConfig=function(n){if("string"!=typeof(n=t.extend({},a,n)).target){var i=t(n.target).attr("id");i||(i=o.getUID(e),t(n.target).attr("id",i)),n.target="#"+i}return o.typeCheckConfig(e,n,c),n},s.prototype._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},s.prototype._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},s.prototype._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.offsetHeight},s.prototype._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];return void(this._activeTarget!==i&&this._activate(i))}if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])},s.prototype._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",");n=n.map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'});var i=t(n.join(","));i.hasClass(h.DROPDOWN_ITEM)?(i.closest(l.DROPDOWN).find(l.DROPDOWN_TOGGLE).addClass(h.ACTIVE),i.addClass(h.ACTIVE)):i.parents(l.LI).find("> "+l.NAV_LINKS).addClass(h.ACTIVE),t(this._scrollElement).trigger(u.ACTIVATE,{relatedTarget:e})},s.prototype._clear=function(){t(this._selector).filter(l.ACTIVE).removeClass(h.ACTIVE)},s._jQueryInterface=function(e){return this.each(function(){var n=t(this).data("bs.scrollspy"),r="object"===(void 0===e?"undefined":i(e))&&e;if(n||(n=new s(this,r),t(this).data("bs.scrollspy",n)),"string"==typeof e){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},r(s,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return a}}]),s}();t(window).on(u.LOAD_DATA_API,function(){for(var e=t.makeArray(t(l.DATA_SPY)),n=e.length;n--;){var i=t(e[n]);d._jQueryInterface.call(i,i.data())}}),t.fn[e]=d._jQueryInterface,t.fn[e].Constructor=d,t.fn[e].noConflict=function(){return t.fn[e]=s,d._jQueryInterface}}(jQuery),function(t){var e=t.fn.tab,i={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},s={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},a={A:"a",LI:"li",DROPDOWN:".dropdown",LIST:"ul:not(.dropdown-menu), ol:not(.dropdown-menu), nav:not(.dropdown-menu)",FADE_CHILD:"> .nav-item .fade, > .fade",ACTIVE:".active",ACTIVE_CHILD:"> .nav-item > .active, > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},c=function(){function e(t){n(this,e),this._element=t}return e.prototype.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(s.ACTIVE)||t(this._element).hasClass(s.DISABLED))){var n=void 0,r=void 0,c=t(this._element).closest(a.LIST)[0],u=o.getSelectorFromElement(this._element);c&&(r=t.makeArray(t(c).find(a.ACTIVE)),r=r[r.length-1]);var h=t.Event(i.HIDE,{relatedTarget:this._element}),l=t.Event(i.SHOW,{relatedTarget:r});if(r&&t(r).trigger(h),t(this._element).trigger(l),!l.isDefaultPrevented()&&!h.isDefaultPrevented()){u&&(n=t(u)[0]),this._activate(this._element,c);var f=function(){var n=t.Event(i.HIDDEN,{relatedTarget:e._element}),o=t.Event(i.SHOWN,{relatedTarget:r});t(r).trigger(n),t(e._element).trigger(o)};n?this._activate(n,n.parentNode,f):f()}}},e.prototype.dispose=function(){t.removeClass(this._element,"bs.tab"),this._element=null},e.prototype._activate=function(e,n,i){var r=this,c=t(n).find(a.ACTIVE_CHILD)[0],u=i&&o.supportsTransitionEnd()&&(c&&t(c).hasClass(s.FADE)||Boolean(t(n).find(a.FADE_CHILD)[0])),h=function(){return r._transitionComplete(e,c,u,i)};c&&u?t(c).one(o.TRANSITION_END,h).emulateTransitionEnd(150):h(),c&&t(c).removeClass(s.SHOW)},e.prototype._transitionComplete=function(e,n,i,r){if(n){t(n).removeClass(s.ACTIVE);var c=t(n.parentNode).find(a.DROPDOWN_ACTIVE_CHILD)[0];c&&t(c).removeClass(s.ACTIVE),n.setAttribute("aria-expanded",!1)}if(t(e).addClass(s.ACTIVE),e.setAttribute("aria-expanded",!0),i?(o.reflow(e),t(e).addClass(s.SHOW)):t(e).removeClass(s.FADE),e.parentNode&&t(e.parentNode).hasClass(s.DROPDOWN_MENU)){var u=t(e).closest(a.DROPDOWN)[0];u&&t(u).find(a.DROPDOWN_TOGGLE).addClass(s.ACTIVE),e.setAttribute("aria-expanded",!0)}r&&r()},e._jQueryInterface=function(n){return this.each(function(){var i=t(this),r=i.data("bs.tab");if(r||(r=new e(this),i.data("bs.tab",r)),"string"==typeof n){if(void 0===r[n])throw new Error('No method named "'+n+'"');r[n]()}})},r(e,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}}]),e}();t(document).on(i.CLICK_DATA_API,a.DATA_TOGGLE,function(e){e.preventDefault(),c._jQueryInterface.call(t(this),"show")}),t.fn.tab=c._jQueryInterface,t.fn.tab.Constructor=c,t.fn.tab.noConflict=function(){return t.fn.tab=e,c._jQueryInterface}}(jQuery),function(t){if("undefined"==typeof Tether)throw new Error("Bootstrap tooltips require Tether (http://tether.io/)");var e="tooltip",s=".bs.tooltip",a=t.fn[e],c={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:"0 0",constraints:[],container:!1},u={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"string",constraints:"array",container:"(string|element|boolean)"},h={TOP:"bottom center",RIGHT:"middle left",BOTTOM:"top center",LEFT:"middle right"},l={SHOW:"show",OUT:"out"},f={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,INSERTED:"inserted"+s,CLICK:"click"+s,FOCUSIN:"focusin"+s,FOCUSOUT:"focusout"+s,MOUSEENTER:"mouseenter"+s,MOUSELEAVE:"mouseleave"+s},d={FADE:"fade",SHOW:"show"},p={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner"},g={element:!1,enabled:!1},v={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},m=function(){function a(t,e){n(this,a),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._isTransitioning=!1,this._tether=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}return a.prototype.enable=function(){this._isEnabled=!0},a.prototype.disable=function(){this._isEnabled=!1},a.prototype.toggleEnabled=function(){this._isEnabled=!this._isEnabled},a.prototype.toggle=function(e){if(e){var n=this.constructor.DATA_KEY,i=t(e.currentTarget).data(n);i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(t(this.getTipElement()).hasClass(d.SHOW))return void this._leave(null,this);this._enter(null,this)}},a.prototype.dispose=function(){clearTimeout(this._timeout),this.cleanupTether(),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._tether=null,this.element=null,this.config=null,this.tip=null},a.prototype.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var n=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){if(this._isTransitioning)throw new Error("Tooltip is transitioning");t(this.element).trigger(n);var i=t.contains(this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!i)return;var r=this.getTipElement(),s=o.getUID(this.constructor.NAME);r.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&t(r).addClass(d.FADE);var c="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,u=this._getAttachment(c),h=!1===this.config.container?document.body:t(this.config.container);t(r).data(this.constructor.DATA_KEY,this).appendTo(h),t(this.element).trigger(this.constructor.Event.INSERTED),this._tether=new Tether({attachment:u,element:r,target:this.element,classes:g,classPrefix:"bs-tether",offset:this.config.offset,constraints:this.config.constraints,addTargetClasses:!1}),o.reflow(r),this._tether.position(),t(r).addClass(d.SHOW);var f=function(){var n=e._hoverState;e._hoverState=null,e._isTransitioning=!1,t(e.element).trigger(e.constructor.Event.SHOWN),n===l.OUT&&e._leave(null,e)};if(o.supportsTransitionEnd()&&t(this.tip).hasClass(d.FADE))return this._isTransitioning=!0,void t(this.tip).one(o.TRANSITION_END,f).emulateTransitionEnd(a._TRANSITION_DURATION);f()}},a.prototype.hide=function(e){var n=this,i=this.getTipElement(),r=t.Event(this.constructor.Event.HIDE);if(this._isTransitioning)throw new Error("Tooltip is transitioning");var s=function(){n._hoverState!==l.SHOW&&i.parentNode&&i.parentNode.removeChild(i),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),n._isTransitioning=!1,n.cleanupTether(),e&&e()};t(this.element).trigger(r),r.isDefaultPrevented()||(t(i).removeClass(d.SHOW),this._activeTrigger[v.CLICK]=!1,this._activeTrigger[v.FOCUS]=!1,this._activeTrigger[v.HOVER]=!1,o.supportsTransitionEnd()&&t(this.tip).hasClass(d.FADE)?(this._isTransitioning=!0,t(i).one(o.TRANSITION_END,s).emulateTransitionEnd(150)):s(),this._hoverState="")},a.prototype.isWithContent=function(){return Boolean(this.getTitle())},a.prototype.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0]},a.prototype.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(p.TOOLTIP_INNER),this.getTitle()),e.removeClass(d.FADE+" "+d.SHOW),this.cleanupTether()},a.prototype.setElementContent=function(e,n){var r=this.config.html;"object"===(void 0===n?"undefined":i(n))&&(n.nodeType||n.jquery)?r?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[r?"html":"text"](n)},a.prototype.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},a.prototype.cleanupTether=function(){this._tether&&this._tether.destroy()},a.prototype._getAttachment=function(t){return h[t.toUpperCase()]},a.prototype._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(n!==v.MANUAL){var i=n===v.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r=n===v.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(i,e.config.selector,function(t){return e._enter(t)}).on(r,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=t.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},a.prototype._fixTitle=function(){var t=i(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},a.prototype._enter=function(e,n){var i=this.constructor.DATA_KEY;return(n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusin"===e.type?v.FOCUS:v.HOVER]=!0),t(n.getTipElement()).hasClass(d.SHOW)||n._hoverState===l.SHOW?void(n._hoverState=l.SHOW):(clearTimeout(n._timeout),n._hoverState=l.SHOW,n.config.delay&&n.config.delay.show?void(n._timeout=setTimeout(function(){n._hoverState===l.SHOW&&n.show()},n.config.delay.show)):void n.show())},a.prototype._leave=function(e,n){var i=this.constructor.DATA_KEY;if((n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusout"===e.type?v.FOCUS:v.HOVER]=!1),!n._isWithActiveTrigger()){if(clearTimeout(n._timeout),n._hoverState=l.OUT,!n.config.delay||!n.config.delay.hide)return void n.hide();n._timeout=setTimeout(function(){n._hoverState===l.OUT&&n.hide()},n.config.delay.hide)}},a.prototype._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},a.prototype._getConfig=function(n){return(n=t.extend({},this.constructor.Default,t(this.element).data(),n)).delay&&"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),o.typeCheckConfig(e,n,this.constructor.DefaultType),n},a.prototype._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},a._jQueryInterface=function(e){return this.each(function(){var n=t(this).data("bs.tooltip"),r="object"===(void 0===e?"undefined":i(e))&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new a(this,r),t(this).data("bs.tooltip",n)),"string"==typeof e)){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},r(a,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return c}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return f}},{key:"EVENT_KEY",get:function(){return s}},{key:"DefaultType",get:function(){return u}}]),a}();return t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=a,m._jQueryInterface},m}(jQuery));!function(o){var a="popover",c=".bs.popover",u=o.fn[a],h=o.extend({},s.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),l=o.extend({},s.DefaultType,{content:"(string|element|function)"}),f={FADE:"fade",SHOW:"show"},d={TITLE:".popover-title",CONTENT:".popover-content"},p={HIDE:"hide"+c,HIDDEN:"hidden"+c,SHOW:"show"+c,SHOWN:"shown"+c,INSERTED:"inserted"+c,CLICK:"click"+c,FOCUSIN:"focusin"+c,FOCUSOUT:"focusout"+c,MOUSEENTER:"mouseenter"+c,MOUSELEAVE:"mouseleave"+c},g=function(s){function u(){return n(this,u),t(this,s.apply(this,arguments))}return e(u,s),u.prototype.isWithContent=function(){return this.getTitle()||this._getContent()},u.prototype.getTipElement=function(){return this.tip=this.tip||o(this.config.template)[0]},u.prototype.setContent=function(){var t=o(this.getTipElement());this.setElementContent(t.find(d.TITLE),this.getTitle()),this.setElementContent(t.find(d.CONTENT),this._getContent()),t.removeClass(f.FADE+" "+f.SHOW),this.cleanupTether()},u.prototype._getContent=function(){return this.element.getAttribute("data-content")||("function"==typeof this.config.content?this.config.content.call(this.element):this.config.content)},u._jQueryInterface=function(t){return this.each(function(){var e=o(this).data("bs.popover"),n="object"===(void 0===t?"undefined":i(t))?t:null;if((e||!/destroy|hide/.test(t))&&(e||(e=new u(this,n),o(this).data("bs.popover",e)),"string"==typeof t)){if(void 0===e[t])throw new Error('No method named "'+t+'"');e[t]()}})},r(u,null,[{key:"VERSION",get:function(){return"4.0.0-alpha.6"}},{key:"Default",get:function(){return h}},{key:"NAME",get:function(){return a}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return p}},{key:"EVENT_KEY",get:function(){return c}},{key:"DefaultType",get:function(){return l}}]),u}(s);o.fn[a]=g._jQueryInterface,o.fn[a].Constructor=g,o.fn[a].noConflict=function(){return o.fn[a]=u,g._jQueryInterface}}(jQuery)}()},{}],3:[function(t,e,n){(function(t){!function(t,i){"object"==typeof n&&void 0!==e?e.exports=i():"function"==typeof define&&define.amd?define(i):t.Dexie=i()}(this,function(){"use strict";function e(t,e){return"object"!=typeof e?t:(Dt(e).forEach(function(n){t[n]=e[n]}),t)}function n(t,e){return Rt.call(t,e)}function i(t,e){"function"==typeof e&&(e=e(Lt(t))),Dt(e).forEach(function(n){r(t,n,e[n])})}function r(t,i,r,o){Nt(t,i,e(r&&n(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},o))}function o(t){return{from:function(e){return t.prototype=Object.create(e.prototype),r(t.prototype,"constructor",t),{extend:i.bind(null,t.prototype)}}}}function s(t,e){var n;return Ft(t,e)||(n=Lt(t))&&s(n,e)}function a(t,e,n){return Bt.call(t,e,n)}function c(t,e){return e(t)}function u(t){var e=setTimeout(t,1e3);clearTimeout(e)}function h(t){if(!t)throw new Error("Assertion Failed")}function l(t){jt.setImmediate?setImmediate(t):setTimeout(t,0)}function f(t,e){return t.reduce(function(t,n,i){var r=e(n,i);return r&&(t[r[0]]=r[1]),t},{})}function d(t,e){return function(){try{t.apply(this,arguments)}catch(t){e(t)}}}function p(t,e,n){try{t.apply(null,n)}catch(t){e&&e(t)}}function g(t,e){if(n(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var i=[],r=0,o=e.length;r<o;++r){var s=g(t,e[r]);i.push(s)}return i}var a=e.indexOf(".");if(-1!==a){var c=t[e.substr(0,a)];return void 0===c?void 0:g(c,e.substr(a+1))}}function v(t,e,n){if(t&&void 0!==e&&!("isFrozen"in Object&&Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){h("string"!=typeof n&&"length"in n);for(var i=0,r=e.length;i<r;++i)v(t,e[i],n[i])}else{var o=e.indexOf(".");if(-1!==o){var s=e.substr(0,o),a=e.substr(o+1);if(""===a)void 0===n?delete t[s]:t[s]=n;else{var c=t[s];c||(c=t[s]={}),v(c,a,n)}}else void 0===n?delete t[e]:t[e]=n}}function m(t,e){"string"==typeof e?v(t,e,void 0):"length"in e&&[].map.call(e,function(e){v(t,e,void 0)})}function y(t){var e={};for(var i in t)n(t,i)&&(e[i]=t[i]);return e}function b(t){return Ht.apply([],t)}function _(t){if(!t||"object"!=typeof t)return t;var e;if(Mt(t)){e=[];for(var i=0,r=t.length;i<r;++i)e.push(_(t[i]))}else if(Wt.indexOf(t.constructor)>=0)e=t;else{e=t.constructor?Object.create(t.constructor.prototype):{};for(var o in t)n(t,o)&&(e[o]=_(t[o]))}return e}function w(t,e,i,r){return i=i||{},r=r||"",Dt(t).forEach(function(o){if(n(e,o)){var s=t[o],a=e[o];"object"==typeof s&&"object"==typeof a&&s&&a&&s.constructor===a.constructor?w(s,a,i,r+o+"."):s!==a&&(i[r+o]=e[o])}else i[r+o]=void 0}),Dt(e).forEach(function(o){n(t,o)||(i[r+o]=e[o])}),i}function x(t){var e,n,i,r;if(1===arguments.length){if(Mt(t))return t.slice();if(this===$t&&"string"==typeof t)return[t];if(r=Vt(t)){for(n=[];!(i=r.next()).done;)n.push(i.value);return n}if(null==t)return[t];if("number"==typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}function T(t,e){Ut=t,zt=e}function P(){if(Kt)try{throw P.arguments,new Error}catch(t){return t}return new Error}function C(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(zt).map(function(t){return"\n"+t}).join("")):""}function E(t,e){return function(){return console.warn(t+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+C(P(),1)),e.apply(this,arguments)}}function S(t,e){this._e=P(),this.name=t,this.message=e}function A(t,e){return t+". Errors: "+e.map(function(t){return t.toString()}).filter(function(t,e,n){return n.indexOf(t)===e}).join("\n")}function O(t,e,n,i){this._e=P(),this.failures=e,this.failedKeys=i,this.successCount=n}function k(t,e){this._e=P(),this.name="BulkError",this.failures=e,this.message=A(t,e)}function I(t,e){if(!t||t instanceof S||t instanceof TypeError||t instanceof SyntaxError||!t.name||!te[t.name])return t;var n=new te[t.name](e||t.message,t);return"stack"in t&&r(n,"stack",{get:function(){return this.inner.stack}}),n}function D(){}function M(t){return t}function j(t,e){return null==t||t===M?e:function(n){return e(t(n))}}function L(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function R(t,e){return t===D?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var i=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?L(i,this.onsuccess):i),r&&(this.onerror=this.onerror?L(r,this.onerror):r),void 0!==o?o:n}}function N(t,e){return t===D?e:function(){t.apply(this,arguments);var n=this.onsuccess,i=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?L(n,this.onsuccess):n),i&&(this.onerror=this.onerror?L(i,this.onerror):i)}}function F(t,n){return t===D?n:function(i){var r=t.apply(this,arguments);e(i,r);var o=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var a=n.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?L(o,this.onsuccess):o),s&&(this.onerror=this.onerror?L(s,this.onerror):s),void 0===r?void 0===a?void 0:a:e(r,a)}}function B(t,e){return t===D?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function H(t,e){return t===D?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var i=this,r=arguments.length,o=new Array(r);r--;)o[r]=arguments[r];return n.then(function(){return e.apply(i,o)})}return e.apply(this,arguments)}}function W(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=D,this._lib=!1;var e=this._PSD=Te;if(Ut&&(this._stackHolder=P(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==ne)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&$(this,this._value))}this._state=null,this._value=null,++e.ref,V(this,t)}function q(t,e,n,i,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i,this.psd=r}function V(t,e){try{e(function(e){if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&X();e&&"function"==typeof e.then?V(t,function(t,n){e instanceof W?e._then(t,n):e.then(t,n)}):(t._state=!0,t._value=e,U(t)),n&&Z()}},$.bind(null,t))}catch(e){$(t,e)}}function $(t,e){if(be.push(e),null===t._state){var n=t._lib&&X();e=we(e),t._state=!1,t._value=e,Ut&&null!==e&&"object"==typeof e&&!e._promise&&p(function(){var n=s(e,"stack");e._promise=t,r(e,"stack",{get:function(){return de?n&&(n.get?n.get.apply(e):n.value):t.stack}})}),et(t),U(t),n&&Z()}}function U(t){var e=t._listeners;t._listeners=[];for(var n=0,i=e.length;n<i;++n)z(t,e[n]);var r=t._PSD;--r.ref||r.finalize(),0===Ce&&(++Ce,ge(function(){0==--Ce&&J()},[]))}function z(t,e){if(null===t._state)return void t._listeners.push(e);var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Ce,ge(K,[n,t,e])}function K(t,e,n){try{_e=e;var i,r=e._value;e._state?i=t(r):(be.length&&(be=[]),i=t(r),-1===be.indexOf(r)&&nt(e)),n.resolve(i)}catch(t){n.reject(t)}finally{_e=null,0==--Ce&&J(),--n.psd.ref||n.psd.finalize()}}function G(t,e,n){if(e.length===n)return e;var i="";if(!1===t._state){var r,o,s=t._value;null!=s?(r=s.name||"Error",o=s.message||s,i=C(s,0)):(r=s,o=""),e.push(r+(o?": "+o:"")+i)}return Ut&&((i=C(t._stackHolder,2))&&-1===e.indexOf(i)&&e.push(i),t._prev&&G(t._prev,e,n)),e}function Y(t,e){var n=e?e._numPrev+1:0;n<ie&&(t._prev=e,t._numPrev=n)}function Q(){X()&&Z()}function X(){var t=ve;return ve=!1,me=!1,t}function Z(){var t,e,n;do{for(;Pe.length>0;)for(t=Pe,Pe=[],n=t.length,e=0;e<n;++e){var i=t[e];i[0].apply(null,i[1])}}while(Pe.length>0);ve=!0,me=!0}function J(){var t=ye;ye=[],t.forEach(function(t){t._PSD.onunhandled.call(null,t._value,t)});for(var e=Ee.slice(0),n=e.length;n;)e[--n]()}function tt(t){function e(){t(),Ee.splice(Ee.indexOf(e),1)}Ee.push(e),++Ce,ge(function(){0==--Ce&&J()},[])}function et(t){ye.some(function(e){return e._value===t._value})||ye.push(t)}function nt(t){for(var e=ye.length;e;)if(ye[--e]._value===t._value)return void ye.splice(e,1)}function it(t){return new W(ne,!1,t)}function rt(t,e){var n=Te;return function(){var i=X(),r=Te;try{return lt(n,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{lt(r,!1),i&&Z()}}}function ot(t,n,i,r){var o=Te,s=Object.create(o);s.parent=o,s.ref=0,s.global=!1,s.id=++Me;var a=xe.env;s.env=fe?{Promise:W,all:W.all,race:W.race,resolve:W.resolve,reject:W.reject,nthen:vt(a.nthen,s),gthen:vt(a.gthen,s)}:{},n&&e(s,n),++o.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var c=dt(s,t,i,r);return 0===s.ref&&s.finalize(),c}function st(){return Ae.id||(Ae.id=++Oe),++Ae.awaits,Ae.echoes+=re,Ae.id}function at(t){!Ae.awaits||t&&t!==Ae.id||(0==--Ae.awaits&&(Ae.id=0),Ae.echoes=Ae.awaits*re)}function ct(t){return Ae.echoes&&t&&t.constructor===he?(st(),t.then(function(t){return at(),t},function(t){return at(),Re(t)})):t}function ut(t){++De,Ae.echoes&&0!=--Ae.echoes||(Ae.echoes=Ae.id=0),ke.push(Te),lt(t,!0)}function ht(){var t=ke[ke.length-1];ke.pop(),lt(t,!1)}function lt(t,e){var n=Te;if((e?!Ae.echoes||Ie++&&t===Te:!Ie||--Ie&&t===Te)||pt(e?ut.bind(null,t):ht),t!==Te&&(Te=t,n===xe&&(xe.env=ft()),fe)){var i=xe.env.Promise,r=t.env;ae.then=r.nthen,i.prototype.then=r.gthen,(n.global||t.global)&&(jt.Promise=r.Promise,i.all=r.all,i.race=r.race,i.resolve=r.resolve,i.reject=r.reject)}}function ft(){var t=jt.Promise;return fe?{Promise:t,all:t.all,race:t.race,resolve:t.resolve,reject:t.reject,nthen:ae.then,gthen:t.prototype.then}:{}}function dt(t,e,n,i,r){var o=Te;try{return lt(t,!0),e(n,i,r)}finally{lt(o,!1)}}function pt(t){ue.call(se,t)}function gt(t,e,n){return"function"!=typeof t?t:function(){var i=Te;n&&st(),lt(e,!0);try{return t.apply(this,arguments)}finally{lt(i,!1)}}}function vt(t,e){return function(n,i){return t.call(this,gt(n,e,!1),gt(i,e,!1))}}function mt(t,n){var i;try{i=n.onuncatched(t)}catch(t){}if(!1!==i)try{var r,o={promise:n,reason:t};if(jt.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(je,!0,!0),e(r,o)):jt.CustomEvent&&e(r=new CustomEvent(je,{detail:o}),o),r&&jt.dispatchEvent&&(dispatchEvent(r),!jt.PromiseRejectionEvent&&jt.onunhandledrejection))try{jt.onunhandledrejection(r)}catch(t){}r.defaultPrevented||console.warn("Unhandled rejection: "+(t.stack||t))}catch(t){}}function yt(t){function e(t,e,o){if("object"==typeof t)return n(t);e||(e=B),o||(o=D);var s={subscribers:[],fire:o,subscribe:function(t){-1===s.subscribers.indexOf(t)&&(s.subscribers.push(t),s.fire=e(s.fire,t))},unsubscribe:function(t){s.subscribers=s.subscribers.filter(function(e){return e!==t}),s.fire=s.subscribers.reduce(e,o)}};return i[t]=r[t]=s,s}function n(t){Dt(t).forEach(function(n){var i=t[n];if(Mt(i))e(n,t[n][0],t[n][1]);else{if("asap"!==i)throw new Jt.InvalidArgument("Invalid event config");var r=e(n,M,function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];r.subscribers.forEach(function(t){l(function(){t.apply(null,e)})})})}})}var i={},r=function(e,n){if(n){for(var r=arguments.length,o=new Array(r-1);--r;)o[r-1]=arguments[r];return i[e].subscribe.apply(null,o),t}if("string"==typeof e)return i[e]};r.addEventType=e;for(var o=1,s=arguments.length;o<s;++o)e(arguments[o]);return r}function bt(t,o){function s(t){this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function l(t,e,n){var i=Zt._createTransaction(Xt,qt,Ht);i.create(e),i._completion.catch(n);var r=i._reject.bind(i);ot(function(){Te.trans=i,0===t?(Dt(Ht).forEach(function(t){C(e,t,Ht[t].primKey,Ht[t].indexes)}),W.follow(function(){return Zt.on.populate.fire(i)}).catch(r)):m(t,i,e).catch(r)})}function m(t,e,n){function i(){return r.length?W.resolve(r.shift()(e.idbtrans)).then(i):W.resolve()}var r=[],o=Wt.filter(function(e){return e._cfg.version===t})[0];if(!o)throw new Jt.Upgrade("Dexie specification of currently installed DB version is missing");Ht=Zt._dbSchema=o._cfg.dbschema;var s=!1;return Wt.filter(function(e){return e._cfg.version>t}).forEach(function(t){r.push(function(){var i=Ht,r=t._cfg.dbschema;pt(i,n),pt(r,n),Ht=Zt._dbSchema=r;var o=T(i,r);if(o.add.forEach(function(t){C(n,t[0],t[1].primKey,t[1].indexes)}),o.change.forEach(function(t){if(t.recreate)throw new Jt.Upgrade("Not yet support for changing primary key");var e=n.objectStore(t.name);t.add.forEach(function(t){I(e,t)}),t.change.forEach(function(t){e.deleteIndex(t.name),I(e,t)}),t.del.forEach(function(t){e.deleteIndex(t)})}),t._cfg.contentUpgrade)return s=!0,W.follow(function(){t._cfg.contentUpgrade(e)})}),r.push(function(e){s&&$e||A(t._cfg.dbschema,e)})}),i().then(function(){S(Ht,n)})}function T(t,e){var n={del:[],add:[],change:[]};for(var i in t)e[i]||n.del.push(i);for(i in e){var r=t[i],o=e[i];if(r){var s={name:i,def:o,recreate:!1,del:[],add:[],change:[]};if(r.primKey.src!==o.primKey.src)s.recreate=!0,n.change.push(s);else{var a=r.idxByName,c=o.idxByName;for(var u in a)c[u]||s.del.push(u);for(u in c){var h=a[u],l=c[u];h?h.src!==l.src&&s.change.push(l):s.add.push(l)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}else n.add.push([i,o])}return n}function C(t,e,n,i){var r=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return i.forEach(function(t){I(r,t)}),r}function S(t,e){Dt(t).forEach(function(n){e.db.objectStoreNames.contains(n)||C(e,n,t[n].primKey,t[n].indexes)})}function A(t,e){for(var n=0;n<e.db.objectStoreNames.length;++n){var i=e.db.objectStoreNames[n];null==t[i]&&e.db.deleteObjectStore(i)}}function I(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function L(t,e,n){if(Qt||Te.letThrough){var i=Zt._createTransaction(t,e,Ht);try{i.create()}catch(t){return Re(t)}return i._promise(t,function(t,e){return ot(function(){return Te.trans=i,n(t,e,i)})}).then(function(t){return i._completion.then(function(){return t})})}if(!Gt){if(!Nt)return Re(new Jt.DatabaseClosed);Zt.open().catch(D)}return te.then(function(){return L(t,e,n)})}function B(t,e,n){var i=arguments.length;if(i<2)throw new Jt.InvalidArgument("Too few arguments");for(var r=new Array(i-1);--i;)r[i-1]=arguments[i];return n=r.pop(),[t,b(r),n]}function q(t,e,n){this.name=t,this.schema=e,this._tx=n,this.hook=Vt[t]?Vt[t].hook:yt(null,{creating:[R,D],reading:[j,M],updating:[F,D],deleting:[N,D]})}function V(t,e,n){return(n?Ct:Tt)(function(n){t.push(n),e&&e()})}function $(t,e,n,i,r){return new W(function(o,s){var a=n.length,c=a-1;if(0===a)return o();if(i){var u,h=Ct(s),l=xt(null);p(function(){for(var i=0;i<a;++i){u={onsuccess:null,onerror:null};var s=n[i];r.call(u,s[0],s[1],e);var f=t.delete(s[0]);f._hookCtx=u,f.onerror=h,f.onsuccess=i===c?xt(o):l}},function(t){throw u.onerror&&u.onerror(t),t})}else for(var f=0;f<a;++f){var d=t.delete(n[f]);d.onerror=Tt(s),f===c&&(d.onsuccess=rt(function(){return o()}))}})}function U(t,e,n,i){var r=this;this.db=Zt,this.mode=t,this.storeNames=e,this.idbtrans=null,this.on=yt(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new W(function(t,e){r._resolve=t,r._reject=e}),this._completion.then(function(){r.active=!1,r.on.complete.fire()},function(t){var e=r.active;return r.active=!1,r.on.error.fire(t),r.parent?r.parent._reject(t):e&&r.idbtrans&&r.idbtrans.abort(),Re(t)})}function z(t,e,n){this._ctx={table:t,index:":id"===e?null:e,or:n}}function K(t,e){var n=null,i=null;if(e)try{n=e()}catch(t){i=t}var r=t._ctx,o=r.table;this._ctx={table:o,index:r.index,isPrimKey:!r.index||o.schema.primKey.keyPath&&r.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:r.or,valueMapper:o.hook.reading.fire}}function G(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Y(t,e){return t._cfg.version-e._cfg.version}function Q(t,e,n){e.forEach(function(e){var i=n[e];t.forEach(function(t){e in t||(t===U.prototype||t instanceof U?r(t,e,{get:function(){return this.table(e)}}):t[e]=new q(e,i))})})}function X(t){t.forEach(function(t){for(var e in t)t[e]instanceof q&&delete t[e]})}function Z(t,e,n,i,r,o){var s=rt(o?function(t,e,i){return n(o(t),e,i)}:n,r);t.onerror||(t.onerror=Tt(r)),t.onsuccess=e?d(function(){var n=t.result;if(n){var o=function(){n.continue()};e(n,function(t){o=t},i,r)&&s(n.value,n,function(t){o=t}),o()}else i()},r):d(function(){var e=t.result;if(e){var n=function(){e.continue()};s(e.value,e,function(t){n=t}),n()}else i()},r)}function J(t){var e=[];return t.split(",").forEach(function(t){var n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),i=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;e.push(new At(n,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),Mt(i),/\./.test(t)))}),e}function tt(t,e){return Ft.cmp(t,e)}function et(t,e){return tt(t,e)<0?t:e}function nt(t,e){return tt(t,e)>0?t:e}function it(t,e){return Ft.cmp(t,e)}function ct(t,e){return Ft.cmp(e,t)}function ut(t,e){return t<e?-1:t===e?0:1}function ht(t,e){return t>e?-1:t===e?0:1}function lt(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}function ft(){if(Zt.verno=zt.version/10,Zt._dbSchema=Ht={},0!==(qt=a(zt.objectStoreNames,0)).length){var t=zt.transaction(kt(qt),"readonly");qt.forEach(function(e){for(var n=t.objectStore(e),i=n.keyPath,r=i&&"string"==typeof i&&-1!==i.indexOf("."),o=new At(i,i||"",!1,!1,!!n.autoIncrement,i&&"string"!=typeof i,r),s=[],a=0;a<n.indexNames.length;++a){var c=n.index(n.indexNames[a]);r=(i=c.keyPath)&&"string"==typeof i&&-1!==i.indexOf(".");var u=new At(c.name,i,!!c.unique,!!c.multiEntry,!1,i&&"string"!=typeof i,r);s.push(u)}Ht[e]=new Ot(e,o,s,{})}),Q([Vt],Dt(Ht),Ht)}}function pt(t,e){for(var n=e.db.objectStoreNames,i=0;i<n.length;++i){var r=n[i],o=e.objectStore(r);_t="getAll"in o;for(var s=0;s<o.indexNames.length;++s){var c=o.indexNames[s],u=o.index(c).keyPath,h="string"==typeof u?u:"["+a(u).join("+")+"]";if(t[r]){var l=t[r].idxByName[h];l&&(l.name=c)}}}}function gt(t){Zt.on("blocked").fire(t),qe.filter(function(t){return t.name===Zt.name&&t!==Zt&&!t._vcFired}).map(function(e){return e.on("versionchange").fire(t)})}var vt,mt,_t,jt=bt.dependencies,Lt=e({addons:bt.addons,autoOpen:!0,indexedDB:jt.indexedDB,IDBKeyRange:jt.IDBKeyRange},o),Rt=Lt.addons,Nt=Lt.autoOpen,Ft=Lt.indexedDB,Bt=Lt.IDBKeyRange,Ht=this._dbSchema={},Wt=[],qt=[],Vt={},zt=null,Kt=null,Gt=!1,Yt=null,Qt=!1,Xt="readwrite",Zt=this,te=new W(function(t){vt=t}),ee=new W(function(t,e){mt=e}),ne=!0,ie=!!It(Ft);this.version=function(t){if(zt||Gt)throw new Jt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=Wt.filter(function(e){return e._cfg.version===t})[0];return e||(e=new s(t),Wt.push(e),Wt.sort(Y),ne=!1,e)},e(s.prototype,{stores:function(t){this._cfg.storesSource=this._cfg.storesSource?e(this._cfg.storesSource,t):t;var n={};Wt.forEach(function(t){e(n,t._cfg.storesSource)});var i=this._cfg.dbschema={};return this._parseStoresSpec(n,i),Ht=Zt._dbSchema=i,X([Vt,Zt,U.prototype]),Q([Vt,Zt,U.prototype,this._cfg.tables],Dt(i),i),qt=Dt(i),this},upgrade:function(t){var e=this;return Ke(function(){t(Zt._createTransaction(Xt,Dt(e._cfg.dbschema),e._cfg.dbschema))}),this._cfg.contentUpgrade=t,this},_parseStoresSpec:function(t,e){Dt(t).forEach(function(n){if(null!==t[n]){var i={},r=J(t[n]),o=r.shift();if(o.multi)throw new Jt.Schema("Primary key cannot be multi-valued");o.keyPath&&v(i,o.keyPath,o.auto?0:o.keyPath),r.forEach(function(t){if(t.auto)throw new Jt.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new Jt.Schema("Index must have a name and cannot be an empty string");v(i,t.keyPath,t.compound?t.keyPath.map(function(){return""}):"")}),e[n]=new Ot(n,o,r,i)}})}}),this._allTables=Vt,this._createTransaction=function(t,e,n,i){return new U(t,e,n,i)},this._whenReady=function(t){return Ge||Qt||Te.letThrough?t():new W(function(t,e){if(!Gt){if(!Nt)return void e(new Jt.DatabaseClosed);Zt.open().catch(D)}te.then(t,e)}).then(t)},this.verno=0,this.open=function(){if(Gt||zt)return te.then(function(){return Kt?Re(Kt):Zt});Ut&&(ee._stackHolder=P()),Gt=!0,Kt=null,Qt=!1;var e=vt,n=null;return W.race([ee,new W(function(e,i){if(u(function(){return e()}),!Ft)throw new Jt.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var r=ne?Ft.open(t):Ft.open(t,Math.round(10*Zt.verno));if(!r)throw new Jt.MissingAPI("IndexedDB API not available");r.onerror=Tt(i),r.onblocked=rt(gt),r.onupgradeneeded=rt(function(e){if(n=r.transaction,ne&&!Zt._allowEmptyDB){r.onerror=Et,n.abort(),r.result.close();var o=Ft.deleteDatabase(t);o.onsuccess=o.onerror=rt(function(){i(new Jt.NoSuchDatabase("Database "+t+" doesnt exist"))})}else n.onerror=Tt(i),l((e.oldVersion>Math.pow(2,62)?0:e.oldVersion)/10,n,i)},i),r.onsuccess=rt(function(){if(n=null,zt=r.result,qe.push(Zt),ne)ft();else if(zt.objectStoreNames.length>0)try{pt(Ht,zt.transaction(kt(zt.objectStoreNames),"readonly"))}catch(t){}zt.onversionchange=rt(function(t){Zt._vcFired=!0,Zt.on("versionchange").fire(t)}),ie||"__dbnames"===t||Le.dbnames.put({name:t}).catch(D),e()},i)})]).then(function(){return Yt=[],W.resolve(bt.vip(Zt.on.ready.fire)).then(function t(){if(Yt.length>0){var e=Yt.reduce(H,D);return Yt=[],W.resolve(bt.vip(e)).then(t)}})}).finally(function(){Yt=null}).then(function(){return Gt=!1,Zt}).catch(function(t){try{n&&n.abort()}catch(t){}return Gt=!1,Zt.close(),Kt=t,Re(Kt)}).finally(function(){Qt=!0,e()})},this.close=function(){var t=qe.indexOf(Zt);if(t>=0&&qe.splice(t,1),zt){try{zt.close()}catch(t){}zt=null}Nt=!1,Kt=new Jt.DatabaseClosed,Gt&&mt(Kt),te=new W(function(t){vt=t}),ee=new W(function(t,e){mt=e})},this.delete=function(){var e=arguments.length>0;return new W(function(n,i){function r(){Zt.close();var e=Ft.deleteDatabase(t);e.onsuccess=rt(function(){ie||Le.dbnames.delete(t).catch(D),n()}),e.onerror=Tt(i),e.onblocked=gt}if(e)throw new Jt.InvalidArgument("Arguments not allowed in db.delete()");Gt?te.then(r):r()})},this.backendDB=function(){return zt},this.isOpen=function(){return null!==zt},this.hasBeenClosed=function(){return Kt&&Kt instanceof Jt.DatabaseClosed},this.hasFailed=function(){return null!==Kt},this.dynamicallyOpened=function(){return ne},this.name=t,i(this,{tables:{get:function(){return Dt(Vt).map(function(t){return Vt[t]})}}}),this.on=yt(this,"populate","blocked","versionchange",{ready:[H,D]}),this.on.ready.subscribe=c(this.on.ready.subscribe,function(t){return function(e,n){bt.vip(function(){Qt?(Kt||W.resolve().then(e),n&&t(e)):Yt?(Yt.push(e),n&&t(e)):(t(e),n||t(function t(){Zt.on.ready.unsubscribe(e),Zt.on.ready.unsubscribe(t)}))})}}),Ke(function(){Zt.on("populate").fire(Zt._createTransaction(Xt,qt,Ht))}),this.transaction=function(){var t=B.apply(this,arguments);return this._transaction.apply(this,t)},this._transaction=function(t,e,n){function i(){return W.resolve().then(function(){var e=Te.transless||Te,i=Zt._createTransaction(t,s,Ht,r),o={trans:i,transless:e};r?i.idbtrans=r.idbtrans:i.create(),n.constructor===le&&st();var a,c=W.follow(function(){if(a=n.call(i,i))if(a.constructor===he){var t=at.bind(null,null);a.then(t,t)}else"function"==typeof a.next&&"function"==typeof a.throw&&(a=St(a))},o);return(a&&"function"==typeof a.then?W.resolve(a).then(function(t){return i.active?t:Re(new Jt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):c.then(function(){return a})).then(function(t){return r&&i._resolve(),i._completion.then(function(){return t})}).catch(function(t){return i._reject(t),Re(t)})})}var r=Te.trans;r&&r.db===Zt&&-1===t.indexOf("!")||(r=null);var o=-1!==t.indexOf("?");t=t.replace("!","").replace("?","");try{var s=e.map(function(t){var e=t instanceof q?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e});if("r"==t||"readonly"==t)t="readonly";else{if("rw"!=t&&t!=Xt)throw new Jt.InvalidArgument("Invalid transaction mode: "+t);t=Xt}if(r){if("readonly"===r.mode&&t===Xt){if(!o)throw new Jt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&s.forEach(function(t){if(r&&-1===r.storeNames.indexOf(t)){if(!o)throw new Jt.SubTransaction("Table "+t+" not included in parent transaction.");r=null}}),o&&r&&!r.active&&(r=null)}}catch(t){return r?r._promise(null,function(e,n){n(t)}):Re(t)}return r?r._promise(t,i,"lock"):Te.trans?dt(Te.transless,function(){return Zt._whenReady(i)}):Zt._whenReady(i)},this.table=function(t){if(Ge&&ne)return new q(t);if(!n(Vt,t))throw new Jt.InvalidTable("Table "+t+" does not exist");return Vt[t]},i(q.prototype,{_trans:function(t,e,n){var i=this._tx||Te.trans;return i&&i.db===Zt?i===Te.trans?i._promise(t,e,n):ot(function(){return i._promise(t,e,n)},{trans:i,transless:Te.transless||Te}):L(t,[this.name],e)},_idbstore:function(t,e,n){function i(t,n,i){if(-1===i.storeNames.indexOf(r))throw new Jt.NotFound("Table"+r+" not part of transaction");return e(t,n,i.idbtrans.objectStore(r),i)}if(Ge)return new W(e);var r=this.name;return this._trans(t,i,n)},get:function(t,e){if(t&&t.constructor===Object)return this.where(t).first(e);var n=this;return this._idbstore("readonly",function(e,i,r){Ge&&e(n.schema.instanceTemplate);var o=r.get(t);o.onerror=Tt(i),o.onsuccess=rt(function(){e(n.hook.reading.fire(o.result))},i)}).then(e)},where:function(t){if("string"==typeof t)return new z(this,t);if(Mt(t))return new z(this,"["+t.join("+")+"]");var e=Dt(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(t){return t.compound&&e.every(function(e){return t.keyPath.indexOf(e)>=0})&&t.keyPath.every(function(t){return e.indexOf(t)>=0})})[0];if(n&&Fe!==Ne)return this.where(n.name).equals(n.keyPath.map(function(e){return t[e]}));n||console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a compound index ["+e.join("+")+"]");var i=this.schema.idxByName,r=e.reduce(function(e,n){return[e[0]||i[n],e[0]||!i[n]?lt(e[1],function(e){return""+g(e,n)==""+t[n]}):e[1]]},[null,null]),o=r[0];return o?this.where(o.name).equals(t[o.keyPath]).filter(r[1]):n?this.filter(r[1]):this.where(e).equals("")},count:function(t){return this.toCollection().count(t)},offset:function(t){return this.toCollection().offset(t)},limit:function(t){return this.toCollection().limit(t)},reverse:function(){return this.toCollection().reverse()},filter:function(t){return this.toCollection().and(t)},each:function(t){return this.toCollection().each(t)},toArray:function(t){return this.toCollection().toArray(t)},orderBy:function(t){return new K(new z(this,Mt(t)?"["+t.join("+")+"]":t))},toCollection:function(){return new K(new z(this))},mapToClass:function(t,e){this.schema.mappedClass=t;var i=Object.create(t.prototype);e&&wt(i,e),this.schema.instanceTemplate=i;var r=function(e){if(!e)return e;var i=Object.create(t.prototype);for(var r in e)if(n(e,r))try{i[r]=e[r]}catch(t){}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),t},defineClass:function(t){return this.mapToClass(bt.defineClass(t),t)},bulkDelete:function(t){return this.hook.deleting.fire===D?this._idbstore(Xt,function(e,n,i,r){e($(i,r,t,!1,D))}):this.where(":id").anyOf(t).delete().then(function(){})},bulkPut:function(t,e){var n=this;return this._idbstore(Xt,function(i,r,o){if(!o.keyPath&&!n.schema.primKey.auto&&!e)throw new Jt.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(o.keyPath&&e)throw new Jt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(e&&e.length!==t.length)throw new Jt.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return i();var s,a,c=function(t){0===u.length?i(t):r(new k(n.name+".bulkPut(): "+u.length+" of "+h+" operations failed",u))},u=[],h=t.length,l=n;if(n.hook.creating.fire===D&&n.hook.updating.fire===D){a=V(u);for(var d=0,p=t.length;d<p;++d)(s=e?o.put(t[d],e[d]):o.put(t[d])).onerror=a;s.onerror=V(u,c),s.onsuccess=Pt(c)}else{var v=e||o.keyPath&&t.map(function(t){return g(t,o.keyPath)}),m=v&&f(v,function(e,n){return null!=e&&[e,t[n]]});(v?l.where(":id").anyOf(v.filter(function(t){return null!=t})).modify(function(){this.value=m[this.primKey],m[this.primKey]=null}).catch(O,function(t){u=t.failures}).then(function(){for(var n=[],i=e&&[],r=v.length-1;r>=0;--r){var o=v[r];(null==o||m[o])&&(n.push(t[r]),e&&i.push(o),null!=o&&(m[o]=null))}return n.reverse(),e&&i.reverse(),l.bulkAdd(n,i)}).then(function(t){var e=v[v.length-1];return null!=e?e:t}):l.bulkAdd(t)).then(c).catch(k,function(t){u=u.concat(t.failures),c()}).catch(r)}},"locked")},bulkAdd:function(t,e){var n=this,i=this.hook.creating.fire;return this._idbstore(Xt,function(r,o,s,a){function c(t){0===f.length?r(t):o(new k(n.name+".bulkAdd(): "+f.length+" of "+d+" operations failed",f))}if(!s.keyPath&&!n.schema.primKey.auto&&!e)throw new Jt.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(s.keyPath&&e)throw new Jt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(e&&e.length!==t.length)throw new Jt.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return r();var u,h,l,f=[],d=t.length;if(i!==D){var m,y=s.keyPath;h=V(f,null,!0),l=xt(null),p(function(){for(var n=0,r=t.length;n<r;++n){m={onerror:null,onsuccess:null};var o=e&&e[n],c=t[n],f=e?o:y?g(c,y):void 0,d=i.call(m,f,c,a);null==f&&null!=d&&(y?v(c=_(c),y,d):o=d),(u=null!=o?s.add(c,o):s.add(c))._hookCtx=m,n<r-1&&(u.onerror=h,m.onsuccess&&(u.onsuccess=l))}},function(t){throw m.onerror&&m.onerror(t),t}),u.onerror=V(f,c,!0),u.onsuccess=xt(c)}else{h=V(f);for(var b=0,w=t.length;b<w;++b)(u=e?s.add(t[b],e[b]):s.add(t[b])).onerror=h;u.onerror=V(f,c),u.onsuccess=Pt(c)}})},add:function(t,e){var n=this.hook.creating.fire;return this._idbstore(Xt,function(i,r,o,s){var a={onsuccess:null,onerror:null};if(n!==D){var c=null!=e?e:o.keyPath?g(t,o.keyPath):void 0,u=n.call(a,c,t,s);null==c&&null!=u&&(o.keyPath?v(t,o.keyPath,u):e=u)}try{var h=null!=e?o.add(t,e):o.add(t);h._hookCtx=a,h.onerror=Ct(r),h.onsuccess=xt(function(e){var n=o.keyPath;n&&v(t,n,e),i(e)})}catch(t){throw a.onerror&&a.onerror(t),t}})},put:function(t,e){var n=this,i=this.hook.creating.fire,r=this.hook.updating.fire;if(i!==D||r!==D){var o=this.schema.primKey.keyPath,s=void 0!==e?e:o&&g(t,o);return null==s?this.add(t):(t=_(t),this._trans(Xt,function(){return n.where(":id").equals(s).modify(function(){this.value=t}).then(function(i){return 0===i?n.add(t,e):s})},"locked"))}return this._idbstore(Xt,function(n,i,r){var o=void 0!==e?r.put(t,e):r.put(t);o.onerror=Tt(i),o.onsuccess=rt(function(e){var i=r.keyPath;i&&v(t,i,e.target.result),n(o.result)})})},delete:function(t){return this.hook.deleting.subscribers.length?this.where(":id").equals(t).delete():this._idbstore(Xt,function(e,n,i){var r=i.delete(t);r.onerror=Tt(n),r.onsuccess=rt(function(){e(r.result)})})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(Xt,function(t,e,n){var i=n.clear();i.onerror=Tt(e),i.onsuccess=rt(function(){t(i.result)})})},update:function(t,e){if("object"!=typeof e||Mt(e))throw new Jt.InvalidArgument("Modifications must be an object.");if("object"!=typeof t||Mt(t))return this.where(":id").equals(t).modify(e);Dt(e).forEach(function(n){v(t,n,e[n])});var n=g(t,this.schema.primKey.keyPath);return void 0===n?Re(new Jt.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(e)}}),i(U.prototype,{_lock:function(){return h(!Te.global),1!==++this._reculock||Te.global||(Te.lockOwnerFor=this),this},_unlock:function(){if(h(!Te.global),0==--this._reculock)for(Te.global||(Te.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{dt(t[1],t[0])}catch(t){}}return this},_locked:function(){return this._reculock&&Te.lockOwnerFor!==this},create:function(t){var e=this;if(!this.mode)return this;if(h(!this.idbtrans),!t&&!zt)switch(Kt&&Kt.name){case"DatabaseClosedError":throw new Jt.DatabaseClosed(Kt);case"MissingAPIError":throw new Jt.MissingAPI(Kt.message,Kt);default:throw new Jt.OpenFailed(Kt)}if(!this.active)throw new Jt.TransactionInactive;return h(null===this._completion._state),t=this.idbtrans=t||zt.transaction(kt(this.storeNames),this.mode),t.onerror=rt(function(n){Et(n),e._reject(t.error)}),t.onabort=rt(function(n){Et(n),e.active&&e._reject(new Jt.Abort(t.error)),e.active=!1,e.on("abort").fire(n)}),t.oncomplete=rt(function(){e.active=!1,e._resolve()}),this},_promise:function(t,e,n){var i=this;if(t===Xt&&this.mode!==Xt)return Re(new Jt.ReadOnly("Transaction is readonly"));if(!this.active)return Re(new Jt.TransactionInactive);if(this._locked())return new W(function(r,o){i._blockedFuncs.push([function(){i._promise(t,e,n).then(r,o)},Te])});if(n)return ot(function(){var t=new W(function(t,n){i._lock();var r=e(t,n,i);r&&r.then&&r.then(t,n)});return t.finally(function(){return i._unlock()}),t._lib=!0,t});var r=new W(function(t,n){var r=e(t,n,i);r&&r.then&&r.then(t,n)});return r._lib=!0,r},_root:function(){return this.parent?this.parent._root():this},waitFor:function(t){var e=this._root();if(t=W.resolve(t),e._waitingFor)e._waitingFor=e._waitingFor.then(function(){return t});else{e._waitingFor=t,e._waitingQueue=[];var n=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(n.get(-1/0).onsuccess=t)}()}var i=e._waitingFor;return new W(function(n,r){t.then(function(t){return e._waitingQueue.push(rt(n.bind(null,t)))},function(t){return e._waitingQueue.push(rt(r.bind(null,t)))}).finally(function(){e._waitingFor===i&&(e._waitingFor=null)})})},abort:function(){this.active&&this._reject(new Jt.Abort),this.active=!1},tables:{get:E("Transaction.tables",function(){return Vt})},table:function(t){return new q(t,Zt.table(t).schema,this)}}),i(z.prototype,function(){function t(t,e,n){var i=t instanceof z?new K(t):t;return i._ctx.error=n?new n(e):new TypeError(e),i}function e(t){return new K(t,function(){return Bt.only("")}).limit(0)}function n(t){return"next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function i(t){return"next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function r(t,e,n,i,r,o){for(var s=Math.min(t.length,i.length),a=-1,c=0;c<s;++c){var u=e[c];if(u!==i[c])return r(t[c],n[c])<0?t.substr(0,c)+n[c]+n.substr(c+1):r(t[c],i[c])<0?t.substr(0,c)+i[c]+n.substr(c+1):a>=0?t.substr(0,a)+e[a]+n.substr(a+1):null;r(t[c],u)<0&&(a=c)}return s<i.length&&"next"===o?t+n.substr(t.length):s<t.length&&"prev"===o?t.substr(0,n.length):a<0?null:t.substr(0,a)+i[a]+n.substr(a+1)}function o(e,o,s,a){function c(t){u=n(t),h=i(t),l="next"===t?ut:ht;var e=s.map(function(t){return{lower:h(t),upper:u(t)}}).sort(function(t,e){return l(t.lower,e.lower)});f=e.map(function(t){return t.upper}),d=e.map(function(t){return t.lower}),p=t,g="next"===t?"":a}var u,h,l,f,d,p,g,v=s.length;if(!s.every(function(t){return"string"==typeof t}))return t(e,We);c("next");var m=new K(e,function(){return Bt.bound(f[0],d[v-1]+a)});m._ondirectionchange=function(t){c(t)};var y=0;return m._addAlgorithm(function(t,e,n){var i=t.key;if("string"!=typeof i)return!1;var s=h(i);if(o(s,d,y))return!0;for(var a=null,c=y;c<v;++c){var u=r(i,s,f[c],d[c],l,p);null===u&&null===a?y=c+1:(null===a||l(a,u)>0)&&(a=u)}return e(null!==a?function(){t.continue(a+g)}:n),!1}),m}return{between:function(n,i,r,o){r=!1!==r,o=!0===o;try{return tt(n,i)>0||0===tt(n,i)&&(r||o)&&(!r||!o)?e(this):new K(this,function(){return Bt.bound(n,i,!r,!o)})}catch(e){return t(this,He)}},equals:function(t){return new K(this,function(){return Bt.only(t)})},above:function(t){return new K(this,function(){return Bt.lowerBound(t,!0)})},aboveOrEqual:function(t){return new K(this,function(){return Bt.lowerBound(t)})},below:function(t){return new K(this,function(){return Bt.upperBound(t,!0)})},belowOrEqual:function(t){return new K(this,function(){return Bt.upperBound(t)})},startsWith:function(e){return"string"!=typeof e?t(this,We):this.between(e,e+Ne,!0,!0)},startsWithIgnoreCase:function(t){return""===t?this.startsWith(t):o(this,function(t,e){return 0===t.indexOf(e[0])},[t],Ne)},equalsIgnoreCase:function(t){return o(this,function(t,e){return t===e[0]},[t],"")},anyOfIgnoreCase:function(){var t=x.apply($t,arguments);return 0===t.length?e(this):o(this,function(t,e){return-1!==e.indexOf(t)},t,"")},startsWithAnyOfIgnoreCase:function(){var t=x.apply($t,arguments);return 0===t.length?e(this):o(this,function(t,e){return e.some(function(e){return 0===t.indexOf(e)})},t,Ne)},anyOf:function(){var n=x.apply($t,arguments),i=it;try{n.sort(i)}catch(e){return t(this,He)}if(0===n.length)return e(this);var r=new K(this,function(){return Bt.bound(n[0],n[n.length-1])});r._ondirectionchange=function(t){i="next"===t?it:ct,n.sort(i)};var o=0;return r._addAlgorithm(function(t,e,r){for(var s=t.key;i(s,n[o])>0;)if(++o===n.length)return e(r),!1;return 0===i(s,n[o])||(e(function(){t.continue(n[o])}),!1)}),r},notEqual:function(t){return this.inAnyRange([[Be,t],[t,Fe]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var e=x.apply($t,arguments);if(0===e.length)return new K(this);try{e.sort(it)}catch(e){return t(this,He)}var n=e.reduce(function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[Be,e]]},null);return n.push([e[e.length-1],Fe]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,i){function r(t,e){for(var n=0,i=t.length;n<i;++n){var r=t[n];if(tt(e[0],r[1])<0&&tt(e[1],r[0])>0){r[0]=et(r[0],e[0]),r[1]=nt(r[1],e[1]);break}}return n===i&&t.push(e),t}function o(t,e){return h(t[0],e[0])}function s(t){return!f(t)&&!d(t)}if(0===n.length)return e(this);if(!n.every(function(t){return void 0!==t[0]&&void 0!==t[1]&&it(t[0],t[1])<=0}))return t(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Jt.InvalidArgument);var a,c=!i||!1!==i.includeLowers,u=i&&!0===i.includeUppers,h=it;try{(a=n.reduce(r,[])).sort(o)}catch(e){return t(this,He)}var l=0,f=u?function(t){return it(t,a[l][1])>0}:function(t){return it(t,a[l][1])>=0},d=c?function(t){return ct(t,a[l][0])>0}:function(t){return ct(t,a[l][0])>=0},p=f,g=new K(this,function(){return Bt.bound(a[0][0],a[a.length-1][1],!c,!u)});return g._ondirectionchange=function(t){"next"===t?(p=f,h=it):(p=d,h=ct),a.sort(o)},g._addAlgorithm(function(t,e,n){for(var i=t.key;p(i);)if(++l===a.length)return e(n),!1;return!!s(i)||0!==tt(i,a[l][1])&&0!==tt(i,a[l][0])&&(e(function(){h===it?t.continue(a[l][0]):t.continue(a[l][1])}),!1)}),g},startsWithAnyOf:function(){var n=x.apply($t,arguments);return n.every(function(t){return"string"==typeof t})?0===n.length?e(this):this.inAnyRange(n.map(function(t){return[t,t+Ne]})):t(this,"startsWithAnyOf() only works with strings")}}}),i(K.prototype,function(){function t(t,e){t.filter=lt(t.filter,e)}function i(t,e,n){var i=t.replayFilter;t.replayFilter=i?function(){return lt(i(),e())}:e,t.justLimit=n&&!i}function r(t,e){t.isMatch=lt(t.isMatch,e)}function o(t,e){if(t.isPrimKey)return e;var n=t.table.schema.idxByName[t.index];if(!n)throw new Jt.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return e.index(n.name)}function s(t,e){var n=o(t,e);return t.keysOnly&&"openKeyCursor"in n?n.openKeyCursor(t.range||null,t.dir+t.unique):n.openCursor(t.range||null,t.dir+t.unique)}function a(t,e,i,r,o){var a=t.replayFilter?lt(t.filter,t.replayFilter()):t.filter;t.or?function(){function c(){2==++l&&i()}function u(t,i,o){if(!a||a(i,o,c,r)){var s=i.primaryKey.toString();n(h,s)||(h[s]=!0,e(t,i,o))}}var h={},l=0;t.or._iterate(u,c,r,o),Z(s(t,o),t.algorithm,u,c,r,!t.keysOnly&&t.valueMapper)}():Z(s(t,o),lt(t.algorithm,a),e,i,r,!t.keysOnly&&t.valueMapper)}function c(t){return t.table.schema.instanceTemplate}return{_read:function(t,e){var n=this._ctx;return n.error?n.table._trans(null,Re.bind(null,n.error)):n.table._idbstore("readonly",t).then(e)},_write:function(t){var e=this._ctx;return e.error?e.table._trans(null,Re.bind(null,e.error)):e.table._idbstore(Xt,t,"locked")},_addAlgorithm:function(t){var e=this._ctx;e.algorithm=lt(e.algorithm,t)},_iterate:function(t,e,n,i){return a(this._ctx,t,e,n,i)},clone:function(t){var n=Object.create(this.constructor.prototype),i=Object.create(this._ctx);return t&&e(i,t),n._ctx=i,n},raw:function(){return this._ctx.valueMapper=null,this},each:function(t){var e=this._ctx;if(Ge){var n=c(e),i=e.table.schema.primKey.keyPath,r=g(n,e.index?e.table.schema.idxByName[e.index].keyPath:i),o=g(n,i);t(n,{key:r,primaryKey:o})}return this._read(function(n,i,r){a(e,t,n,i,r)})},count:function(t){if(Ge)return W.resolve(0).then(t);var e=this._ctx;if(G(e,!0))return this._read(function(t,n,i){var r=o(e,i),s=e.range?r.count(e.range):r.count();s.onerror=Tt(n),s.onsuccess=function(n){t(Math.min(n.target.result,e.limit))}},t);var n=0;return this._read(function(t,i,r){a(e,function(){return++n,!1},function(){t(n)},i,r)},t)},sortBy:function(t,e){function n(t,e){return e?n(t[r[e]],e-1):t[o]}function i(t,e){var i=n(t,s),r=n(e,s);return i<r?-a:i>r?a:0}var r=t.split(".").reverse(),o=r[0],s=r.length-1,a="next"===this._ctx.dir?1:-1;return this.toArray(function(t){return t.sort(i)}).then(e)},toArray:function(t){var e=this._ctx;return this._read(function(t,n,i){if(Ge&&t([c(e)]),_t&&"next"===e.dir&&G(e,!0)&&e.limit>0){var r=e.table.hook.reading.fire,s=o(e,i),u=e.limit<1/0?s.getAll(e.range,e.limit):s.getAll(e.range);u.onerror=Tt(n),u.onsuccess=Pt(r===M?t:function(e){try{t(e.map(r))}catch(t){n(t)}})}else{var h=[];a(e,function(t){h.push(t)},function(){t(h)},n,i)}},t)},offset:function(t){var e=this._ctx;return t<=0?this:(e.offset+=t,G(e)?i(e,function(){var e=t;return function(t,n){return 0===e||(1===e?(--e,!1):(n(function(){t.advance(e),e=0}),!1))}}):i(e,function(){var e=t;return function(){return--e<0}}),this)},limit:function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),i(this._ctx,function(){var e=t;return function(t,n,i){return--e<=0&&n(i),e>=0}},!0),this},until:function(e,n){var i=this._ctx;return Ge&&e(c(i)),t(this._ctx,function(t,i,r){return!e(t.value)||(i(r),n)}),this},first:function(t){return this.limit(1).toArray(function(t){return t[0]}).then(t)},last:function(t){return this.reverse().first(t)},filter:function(e){return Ge&&e(c(this._ctx)),t(this._ctx,function(t){return e(t.value)}),r(this._ctx,e),this},and:function(t){return this.filter(t)},or:function(t){return new z(this._ctx.table,t,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,n){t(n.key,n)})},eachUniqueKey:function(t){return this._ctx.unique="unique",this.eachKey(t)},eachPrimaryKey:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,n){t(n.primaryKey,n)})},keys:function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each(function(t,e){n.push(e.key)}).then(function(){return n}).then(t)},primaryKeys:function(t){var e=this._ctx;if(_t&&"next"===e.dir&&G(e,!0)&&e.limit>0)return this._read(function(t,n,i){var r=o(e,i),s=e.limit<1/0?r.getAllKeys(e.range,e.limit):r.getAllKeys(e.range);s.onerror=Tt(n),s.onsuccess=Pt(t)}).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each(function(t,e){n.push(e.primaryKey)}).then(function(){return n}).then(t)},uniqueKeys:function(t){return this._ctx.unique="unique",this.keys(t)},firstKey:function(t){return this.limit(1).keys(function(t){return t[0]}).then(t)},lastKey:function(t){return this.reverse().firstKey(t)},distinct:function(){var e=this._ctx,i=e.index&&e.table.schema.idxByName[e.index];if(!i||!i.multi)return this;var r={};return t(this._ctx,function(t){var e=t.primaryKey.toString(),i=n(r,e);return r[e]=!0,!i}),this},modify:function(t){var i=this,r=this._ctx,o=r.table.hook,s=o.updating.fire,a=o.deleting.fire;return Ge&&"function"==typeof t&&t.call({value:r.table.schema.instanceTemplate},r.table.schema.instanceTemplate),this._write(function(r,o,c,u){function h(t,e){function i(t){return E.push(t),S.push(r.primKey),f(),!0}A=e.primaryKey;var r={primKey:e.primaryKey,value:t,onsuccess:null,onerror:null};if(!1!==d.call(r,t,r)){var o=!n(r,"value");++T,p(function(){var t=o?e.delete():e.update(r.value);t._hookCtx=r,t.onerror=Ct(i),t.onsuccess=xt(function(){++P,f()})},i)}else r.onsuccess&&r.onsuccess(r.value)}function l(t){return t&&(E.push(t),S.push(A)),o(new O("Error modifying one or more objects",E,P,S))}function f(){C&&P+E.length===T&&(E.length>0?l():r(P))}var d;if("function"==typeof t)d=s===D&&a===D?t:function(e){var i=_(e);if(!1===t.call(this,e,this))return!1;if(n(this,"value")){var r=w(i,this.value),o=s.call(this,r,this.primKey,i,u);o&&(e=this.value,Dt(o).forEach(function(t){v(e,t,o[t])}))}else a.call(this,this.primKey,e,u)};else if(s===D){var m=Dt(t),b=m.length;d=function(e){for(var n=!1,i=0;i<b;++i){var r=m[i],o=t[r];g(e,r)!==o&&(v(e,r,o),n=!0)}return n}}else{var x=t;t=y(x),d=function(n){var i=!1,r=s.call(this,t,this.primKey,_(n),u);return r&&e(t,r),Dt(t).forEach(function(e){var r=t[e];g(n,e)!==r&&(v(n,e,r),i=!0)}),r&&(t=y(x)),i}}var T=0,P=0,C=!1,E=[],S=[],A=null;i.clone().raw()._iterate(h,function(){C=!0,f()},l,c)})},delete:function(){var t=this,e=this._ctx,n=e.range,i=e.table.hook.deleting.fire,r=i!==D;if(!r&&G(e)&&(e.isPrimKey&&!Ue||!n))return this._write(function(t,e,i){var r=Tt(e),o=n?i.count(n):i.count();o.onerror=r,o.onsuccess=function(){var s=o.result;p(function(){var e=n?i.delete(n):i.clear();e.onerror=r,e.onsuccess=function(){return t(s)}},function(t){return e(t)})}});var o=r?2e3:1e4;return this._write(function(n,s,a,c){var u=0,h=t.clone({keysOnly:!e.isMatch&&!r}).distinct().limit(o).raw(),l=[],f=function(){return h.each(r?function(t,e){l.push([e.primaryKey,e.value])}:function(t,e){l.push(e.primaryKey)}).then(function(){return r?l.sort(function(t,e){return it(t[0],e[0])}):l.sort(it),$(a,c,l,r,i)}).then(function(){var t=l.length;return u+=t,l=[],t<o?u:f()})};n(f())})}}}),e(this,{Collection:K,Table:q,Transaction:U,Version:s,WhereClause:z}),function(){Zt.on("versionchange",function(t){t.newVersion>0?console.warn("Another connection wants to upgrade database '"+Zt.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+Zt.name+"'. Closing db now to resume the delete request."),Zt.close()}),Zt.on("blocked",function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('"+Zt.name+"') was blocked"):console.warn("Upgrade '"+Zt.name+"' blocked by other connection holding version "+t.oldVersion/10)})}(),Rt.forEach(function(t){t(Zt)})}function _t(t){if("function"==typeof t)return new t;if(Mt(t))return[_t(t[0])];if(t&&"object"==typeof t){var e={};return wt(e,t),e}return t}function wt(t,e){return Dt(e).forEach(function(n){var i=_t(e[n]);t[n]=i}),t}function xt(t){return rt(function(e){var n=e.target,i=n.result,r=n._hookCtx,o=r&&r.onsuccess;o&&o(i),t&&t(i)},t)}function Tt(t){return rt(function(e){return Et(e),t(e.target.error),!1})}function Pt(t){return rt(function(e){t(e.target.result)})}function Ct(t){return rt(function(e){var n=e.target,i=n.error,r=n._hookCtx,o=r&&r.onerror;return o&&o(i),Et(e),t(i),!1})}function Et(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}function St(t){function e(t){return function(e){var n=t(e),i=n.value;return n.done?i:i&&"function"==typeof i.then?i.then(r,o):Mt(i)?W.all(i).then(r,o):r(i)}}var n=function(e){return t.next(e)},i=function(e){return t.throw(e)},r=e(n),o=e(i);return e(n)()}function At(t,e,n,i,r,o,s){this.name=t,this.keyPath=e,this.unique=n,this.multi=i,this.auto=r,this.compound=o,this.dotted=s;var a="string"==typeof e?e:e&&"["+[].join.call(e,"+")+"]";this.src=(n?"&":"")+(i?"*":"")+(r?"++":"")+a}function Ot(t,e,n,i){this.name=t,this.primKey=e||new At,this.indexes=n||[new At],this.instanceTemplate=i,this.mappedClass=null,this.idxByName=f(n,function(t){return[t.name,t]})}function kt(t){return 1===t.length?t[0]:t}function It(t){var e=t&&(t.getDatabaseNames||t.webkitGetDatabaseNames);return e&&e.bind(t)}var Dt=Object.keys,Mt=Array.isArray,jt="undefined"!=typeof self?self:"undefined"!=typeof window?window:t,Lt=Object.getPrototypeOf,Rt={}.hasOwnProperty,Nt=Object.defineProperty,Ft=Object.getOwnPropertyDescriptor,Bt=[].slice,Ht=[].concat,Wt="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(b([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return jt[t]}).map(function(t){return jt[t]}),qt="undefined"!=typeof Symbol&&Symbol.iterator,Vt=qt?function(t){var e;return null!=t&&(e=t[qt])&&e.apply(t)}:function(){return null},$t={},Ut="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),zt=function(){return!0},Kt=!new Error("").stack,Gt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Yt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Gt),Qt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};o(S).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+C(this._e,2))}},toString:function(){return this.name+": "+this.message}}),o(O).from(S),o(k).from(S);var Xt=Yt.reduce(function(t,e){return t[e]=e+"Error",t},{}),Zt=S,Jt=Yt.reduce(function(t,e){function n(t,n){this._e=P(),this.name=i,t?"string"==typeof t?(this.message=t,this.inner=n||null):"object"==typeof t&&(this.message=t.name+" "+t.message,this.inner=t):(this.message=Qt[e]||i,this.inner=null)}var i=e+"Error";return o(n).from(Zt),t[e]=n,t},{});Jt.Syntax=SyntaxError,Jt.Type=TypeError,Jt.Range=RangeError;var te=Gt.reduce(function(t,e){return t[e+"Error"]=Jt[e],t},{}),ee=Yt.reduce(function(t,e){return-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=Jt[e]),t},{});ee.ModifyError=O,ee.DexieError=S,ee.BulkError=k;var ne={},ie=100,re=7,oe=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(e){var t=jt.Promise;return t?[t.resolve(),t.prototype,t.resolve()]:[]}}(),se=oe[0],ae=oe[1],ce=oe[2],ue=ae&&ae.then,he=se&&se.constructor,le=oe[3],fe=!!ce,de=!1,pe=ce?function(){ce.then(Q)}:jt.setImmediate?setImmediate.bind(null,Q):jt.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){Q(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(Q,0)},ge=function(t,e){Pe.push([t,e]),me&&(pe(),me=!1)},ve=!0,me=!0,ye=[],be=[],_e=null,we=M,xe={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:mt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{mt(t[0],t[1])}catch(t){}})}},Te=xe,Pe=[],Ce=0,Ee=[],Se={get:function(){function t(t,i){var r=this,o=!e.global&&(e!==Te||n!==De);o&&at();var s=new W(function(n,s){z(r,new q(gt(t,e,o),gt(i,e,o),n,s,e))});return Ut&&Y(s,this),s}var e=Te,n=De;return t.prototype=ne,t},set:function(t){r(this,"then",t&&t.prototype===ne?Se:{get:function(){return t},set:Se.set})}};i(W.prototype,{then:Se,_then:function(t,e){z(this,new q(null,null,t,e,Te))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return"function"==typeof e?this.then(null,function(t){return t instanceof e?n(t):it(t)}):this.then(null,function(t){return t&&t.name===e?n(t):it(t)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),it(e)})},stack:{get:function(){if(this._stack)return this._stack;try{de=!0;var t=G(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{de=!1}}},timeout:function(t,e){var n=this;return t<1/0?new W(function(i,r){var o=setTimeout(function(){return r(new Jt.Timeout(e))},t);n.then(i,r).finally(clearTimeout.bind(null,o))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&r(W.prototype,Symbol.toStringTag,"Promise"),xe.env=ft(),i(W,{all:function(){var t=x.apply(null,arguments).map(ct);return new W(function(e,n){0===t.length&&e([]);var i=t.length;t.forEach(function(r,o){return W.resolve(r).then(function(n){t[o]=n,--i||e(t)},n)})})},resolve:function(t){if(t instanceof W)return t;if(t&&"function"==typeof t.then)return new W(function(e,n){t.then(e,n)});var e=new W(ne,!0,t);return Y(e,_e),e},reject:it,race:function(){var t=x.apply(null,arguments).map(ct);return new W(function(e,n){t.map(function(t){return W.resolve(t).then(e,n)})})},PSD:{get:function(){return Te},set:function(t){return Te=t}},newPSD:ot,usePSD:dt,scheduler:{get:function(){return ge},set:function(t){ge=t}},rejectionMapper:{get:function(){return we},set:function(t){we=t}},follow:function(t,e){return new W(function(n,i){return ot(function(e,n){var i=Te;i.unhandleds=[],i.onunhandled=n,i.finalize=L(function(){var t=this;tt(function(){0===t.unhandleds.length?e():n(t.unhandleds[0])})},i.finalize),t()},e,n,i)})}});var Ae={awaits:0,echoes:0,id:0},Oe=0,ke=[],Ie=0,De=0,Me=0,je="unhandledrejection";u(function(){ge=function(t,e){setTimeout(function(){t.apply(null,e)},0)}});var Le,Re=W.reject,Ne=String.fromCharCode(65535),Fe=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(t){return Ne}}(),Be=-1/0,He="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",We="String expected.",qe=[],Ve="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),$e=Ve,Ue=Ve,ze=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)};T(Ut,ze);var Ke=function(){},Ge=!1;return i(bt,ee),i(bt,{delete:function(t){var e=new bt(t),n=e.delete();return n.onblocked=function(t){return e.on("blocked",t),this},n},exists:function(t){return new bt(t).open().then(function(t){return t.close(),!0}).catch(bt.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(t){var e=It(bt.dependencies.indexedDB);return e?new W(function(t,n){var i=e();i.onsuccess=function(e){t(a(e.target.result,0))},i.onerror=Tt(n)}).then(t):Le.dbnames.toCollection().primaryKeys(t)},defineClass:function(t){function n(n){n?e(this,n):Ge&&wt(this,t)}return n},applyStructure:wt,ignoreTransaction:function(t){return Te.trans?dt(Te.transless,t):t()},vip:function(t){return ot(function(){return Te.letThrough=!0,t()})},async:function(t){return function(){try{var e=St(t.apply(this,arguments));return e&&"function"==typeof e.then?e:W.resolve(e)}catch(t){return Re(t)}}},spawn:function(t,e,n){try{var i=St(t.apply(n,e||[]));return i&&"function"==typeof i.then?i:W.resolve(i)}catch(t){return Re(t)}},currentTransaction:{get:function(){return Te.trans||null}},waitFor:function(t,e){var n=W.resolve("function"==typeof t?bt.ignoreTransaction(t):t).timeout(e||6e4);return Te.trans?Te.trans.waitFor(n):n},Promise:W,debug:{get:function(){return Ut},set:function(t){T(t,"dexie"===t?function(){return!0}:ze)}},derive:o,extend:e,props:i,override:c,Events:yt,getByKeyPath:g,setByKeyPath:v,delByKeyPath:m,shallowClone:y,deepClone:_,getObjectDiff:w,asap:l,maxKey:Fe,minKey:Be,addons:[],connections:qe,MultiModifyError:Jt.Modify,errnames:Xt,IndexSpec:At,TableSchema:Ot,dependencies:{indexedDB:jt.indexedDB||jt.mozIndexedDB||jt.webkitIndexedDB||jt.msIndexedDB,IDBKeyRange:jt.IDBKeyRange||jt.webkitIDBKeyRange},semVer:"2.0.0-beta.11",version:"2.0.0-beta.11".split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,2*n)}),fakeAutoComplete:Ke,default:bt,Dexie:bt}),W.rejectionMapper=I,u(function(){bt.fakeAutoComplete=Ke=u,bt.fake=Ge=!0}),(Le=new bt("__dbnames")).version(1).stores({dbnames:"name"}),function(){if(void 0!==typeof localStorage&&void 0!==jt.document)try{JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach(function(t){return Le.dbnames.put({name:t}).catch(D)}),localStorage.removeItem("Dexie.DatabaseNames")}catch(t){}}(),bt})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../struct/point"),r=t("../struct/mat2d"),o=function(){function t(t){this.matrix=t||r.Mat2dStruct.identity()}return t.prototype.measureCenter=function(){return new i.Point(this.matrix.c3r1,this.matrix.c3r2)},t.prototype.convertPointToWorldSpace=function(t,e){return void 0===e&&(e=new i.Point),this.matrix.map(t,e),e},t.prototype.convertPointToModelSpace=function(t,e,n){return void 0===e&&(e=r.Mat2d.inverse(this.matrix)),void 0===n&&(n=new i.Point),e.map(t,n),n},t.prototype.offset=function(t){this.offset$(t.x,t.y)},t.prototype.offset$=function(t,e){this.matrix.postTranslate$(t,e)},t.prototype.offsetTo=function(t){this.offsetTo$(t.x,t.y)},t.prototype.offsetTo$=function(t,e){this.matrix.c3r1=t,this.matrix.c3r2=e},t.prototype.transform=function(t){this.matrix.postConcat(t)},t.prototype.scale=function(t,e){this.transform(r.Mat2d.scale(t,e,this.measureCenter()))},t.prototype.stretch=function(t){this.scale(t,t)},t.prototype.rotate=function(t){this.transform(r.Mat2d.rotate(t,this.measureCenter()))},t}();n.Graphic=o},{"../struct/mat2d":17,"../struct/point":19}],5:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("../math/miter"),o=t("../struct/indextuple"),s=t("../struct/mat2d"),a=t("../struct/point"),c=t("../struct/vec2"),u=t("../struct/vertex"),h=t("./shape"),l=function(){function t(t,e,n,i){void 0===i&&(i=t.measureBoundaries()),this.vertices=t,this.triangleIndices=e,this.bounds=i,this.id=n}return t.fromSpecification=function(t){var e,n,i=t.id;switch(t.vertices instanceof u.VertexBuffer?e=t.vertices:t.vertices instanceof Float32Array?e=new u.VertexBuffer(t.vertices):t.vertices&&(e=new u.VertexBuffer(new Float32Array(t.vertices))),t.triangleIndices instanceof o.IndexTupleBuffer?n=t.triangleIndices:t.triangleIndices instanceof Uint16Array?n=new o.IndexTupleBuffer(t.triangleIndices):t.triangleIndices&&(n=new o.IndexTupleBuffer(new Uint16Array(t.triangleIndices))),t.type){case"polygon":var r=t,s=r.sides,a=r.hasFlatTop;t.vertices||(e=f.regularVertices(s,a)),t.triangleIndices||(n=f.regularIndices(s||e.capacity()));break;case"star":var c=t,h=c.points,l=c.ratio;t.vertices||(e=f.starVertices(h,l)),t.triangleIndices||(n=f.starIndices(h));break;case"rectangle":var g=t.bounds;t.vertices||(e=f.rectangleVertices(g)),t.triangleIndices||(n=f.regularIndices(4));break;default:if(!t.vertices)throw new Error("Insufficient vertex data in specification "+t)}if(t.polygonIndices)return new p(e,t.polygonIndices,n,i);var v=new f(e,n,i);if("spray"===t.effect){var m=t,y=m.innerRing,b=m.rings;return d.spray(v,y,b,i)}return v},t.prototype.contains=function(t){return this.contains$(t.x,t.y)},t}();n.Mesh=l;var f=function(t){function e(n,i,r,o){var s=t.call(this,n,i,r,o)||this;return s.miters=e.measureMiters(n),s}return i(e,t),e.measureMiters=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.capacity()-e);var i=c.Vec2Buffer.create(n),o=new u.VertexBuffer(t.data),s=t,a=new c.Vec2,h=new c.Vec2,l=e+n-1;o.moveToPosition(l),s.moveToPosition(e),a.setFromPointToPoint(o,s),o.dataPosition=s.dataPosition;for(var f=e;f<l;f++)s.moveToNext(),h.setFromPointToPoint(o,s),i.rset(r.measureMiter(a,h,1,3)),a.set(h),o.dataPosition=s.dataPosition;return s.moveToFirst(),h.setFromPointToPoint(o,s),i.rset(r.measureMiter(a,h,1,3)),i},e.regular=function(t,n,i){return void 0===n&&(n=!1),new e(e.regularVertices(t,n),e.regularIndices(t),i)},e.regularVertices=function(t,e){void 0===e&&(e=!1);var n=u.VertexBuffer.create(t),i=2*Math.PI/t,r=s.Mat2d.rotate(i),o=c.Vec2Struct.create$(0,1);for(e&&s.Mat2d.rotate(i/2).map(o,o),n.rset(o);n.hasValidPosition();)r.map(o,o),n.rset(o);return n},e.regularIndices=function(t){for(var e=o.IndexTupleBuffer.create(t-2),n=1,i=2;e.hasValidPosition();)e.rset$(0,n,i),n=i++;return e},e.rectangle=function(t,n){return new e(e.rectangleVertices(t),e.regularIndices(4),n,t)},e.rectangleVertices=function(t){return new u.VertexBuffer(new Float32Array([t.left,t.top,t.left,t.bottom,t.right,t.bottom,t.right,t.top]))},e.star=function(t,n,i){return new e(e.starVertices(t,n),e.starIndices(t),i)},e.starVertices=function(t,e){var n=u.VertexBuffer.create(t+t),i=2*Math.PI/t,r=new s.Mat2d,o=c.Vec2Struct.create$(0,1),a=c.Vec2Struct.create$(0,e);for(r.setRotate(.5*i),r.map(a,a),n.rset(o),n.rset(a),r.setRotate(i);n.hasValidPosition();)r.map(o,o),r.map(a,a),n.rset(o),n.rset(a);return n},e.starIndices=function(t){for(var e=t-2,n=t,i=o.IndexTupleBuffer.create(e+n),r=1,s=3,a=5;e--;)i.rset$(r,s,a),s=a++,a++;for(r=2*t-1,s=0,a=1;n--;)i.rset$(r,s,a),r=a++,s=a++;return i},e.prototype.contains$=function(t,e){return this.vertices.contains$(t,e)},e}(l);n.PolygonMesh=f;var d=function(t){function e(e,n,i,r,o){var s=t.call(this,e,i,r,o)||this;return s.verticesPerInstance=n,s}return i(e,t),e.spray=function(t,n,i,r){for(var c=t.vertices,l=c.capacity(),f=e.countInstancesInSpray(n,i),d=l*f,p=u.VertexBuffer.create(l*f),g=2*Math.PI/n,v=s.Mat2d.rotate(g),m=new a.Point(0,0),y=new a.Point(0,1),b=new s.Mat2d,_=0;_<i;_++){for(var w=n<<_;w>0;w--){C=p.position();c.moveToFirst(),p.rsetFromBuffer(c),h.Shape.stretchAcrossLine(b,t,m,y),p.transform(b,C,l),v.map(m,m),v.map(y,y)}m.y++,y.y++,v.setRotate(g*=.5)}for(var x=t.triangleIndices,T=x.capacity(),P=o.IndexTupleBuffer.create(T*f),C=0;C<d;C+=l)for(x.moveToPosition(-1);x.moveToNext();)P.set(x),P.add$(C,C,C),P.moveToNext();return new e(p,l,P,r)},e.countInstancesInSpray=function(t,e){return t*((1<<e)-1)},e.prototype.contains$=function(t,e){if(this.bounds.contains$(t,e))for(var n=this.vertices,i=n.capacity(),r=this.verticesPerInstance,o=0;o<i;o+=r)if(n.contains$(t,e,o,r))return n.moveToLast();return!1},e}(l);n.InstancedPolygonMesh=d;var p=function(t){function e(n,i,r,o,s){var a=t.call(this,n,r,o,s)||this;return a.polygonIndices=i,a.miters=e.measureMiters(n,i),a}return i(e,t),e.measureMiters=function(t,e){for(var n=0,i=0,o=e;i<o.length;i++)n+=(g=o[i]).length;for(var s=c.Vec2Buffer.create(n),a=new u.VertexBuffer(t.data),h=t,l=new c.Vec2,f=new c.Vec2,d=0,p=e;d<p.length;d++){var g=p[d],v=g.length;a.moveToPosition(g[v-1]),h.moveToPosition(g[0]),l.setFromPointToPoint(a,h),a.dataPosition=h.dataPosition;for(var m=1;m<v;m++)h.moveToPosition(g[m]),f.setFromPointToPoint(a,h),s.rset(r.measureMiter(l,f,1,3)),l.set(f),a.dataPosition=h.dataPosition;h.moveToPosition(g[0]),f.setFromPointToPoint(a,h),s.rset(r.measureMiter(l,f,1,3))}return s},e.prototype.contains$=function(t,e){if(this.bounds.contains$(t,e))for(var n=0,i=this.polygonIndices;n<i.length;n++){var r=i[n];if(this.vertices.indexedContains$(t,e,r))return this.vertices.moveToLast()}return!1},e}(l);n.MultiPolygonMesh=p},{"../math/miter":8,"../struct/indextuple":16,"../struct/mat2d":17,"../struct/point":19,"../struct/vec2":22,"../struct/vertex":23,"./shape":6}],6:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("../struct/point"),o=t("../struct/rect"),s=t("../struct/vec2"),a=function(t){function e(e,n){var i=t.call(this,n)||this;return i.mesh=e,i}return i(e,t),e.prototype.measureBoundaries=function(){return e.measureBoundaries(this.matrix,this.mesh.vertices)},e.measureBoundaries=function(t,e){var n=null;if(e.moveToFirst()){var i=new r.Point;for(t.map(e,i),n=o.Rect.unionOfPoints([i]);e.moveToNext();)t.map(e,i),n.unionPoint(i)}return n},e.prototype.measureControl=function(){return this.convertPointToWorldSpace(this.mesh.bounds.centerBottom())},e.prototype.measurePivot=function(){return this.convertPointToWorldSpace(this.mesh.bounds.centerTop())},e.prototype.measureVertex=function(t){var e=this.mesh.vertices;return e.moveToPosition(t)?this.convertPointToWorldSpace(e):null},e.prototype.contains=function(t,e){var n=this.convertPointToModelSpace(t,e);return this.mesh.contains(n)},e.prototype.mapToRect=function(t,e){void 0===e&&(e=2),this.matrix.setRectToRect(this.mesh.bounds,t,e)},e.prototype.stretchAcrossLine=function(t,n){return e.stretchAcrossLine(this.matrix,this.mesh,t,n)},e.stretchAcrossLine=function(t,e,n,i){var r=e.bounds,o=r.centerTop(),a=r.centerBottom(),c=n,u=s.Vec2.fromPointToPoint(o,c),h=s.Vec2.create(a);h.add(u),t.setStretchRotateToPoint(h,i,c),t.preTranslate(u)},e}(t("./graphic").Graphic);n.Shape=a},{"../struct/point":19,"../struct/rect":20,"../struct/vec2":22,"./graphic":4}],7:[function(t,e,n){"use strict";function i(t){return void 0!==t.cursor}function r(t){return void 0!==t.pointers}Object.defineProperty(n,"__esModule",{value:!0}),n.isMouseAction=i,n.isTouchAction=r},{}],8:[function(t,e,n){"use strict";function i(t,e,n,i){var o=r.Vec2.create(t);o.normalize(),o.rotateRight();var s=r.Vec2.create(e);s.normalize(),s.rotateRight();var a=r.Vec2.create(o);a.add(s),a.normalize();var c=n/a.dot(s);return c>i&&(c=i),a.mulScalar(c),a}Object.defineProperty(n,"__esModule",{value:!0});var r=t("../struct/vec2");n.measureMiter=i},{"../struct/vec2":22}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../struct/mat4"),r=t("../struct/rect"),o=t("../struct/vec2"),s=function(){function t(t,e,n){this.view=new r.RectStruct,this.matrix=new i.Mat4Struct,this.position=new o.Vec2Struct,this.zoom=1,this.target=t,this.minZoom=e,this.maxZoom=n}return t.prototype.setViewport=function(t,e){var n=this,i=n.target,r=n.view;r.set(i);var o=t/e,s=i.width()/i.height();s<o?r.scale(o/s,1):r.scale(1,s/o),r.stretch(1/this.zoom),r.offset(this.position),this.updateMatrix()},t.prototype.offset=function(t){var e=o.Vec2.create(this.position);e.add(t);var n=r.Rect.create(this.target);n.mulScalar((this.zoom-this.minZoom)/this.zoom),n.offset$(-n.centerX(),-n.centerY());var i=o.Vec2.create(t);return e.x<n.left?i.x=n.left-this.position.x:e.x>n.right&&(i.x=n.right-this.position.x),e.y<n.bottom?i.y=n.bottom-this.position.y:e.y>n.top&&(i.y=n.top-this.position.y),this.view.offset(i),this.position.add(i),i},t.prototype.zoomIn=function(t){var e,n=this.zoom*t;return n<this.minZoom?(e=this.minZoom/this.zoom,this.zoom=this.minZoom):n>this.maxZoom?(e=this.maxZoom/this.zoom,this.zoom=this.maxZoom):(e=t,this.zoom=n),this.view.stretch(1/e),e},t.prototype.zoomOut=function(t){return this.zoomIn(1/t)},t.prototype.zoomToPoint=function(t,e){var n=this.view,i=(e.x-n.left)/n.width(),r=(e.y-n.bottom)/n.height(),s=this.zoomIn(t),a=new o.Vec2;a.x=n.left+i*n.width(),a.y=n.bottom+r*n.height();var c=o.Vec2.fromPointToPoint(a,e);return{scaleFactor:s,offset:this.offset(c)}},t.prototype.updateMatrix=function(){this.matrix.ortho(this.view,.1,10)},t}();n.Camera=s},{"../struct/mat4":18,"../struct/rect":20,"../struct/vec2":22}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){}return t}();n.Program=i},{}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){this.gl=t,this.camera=e}return t.prototype.onSurfaceChanged=function(t,e){this.gl.viewport(0,0,t,e),this.camera.setViewport(t,e)},t.prototype.attachProgram=function(t){this.currentProgram!==t&&(this.gl.useProgram(t.location),this.currentProgram&&this.currentProgram.onDetach(this),t.onAttach(this),this.currentProgram=t)},t}();n.Renderer=i},{}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../struct/point"),r=function(){function t(t,e){this.hasRenderRequest=!1,this.drawingBuffer=t,this.clientRect=t.getBoundingClientRect(),this.renderer=e,this.renderer.onSurfaceCreated()}return t.prototype.requestRender=function(){this.hasRenderRequest=!0},t.prototype.onAnimationFrame=function(){this.hasRenderRequest&&(this.renderer.onDrawFrame(),this.hasRenderRequest=!1)},t.prototype.resize=function(t,e){void 0===t&&(t=this.drawingBuffer.clientWidth),void 0===e&&(e=this.drawingBuffer.clientHeight),this.drawingBuffer.width===t&&this.drawingBuffer.height===e||(this.drawingBuffer.width=t,this.drawingBuffer.height=e,this.clientRect=this.drawingBuffer.getBoundingClientRect(),this.renderer.onSurfaceChanged(t,e),this.requestRender())},t.prototype.offset=function(t){var e=this.renderer.camera,n=e.offset(t);return n.equalsScalar(0)||(e.updateMatrix(),this.requestRender()),n},t.prototype.zoomIn=function(t){var e=this.renderer.camera,n=e.zoomIn(t);return 1!==n&&(e.updateMatrix(),this.requestRender()),n},t.prototype.zoomOut=function(t){return this.zoomIn(1/t)},t.prototype.zoomToPoint=function(t,e){var n=this.renderer.camera,i=n.zoomToPoint(t,e);return 1===i.scaleFactor&&i.offset.equalsScalar(0)||(n.updateMatrix(),this.requestRender()),i},t.prototype.screenToCanvas=function(t,e){return void 0===e&&(e=new i.Point),e.x=t.clientX-this.clientRect.left,e.y=t.clientY-this.clientRect.top,e},t.prototype.screenToNdc=function(t,e){return void 0===e&&(e=new i.Point),this.screenToCanvas(t,e),this.canvasToNdc(e,e),e},t.prototype.screenToWorld=function(t,e){return void 0===e&&(e=new i.Point),this.screenToCanvas(t,e),this.canvasToNdc(e,e),this.ndcToWorld(e,e),e},t.prototype.canvasToNdc=function(t,e){void 0===e&&(e=new i.Point);var n=this.clientRect.width,r=this.clientRect.height;return e.x=t.x/n,e.y=(r-t.y)/r,e},t.prototype.ndcToWorld=function(t,e){void 0===e&&(e=new i.Point);var n=this.renderer.camera.view;return e.x=n.left+t.x*n.width(),e.y=n.bottom+t.y*n.height(),e},t.prototype.onMouseEvent=function(t){var e=this,n=!1;window.addEventListener("mousedown",function(i){i.target===e.drawingBuffer&&(n=!0,i.preventDefault(),i.stopPropagation(),t(e.getSurfaceMouseEvent(i,0)))},!1),window.addEventListener("mousemove",function(i){n?(i.preventDefault(),i.stopPropagation(),t(e.getSurfaceMouseEvent(i,2))):t(e.getSurfaceMouseEvent(i,1))},!1),window.addEventListener("mouseout",function(i){n&&(i.preventDefault(),i.stopPropagation(),t(e.getSurfaceMouseEvent(i,3)))},!1),window.addEventListener("mouseup",function(i){n&&(n=!1,i.preventDefault(),i.stopPropagation(),t(e.getSurfaceMouseEvent(i,4)))},!1)},t.prototype.getSurfaceMouseEvent=function(t,e){return{target:this,src:t,status:e,cursor:this.screenToWorld(t)}},t.prototype.onTouchEvent=function(t){var e=this,n=!1;window.addEventListener("touchstart",function(i){i.target===e.drawingBuffer&&(n=!0,i.preventDefault(),i.stopPropagation(),t(e.getSurfaceTouchEvent(i,0)))},!1),window.addEventListener("touchmove",function(i){n&&(i.preventDefault(),i.stopPropagation(),t(e.getSurfaceTouchEvent(i,2)))},!1),window.addEventListener("touchleave",function(i){n&&(i.preventDefault(),i.stopPropagation(),t(e.getSurfaceTouchEvent(i,3)))},!1),window.addEventListener("touchend",function(i){n&&(n=!1,i.preventDefault(),i.stopPropagation(),t(e.getSurfaceTouchEvent(i,4)))},!1)},t.prototype.getSurfaceTouchEvent=function(t,e){return{target:this,src:t,status:e,pointers:this.getPointers(t)}},t.prototype.getPointers=function(t){for(var e=[],n=t.touches,i=0;i<n.length;i++)e[i]=this.screenToWorld(n[i]);return e},t.prototype.onWheelEvent=function(t){var e=this;document.addEventListener(this.getScrollSupport(),function(n){if(n.target===e.drawingBuffer){n.preventDefault(),n.stopPropagation();var i=n.deltaY<0||n.detail<0||n.wheelDelta>0;t({isUpward:i,cursor:e.screenToWorld(n),target:e,src:n})}})},t.prototype.getScrollSupport=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},t}();n.Surface=r},{"../struct/point":19}],13:[function(t,e,n){"use strict";function i(t,e,n){void 0===n&&(n=t.STATIC_DRAW);var i=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,e,n),i}function r(t,e,n){void 0===n&&(n=t.STATIC_DRAW);var i=t.createBuffer();return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,n),i}function o(t,e,n){return s(t,a(t,e,t.VERTEX_SHADER),a(t,n,t.FRAGMENT_SHADER))}function s(t,e,n){var i=t.createProgram();if(t.attachShader(i,e),t.attachShader(i,n),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw"program filed to link:"+t.getProgramInfoLog(i);return i}function a(t,e,n){var i=t.createShader(n);if(t.shaderSource(i,e),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw"could not compile shader:"+t.getShaderInfoLog(i);return i}function c(t,e,n){var i={};if(n)for(var r in n)i[r]=t.getUniformLocation(e,n[r]);else for(var o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),s=0;s<o;s++){var a=t.getActiveUniform(e,s).name;i[a]=t.getUniformLocation(e,a)}return i}function u(t,e,n){var i={};if(n)for(var r in n)i[r]=t.getAttribLocation(e,n[r]);else for(var o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),s=0;s<o;s++){var a=t.getActiveAttrib(e,s).name;i[a]=t.getAttribLocation(e,a)}return i}Object.defineProperty(n,"__esModule",{value:!0}),n.createArrayBuffer=i,n.createElementBuffer=r,n.createProgramFromSources=o,n.createProgramFromShaders=s,n.compileShader=a,n.getUniformLocations=c,n.getAttributeLocations=u},{}],14:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("./util"),o=t("gulp-structify/struct"),s=t("gulp-structify/buffer"),a=t("gulp-structify/mixin"),c=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.r=t,this.g=e,this.b=n,this.a=i}return t.random=function(){var e=new t;return e.setRandom(),e},t.fromColorF=function(e){var n=new t;return n.setFromColorF(e),n},t.fromArgbString=function(e){var n=new t;return n.setFromArgbString(e),n},t.fromRgbaInt=function(e){var n=new t;return n.setFromRgbaInt(e),n},t.create=function(e){var n=new t;return n.set(e),n},t.prototype.isOpaque=function(){return 255===this.a},t.prototype.isTransparent=function(){return 0===this.a},t.prototype.setRandom=function(){this.r=r.randomInt(0,255),this.g=r.randomInt(0,255),this.b=r.randomInt(0,255)},t.prototype.setFromColorF=function(t){this.r=255*t.r>>0,this.g=255*t.g>>0,this.b=255*t.b>>0,this.a=255*t.a>>0},t.prototype.setFromArgbString=function(t){var e=r.ArgbRegex.exec(t);this.a=parseInt(e[1],16),this.r=parseInt(e[2],16),this.g=parseInt(e[3],16),this.b=parseInt(e[4],16)},t.prototype.toArgbString=function(){var t=r.pad(this.r.toString(16)),e=r.pad(this.g.toString(16)),n=r.pad(this.b.toString(16));return"#"+r.pad(this.a.toString(16))+t+e+n},t.prototype.setFromRgbaInt=function(t){this.r=t>>24&255,this.g=t>>16&255,this.b=t>>8&255,this.a=t>>0&255},t.prototype.toRgbaInt=function(){return(this.r<<24|this.g<<16|this.b<<8|this.a<<0)>>>0},t.prototype.blend=function(t){var e=t.a+1,n=256-t.a;this.r=e*t.r+n*this.r>>8,this.g=e*t.g+n*this.g>>8,this.b=e*t.b+n*this.b>>8},t.prototype.set=function(t){this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a},t.prototype.set$=function(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a=i},t.prototype.setScalar=function(t){this.r=t,this.g=t,this.b=t,this.a=t},t.prototype.add=function(t){this.r+=t.r,this.g+=t.g,this.b+=t.b,this.a+=t.a},t.prototype.add$=function(t,e,n,i){this.r+=t,this.g+=e,this.b+=n,this.a+=i},t.prototype.subtract=function(t){this.r-=t.r,this.g-=t.g,this.b-=t.b,this.a-=t.a},t.prototype.subtract$=function(t,e,n,i){this.r-=t,this.g-=e,this.b-=n,this.a-=i},t.prototype.mulScalar=function(t){this.r*=t,this.g*=t,this.b*=t,this.a*=t},t.prototype.divScalar=function(t){this.r/=t,this.g/=t,this.b/=t,this.a/=t},t.prototype.equals=function(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a},t.prototype.equalsScalar=function(t){return this.r===t&&this.g===t&&this.b===t&&this.a===t},t.prototype.epsilonEquals=function(t,e){return Math.abs(this.r-t.r)<=e&&Math.abs(this.g-t.g)<=e&&Math.abs(this.b-t.b)<=e&&Math.abs(this.a-t.a)<=e},t.prototype.epsilonEqualsScalar=function(t,e){return Math.abs(this.r-t)<=e&&Math.abs(this.g-t)<=e&&Math.abs(this.b-t)<=e&&Math.abs(this.a-t)<=e},t.prototype.toString=function(){return"{ r: "+this.r+", g: "+this.g+", b: "+this.b+", a: "+this.a+" }"},t}();n.Color=c;var u=function(t){function e(e){return void 0===e&&(e=new Uint8Array(4)),t.call(this,e)||this}return i(e,t),e.random=function(){var t=new e;return t.setRandom(),t},e.fromColorF=function(t){var n=new e;return n.setFromColorF(t),n},e.fromArgbString=function(t){var n=new e;return n.setFromArgbString(t),n},e.fromRgbaInt=function(t){var n=new e;return n.setFromRgbaInt(t),n},e.create=function(t){var n=new e;return n.set(t),n},e.create$=function(t,n,i,r){var o=new e;return o.set$(t,n,i,r),o},Object.defineProperty(e.prototype,"r",{get:function(){return this.data[0]},set:function(t){this.data[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this.data[1]},set:function(t){this.data[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this.data[2]},set:function(t){this.data[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this.data[3]},set:function(t){this.data[3]=t},enumerable:!0,configurable:!0}),e}(o.Struct);n.ColorStruct=u,a.applyMixins(u,c);var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.create=function(t){return new e(new Uint8Array(4*t))},Object.defineProperty(e.prototype,"r",{get:function(){return this.data[this.dataPosition+0]},set:function(t){this.data[this.dataPosition+0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this.data[this.dataPosition+1]},set:function(t){this.data[this.dataPosition+1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this.data[this.dataPosition+2]},set:function(t){this.data[this.dataPosition+2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this.data[this.dataPosition+3]},set:function(t){this.data[this.dataPosition+3]=t},enumerable:!0,configurable:!0}),e.prototype.structLength=function(){return 4},e.prototype.aget=function(t,e){void 0===e&&(e=new c);var n=t*this.structLength();return e.r=this.data[n++],e.g=this.data[n++],e.b=this.data[n++],e.a=this.data[n++],e},e.prototype.rget=function(t){return void 0===t&&(t=new c),t.r=this.data[this.dataPosition++],t.g=this.data[this.dataPosition++],t.b=this.data[this.dataPosition++],t.a=this.data[this.dataPosition++],t},e.prototype.aset=function(t,e){var n=t*this.structLength();this.data[n++]=e.r,this.data[n++]=e.g,this.data[n++]=e.b,this.data[n++]=e.a},e.prototype.aset$=function(t,e,n,i,r){var o=t*this.structLength();this.data[o++]=e,this.data[o++]=n,this.data[o++]=i,this.data[o++]=r},e.prototype.rset=function(t){this.data[this.dataPosition++]=t.r,this.data[this.dataPosition++]=t.g,this.data[this.dataPosition++]=t.b,this.data[this.dataPosition++]=t.a},e.prototype.rset$=function(t,e,n,i){this.data[this.dataPosition++]=t,this.data[this.dataPosition++]=e,this.data[this.dataPosition++]=n,this.data[this.dataPosition++]=i},e}(s.StructBuffer);n.ColorBuffer=h,a.applyMixins(h,c)},{"./util":21,"gulp-structify/buffer":28,"gulp-structify/mixin":29,"gulp-structify/struct":30}],15:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("./util"),o=t("gulp-structify/struct"),s=t("gulp-structify/buffer"),a=t("gulp-structify/mixin"),c=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.r=t,this.g=e,this.b=n,this.a=i}return t.random=function(){var e=new t;return e.setRandom(),e},t.fromColor=function(e){var n=new t;return n.setFromColor(e),n},t.fromArgbString=function(e){var n=new t;return n.setFromArgbString(e),n},t.fromRgbaInt=function(e){var n=new t;return n.setFromRgbaInt(e),n},t.create=function(e){var n=new t;return n.set(e),n},t.prototype.isOpaque=function(){return 1===this.a},t.prototype.isTransparent=function(){return 0===this.a},t.prototype.setRandom=function(){this.r=Math.random(),this.g=Math.random(),this.b=Math.random()},t.prototype.setFromColor=function(t){this.r=t.r/255,this.g=t.g/255,this.b=t.b/255,this.a=t.a/255},t.prototype.setFromArgbString=function(t){var e=r.ArgbRegex.exec(t);this.a=parseInt(e[1],16)/255,this.r=parseInt(e[2],16)/255,this.g=parseInt(e[3],16)/255,this.b=parseInt(e[4],16)/255},t.prototype.toArgbString=function(){var t=r.pad((255*this.r).toString(16)),e=r.pad((255*this.g).toString(16)),n=r.pad((255*this.b).toString(16));return"#"+r.pad((255*this.a).toString(16))+t+e+n},t.prototype.setFromRgbaInt=function(t){this.r=(t>>24&255)/255,this.g=(t>>16&255)/255,this.b=(t>>8&255)/255,this.a=(t>>0&255)/255},t.prototype.toRgbaInt=function(){return(255*this.r<<24|255*this.g<<16|255*this.b<<8|255*this.a<<0)>>>0},t.prototype.premultiplyAlpha=function(){var t=this.a;this.r*=t,this.g*=t,this.b*=t},t.prototype.set=function(t){this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a},t.prototype.set$=function(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a=i},t.prototype.setScalar=function(t){this.r=t,this.g=t,this.b=t,this.a=t},t.prototype.add=function(t){this.r+=t.r,this.g+=t.g,this.b+=t.b,this.a+=t.a},t.prototype.add$=function(t,e,n,i){this.r+=t,this.g+=e,this.b+=n,this.a+=i},t.prototype.subtract=function(t){this.r-=t.r,this.g-=t.g,this.b-=t.b,this.a-=t.a},t.prototype.subtract$=function(t,e,n,i){this.r-=t,this.g-=e,this.b-=n,this.a-=i},t.prototype.mulScalar=function(t){this.r*=t,this.g*=t,this.b*=t,this.a*=t},t.prototype.divScalar=function(t){this.r/=t,this.g/=t,this.b/=t,this.a/=t},t.prototype.equals=function(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a},t.prototype.equalsScalar=function(t){return this.r===t&&this.g===t&&this.b===t&&this.a===t},t.prototype.epsilonEquals=function(t,e){return Math.abs(this.r-t.r)<=e&&Math.abs(this.g-t.g)<=e&&Math.abs(this.b-t.b)<=e&&Math.abs(this.a-t.a)<=e},t.prototype.epsilonEqualsScalar=function(t,e){return Math.abs(this.r-t)<=e&&Math.abs(this.g-t)<=e&&Math.abs(this.b-t)<=e&&Math.abs(this.a-t)<=e},t.prototype.toString=function(){return"{ r: "+this.r+", g: "+this.g+", b: "+this.b+", a: "+this.a+" }"},t}();n.ColorF=c;var u=function(t){function e(e){return void 0===e&&(e=new Float32Array(4)),t.call(this,e)||this}return i(e,t),e.random=function(){var t=new e;return t.setRandom(),t},e.fromColor=function(t){var n=new e;return n.setFromColor(t),n},e.fromArgbString=function(t){var n=new e;return n.setFromArgbString(t),n},e.fromRgbaInt=function(t){var n=new e;return n.setFromRgbaInt(t),n},e.create=function(t){var n=new e;return n.set(t),n},e.create$=function(t,n,i,r){var o=new e;return o.set$(t,n,i,r),o},Object.defineProperty(e.prototype,"r",{get:function(){return this.data[0]},set:function(t){this.data[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this.data[1]},set:function(t){this.data[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this.data[2]},set:function(t){this.data[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this.data[3]},set:function(t){this.data[3]=t},enumerable:!0,configurable:!0}),e}(o.Struct);n.ColorFStruct=u,a.applyMixins(u,c);var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.create=function(t){return new e(new Float32Array(4*t))},Object.defineProperty(e.prototype,"r",{get:function(){return this.data[this.dataPosition+0]},set:function(t){this.data[this.dataPosition+0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this.data[this.dataPosition+1]},set:function(t){this.data[this.dataPosition+1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this.data[this.dataPosition+2]},set:function(t){this.data[this.dataPosition+2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this.data[this.dataPosition+3]},set:function(t){this.data[this.dataPosition+3]=t},enumerable:!0,configurable:!0}),e.prototype.structLength=function(){return 4},e.prototype.aget=function(t,e){void 0===e&&(e=new c);var n=t*this.structLength();return e.r=this.data[n++],e.g=this.data[n++],e.b=this.data[n++],e.a=this.data[n++],e},e.prototype.rget=function(t){return void 0===t&&(t=new c),t.r=this.data[this.dataPosition++],t.g=this.data[this.dataPosition++],t.b=this.data[this.dataPosition++],t.a=this.data[this.dataPosition++],t},e.prototype.aset=function(t,e){var n=t*this.structLength();this.data[n++]=e.r,this.data[n++]=e.g,this.data[n++]=e.b,this.data[n++]=e.a},e.prototype.aset$=function(t,e,n,i,r){var o=t*this.structLength();this.data[o++]=e,this.data[o++]=n,this.data[o++]=i,this.data[o++]=r},e.prototype.rset=function(t){this.data[this.dataPosition++]=t.r,this.data[this.dataPosition++]=t.g,this.data[this.dataPosition++]=t.b,this.data[this.dataPosition++]=t.a},e.prototype.rset$=function(t,e,n,i){this.data[this.dataPosition++]=t,this.data[this.dataPosition++]=e,this.data[this.dataPosition++]=n,this.data[this.dataPosition++]=i},e}(s.StructBuffer);n.ColorFBuffer=h,a.applyMixins(h,c)},{"./util":21,"gulp-structify/buffer":28,"gulp-structify/mixin":29,"gulp-structify/struct":30}],16:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("gulp-structify/struct"),o=t("gulp-structify/buffer"),s=t("gulp-structify/mixin"),a=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.first=t,this.second=e,this.third=n}return t.create=function(e){var n=new t;return n.set(e),n},t.prototype.set=function(t){this.first=t.first,this.second=t.second,this.third=t.third},t.prototype.set$=function(t,e,n){this.first=t,this.second=e,this.third=n},t.prototype.setScalar=function(t){this.first=t,this.second=t,this.third=t},t.prototype.add=function(t){this.first+=t.first,this.second+=t.second,this.third+=t.third},t.prototype.add$=function(t,e,n){this.first+=t,this.second+=e,this.third+=n},t.prototype.subtract=function(t){this.first-=t.first,this.second-=t.second,this.third-=t.third},t.prototype.subtract$=function(t,e,n){this.first-=t,this.second-=e,this.third-=n},t.prototype.mulScalar=function(t){this.first*=t,this.second*=t,this.third*=t},t.prototype.divScalar=function(t){this.first/=t,this.second/=t,this.third/=t},t.prototype.equals=function(t){return this.first===t.first&&this.second===t.second&&this.third===t.third},t.prototype.equalsScalar=function(t){return this.first===t&&this.second===t&&this.third===t},t.prototype.epsilonEquals=function(t,e){return Math.abs(this.first-t.first)<=e&&Math.abs(this.second-t.second)<=e&&Math.abs(this.third-t.third)<=e},t.prototype.epsilonEqualsScalar=function(t,e){return Math.abs(this.first-t)<=e&&Math.abs(this.second-t)<=e&&Math.abs(this.third-t)<=e},t.prototype.toString=function(){return"{ first: "+this.first+", second: "+this.second+", third: "+this.third+" }"},t}();n.IndexTuple=a;var c=function(t){function e(e){return void 0===e&&(e=new Uint16Array(3)),t.call(this,e)||this}return i(e,t),e.create=function(t){var n=new e;return n.set(t),n},e.create$=function(t,n,i){var r=new e;return r.set$(t,n,i),r},Object.defineProperty(e.prototype,"first",{get:function(){return this.data[0]},set:function(t){this.data[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"second",{get:function(){return this.data[1]},set:function(t){this.data[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"third",{get:function(){return this.data[2]},set:function(t){this.data[2]=t},enumerable:!0,configurable:!0}),e}(r.Struct);n.IndexTupleStruct=c,s.applyMixins(c,a);var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.create=function(t){return new e(new Uint16Array(3*t))},Object.defineProperty(e.prototype,"first",{get:function(){return this.data[this.dataPosition+0]},set:function(t){this.data[this.dataPosition+0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"second",{get:function(){return this.data[this.dataPosition+1]},set:function(t){this.data[this.dataPosition+1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"third",{get:function(){return this.data[this.dataPosition+2]},set:function(t){this.data[this.dataPosition+2]=t},enumerable:!0,configurable:!0}),e.prototype.structLength=function(){return 3},e.prototype.aget=function(t,e){void 0===e&&(e=new a);var n=t*this.structLength();return e.first=this.data[n++],e.second=this.data[n++],e.third=this.data[n++],e},e.prototype.rget=function(t){return void 0===t&&(t=new a),t.first=this.data[this.dataPosition++],t.second=this.data[this.dataPosition++],t.third=this.data[this.dataPosition++],t},e.prototype.aset=function(t,e){var n=t*this.structLength();this.data[n++]=e.first,this.data[n++]=e.second,this.data[n++]=e.third},e.prototype.aset$=function(t,e,n,i){var r=t*this.structLength();this.data[r++]=e,this.data[r++]=n,this.data[r++]=i},e.prototype.rset=function(t){this.data[this.dataPosition++]=t.first,this.data[this.dataPosition++]=t.second,this.data[this.dataPosition++]=t.third},e.prototype.rset$=function(t,e,n){this.data[this.dataPosition++]=t,this.data[this.dataPosition++]=e,this.data[this.dataPosition++]=n},e}(o.StructBuffer);n.IndexTupleBuffer=u,s.applyMixins(u,a)},{"gulp-structify/buffer":28,"gulp-structify/mixin":29,"gulp-structify/struct":30}],17:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("./vec2"),o=t("gulp-structify/struct"),s=t("gulp-structify/buffer"),a=t("gulp-structify/mixin"),c=function(){function t(t,e,n,i,r,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),this.c1r1=t,this.c1r2=e,this.c2r1=n,this.c2r2=i,this.c3r1=r,this.c3r2=o}return t.concat=function(e,n){var i=new t;return i.setConcat(e,n),i},t.identity=function(){var e=new t;return e.setIdentity(),e},t.rectToRect=function(e,n,i){void 0===i&&(i=2);var r=new t;return r.setRectToRect(e,n,i),r},t.rotate=function(e,n){var i=new t;return i.setRotate(e,n),i},t.rotateToPoint=function(e,n,i){var r=new t;return r.setRotateToPoint(e,n,i),r},t.sinCos=function(e,n,i){var r=new t;return r.setSinCos(e,n,i),r},t.scale=function(e,n,i){var r=new t;return r.setScale(e,n,i),r},t.scaleToPoint=function(e,n,i){var r=new t;return r.setScaleToPoint(e,n,i),r},t.stretch=function(e,n){var i=new t;return i.setStretch(e,n),i},t.stretchToPoint=function(e,n,i){var r=new t;return r.setStretchToPoint(e,n,i),r},t.stretchRotateToPoint=function(e,n,i){var r=new t;return r.setStretchRotateToPoint(e,n,i),r},t.translate=function(e){var n=new t;return n.setTranslate(e),n},t.translate$=function(e,n){var i=new t;return i.setTranslate$(e,n),i},t.translateToPoint=function(e,n){var i=new t;return i.setTranslateToPoint(e,n),i},t.inverse=function(e){var n=new t;return n.setInverse(e),n},t.create=function(e){var n=new t;return n.set(e),n},t.prototype.determinant=function(){return this.c1r1*this.c2r2-this.c2r1*this.c1r2},t.prototype.isIdentity=function(){return 1===this.c1r1&&0===this.c2r1&&0===this.c3r1&&0===this.c1r2&&1===this.c2r2&&0===this.c3r2},t.prototype.setConcat=function(t,e){var n=t.c1r1*e.c1r1+t.c2r1*e.c1r2,i=t.c1r1*e.c2r1+t.c2r1*e.c2r2,r=t.c1r1*e.c3r1+t.c2r1*e.c3r2+t.c3r1,o=t.c1r2*e.c1r1+t.c2r2*e.c1r2,s=t.c1r2*e.c2r1+t.c2r2*e.c2r2,a=t.c1r2*e.c3r1+t.c2r2*e.c3r2+t.c3r2;this.c1r1=n,this.c2r1=i,this.c3r1=r,this.c1r2=o,this.c2r2=s,this.c3r2=a},t.prototype.setIdentity=function(){this.c1r1=1,this.c2r1=0,this.c3r1=0,this.c1r2=0,this.c2r2=1,this.c3r2=0},t.prototype.setRectToRect=function(t,e,n){void 0===n&&(n=2);var i,r;switch(n){case 0:i=t.center(),r=e.center();break;case 1:i=t.bottomRight(),r=e.bottomRight();break;default:i=t.topLeft(),r=e.topLeft()}var o=e.width()/t.width(),s=e.height()/t.height();this.setTranslate$(-i.x,-i.y),2===n?this.postScale(o,s):this.postStretch(Math.min(o,s)),this.postTranslate(r)},t.prototype.setRotate=function(t,e){var n=Math.sin(t),i=Math.cos(t);this.setSinCos(n,i,e)},t.prototype.setRotateToPoint=function(t,e,n){var i=r.Vec2.create(t),o=r.Vec2.create(e);n&&(i.subtract(n),o.subtract(n)),i.normalize(),o.normalize();var s=i.cross(o),a=i.dot(o);this.setSinCos(s,a,n)},t.prototype.setSinCos=function(t,e,n){this.c1r1=e,this.c2r1=-t,this.c3r1=0,this.c1r2=t,this.c2r2=e,this.c3r2=0,n&&this.conjugateByTranslation$(n.x,n.y)},t.prototype.setScale=function(t,e,n){this.c1r1=t,this.c2r1=0,this.c3r1=0,this.c1r2=0,this.c2r2=e,this.c3r2=0,n&&this.conjugateByTranslation$(n.x,n.y)},t.prototype.setScaleToPoint=function(t,e,n){var i=n?(e.x-n.x)/(t.x-n.x):e.x/t.x,r=n?(e.y-n.y)/(t.y-n.y):e.y/t.y;this.setScale(i,r,n)},t.prototype.setStretch=function(t,e){return this.setScale(t,t,e)},t.prototype.setStretchToPoint=function(t,e,n){var i=t.distance(n),r=e.distance(n)/i;return this.setStretch(r,n)},t.prototype.setStretchRotateToPoint=function(t,e,n){var i=r.Vec2.create(t),o=r.Vec2.create(e);n&&(i.subtract(n),o.subtract(n));var s=i.length(),a=o.length(),c=a/s;i.divScalar(s),o.divScalar(a);var u=i.cross(o),h=i.dot(o);this.setSinCos(u,h),this.postStretch(c),n&&this.conjugateByTranslation$(n.x,n.y)},t.prototype.setTranslate=function(t){this.setTranslate$(t.x,t.y)},t.prototype.setTranslate$=function(t,e){this.c1r1=1,this.c2r1=0,this.c3r1=t,this.c1r2=0,this.c2r2=1,this.c3r2=e},t.prototype.setTranslateToPoint=function(t,e){this.setTranslate$(e.x-t.x,e.y-t.y)},t.prototype.conjugateByTranslation=function(t){this.conjugateByTranslation$(t.x,t.y)},t.prototype.conjugateByTranslation$=function(t,e){this.preTranslate$(-t,-e),this.postTranslate$(t,e)},t.prototype.setInverse=function(t){var e=t.c1r1,n=t.c2r1,i=t.c3r1,r=t.c1r2,o=t.c2r2,s=t.c3r2,a=1/(e*o-n*r);this.c1r1=o*a,this.c2r1=-n*a,this.c3r1=(n*s-i*o)*a,this.c1r2=-r*a,this.c2r2=e*a,this.c3r2=(r*i-e*s)*a},t.prototype.postConcat=function(t){this.setConcat(t,this)},t.prototype.preConcat=function(t){this.setConcat(this,t)},t.prototype.postRotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this,r=i.c1r1,o=i.c2r1,s=i.c3r1;this.c1r1=n*r-e*this.c1r2,this.c2r1=n*o-e*this.c2r2,this.c3r1=n*s-e*this.c3r2,this.c1r2=e*r+n*this.c1r2,this.c2r2=e*o+n*this.c2r2,this.c3r2=e*s+e*this.c3r2},t.prototype.preRotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this,r=i.c1r1,o=i.c1r2;this.c1r1=r*n+this.c2r1*e,this.c1r2=o*n+this.c2r2*e,this.c2r1=r*-e+this.c2r1*n,this.c2r2=o*-e+this.c2r2*n},t.prototype.postScale=function(t,e){this.c1r1*=t,this.c2r1*=t,this.c3r1*=t,this.c1r2*=e,this.c2r2*=e,this.c3r2*=e},t.prototype.preScale=function(t,e){this.c1r1*=t,this.c1r2*=t,this.c2r1*=e,this.c2r2*=e},t.prototype.postStretch=function(t){this.postScale(t,t)},t.prototype.preStretch=function(t){this.preScale(t,t)},t.prototype.postTranslate=function(t){this.postTranslate$(t.x,t.y)},t.prototype.postTranslate$=function(t,e){this.c3r1+=t,this.c3r2+=e},t.prototype.preTranslate=function(t){this.preTranslate$(t.x,t.y)},t.prototype.preTranslate$=function(t,e){this.c3r1+=this.c1r1*t+this.c2r1*e,this.c3r2+=this.c1r2*t+this.c2r2*e},t.prototype.map=function(t,e){this.map$(t.x,t.y,e)},t.prototype.map$=function(t,e,n){n.x=this.c1r1*t+this.c2r1*e+this.c3r1,n.y=this.c1r2*t+this.c2r2*e+this.c3r2},t.prototype.mapPoints=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length-e);for(var i=this,r=i.c1r1,o=i.c2r1,s=i.c3r1,a=i.c1r2,c=i.c2r2,u=i.c3r2;n-- >0;){var h=t[e++],l=h.x,f=h.y;h.x=r*l+o*f+s,h.y=a*l+c*f+u}},t.prototype.mapPoints$=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length-e>>1);for(var i=this,r=i.c1r1,o=i.c2r1,s=i.c3r1,a=i.c1r2,c=i.c2r2,u=i.c3r2;n-- >0;){var h=t[e],l=t[e+1];t[e++]=r*h+o*l+s,t[e++]=a*h+c*l+u}},t.prototype.mapRect=function(t,e){var n=t.corners();this.mapPoints(n),e.setUnionOfPoints(n)},t.prototype.set=function(t){this.c1r1=t.c1r1,this.c1r2=t.c1r2,this.c2r1=t.c2r1,this.c2r2=t.c2r2,this.c3r1=t.c3r1,this.c3r2=t.c3r2},t.prototype.set$=function(t,e,n,i,r,o){this.c1r1=t,this.c1r2=e,this.c2r1=n,this.c2r2=i,this.c3r1=r,this.c3r2=o},t.prototype.setScalar=function(t){this.c1r1=t,this.c1r2=t,this.c2r1=t,this.c2r2=t,this.c3r1=t,this.c3r2=t},t.prototype.add=function(t){this.c1r1+=t.c1r1,this.c1r2+=t.c1r2,this.c2r1+=t.c2r1,this.c2r2+=t.c2r2,this.c3r1+=t.c3r1,this.c3r2+=t.c3r2},t.prototype.add$=function(t,e,n,i,r,o){this.c1r1+=t,this.c1r2+=e,this.c2r1+=n,this.c2r2+=i,this.c3r1+=r,this.c3r2+=o},t.prototype.subtract=function(t){this.c1r1-=t.c1r1,this.c1r2-=t.c1r2,this.c2r1-=t.c2r1,this.c2r2-=t.c2r2,this.c3r1-=t.c3r1,this.c3r2-=t.c3r2},t.prototype.subtract$=function(t,e,n,i,r,o){this.c1r1-=t,this.c1r2-=e,this.c2r1-=n,this.c2r2-=i,this.c3r1-=r,this.c3r2-=o},t.prototype.mulScalar=function(t){this.c1r1*=t,this.c1r2*=t,this.c2r1*=t,this.c2r2*=t,this.c3r1*=t,this.c3r2*=t},t.prototype.divScalar=function(t){this.c1r1/=t,this.c1r2/=t,this.c2r1/=t,this.c2r2/=t,this.c3r1/=t,this.c3r2/=t},t.prototype.equals=function(t){return this.c1r1===t.c1r1&&this.c1r2===t.c1r2&&this.c2r1===t.c2r1&&this.c2r2===t.c2r2&&this.c3r1===t.c3r1&&this.c3r2===t.c3r2},t.prototype.equalsScalar=function(t){return this.c1r1===t&&this.c1r2===t&&this.c2r1===t&&this.c2r2===t&&this.c3r1===t&&this.c3r2===t},t.prototype.epsilonEquals=function(t,e){return Math.abs(this.c1r1-t.c1r1)<=e&&Math.abs(this.c1r2-t.c1r2)<=e&&Math.abs(this.c2r1-t.c2r1)<=e&&Math.abs(this.c2r2-t.c2r2)<=e&&Math.abs(this.c3r1-t.c3r1)<=e&&Math.abs(this.c3r2-t.c3r2)<=e},t.prototype.epsilonEqualsScalar=function(t,e){return Math.abs(this.c1r1-t)<=e&&Math.abs(this.c1r2-t)<=e&&Math.abs(this.c2r1-t)<=e&&Math.abs(this.c2r2-t)<=e&&Math.abs(this.c3r1-t)<=e&&Math.abs(this.c3r2-t)<=e},t.prototype.toString=function(){return"{ c1r1: "+this.c1r1+", c1r2: "+this.c1r2+", c2r1: "+this.c2r1+", c2r2: "+this.c2r2+", c3r1: "+this.c3r1+", c3r2: "+this.c3r2+" }"},t}();n.Mat2d=c;var u=function(t){function e(e){return void 0===e&&(e=new Float32Array(6)),t.call(this,e)||this}return i(e,t),e.concat=function(t,n){var i=new e;return i.setConcat(t,n),i},e.identity=function(){var t=new e;return t.setIdentity(),t},e.rectToRect=function(t,n,i){void 0===i&&(i=2);var r=new e;return r.setRectToRect(t,n,i),r},e.rotate=function(t,n){var i=new e;return i.setRotate(t,n),i},e.rotateToPoint=function(t,n,i){var r=new e;return r.setRotateToPoint(t,n,i),r},e.sinCos=function(t,n,i){var r=new e;return r.setSinCos(t,n,i),r},e.scale=function(t,n,i){var r=new e;return r.setScale(t,n,i),r},e.scaleToPoint=function(t,n,i){var r=new e;return r.setScaleToPoint(t,n,i),r},e.stretch=function(t,n){var i=new e;return i.setStretch(t,n),i},e.stretchToPoint=function(t,n,i){var r=new e;return r.setStretchToPoint(t,n,i),r},e.stretchRotateToPoint=function(t,n,i){var r=new e;return r.setStretchRotateToPoint(t,n,i),r},e.translate=function(t){var n=new e;return n.setTranslate(t),n},e.translate$=function(t,n){var i=new e;return i.setTranslate$(t,n),i},e.translateToPoint=function(t,n){var i=new e;return i.setTranslateToPoint(t,n),i},e.inverse=function(t){var n=new e;return n.setInverse(t),n},e.create=function(t){var n=new e;return n.set(t),n},e.create$=function(t,n,i,r,o,s){var a=new e;return a.set$(t,n,i,r,o,s),a},Object.defineProperty(e.prototype,"c1r1",{get:function(){return this.data[0]},set:function(t){this.data[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c1r2",{get:function(){return this.data[1]},set:function(t){this.data[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c2r1",{get:function(){return this.data[2]},set:function(t){this.data[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c2r2",{get:function(){return this.data[3]},set:function(t){this.data[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c3r1",{get:function(){return this.data[4]},set:function(t){this.data[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c3r2",{get:function(){return this.data[5]},set:function(t){this.data[5]=t},enumerable:!0,configurable:!0}),e}(o.Struct);n.Mat2dStruct=u,a.applyMixins(u,c);var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.create=function(t){return new e(new Float32Array(6*t))},Object.defineProperty(e.prototype,"c1r1",{get:function(){return this.data[this.dataPosition+0]},set:function(t){this.data[this.dataPosition+0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c1r2",{get:function(){return this.data[this.dataPosition+1]},set:function(t){this.data[this.dataPosition+1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c2r1",{get:function(){return this.data[this.dataPosition+2]},set:function(t){this.data[this.dataPosition+2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c2r2",{get:function(){return this.data[this.dataPosition+3]},set:function(t){this.data[this.dataPosition+3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c3r1",{get:function(){return this.data[this.dataPosition+4]},set:function(t){this.data[this.dataPosition+4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c3r2",{get:function(){return this.data[this.dataPosition+5]},set:function(t){this.data[this.dataPosition+5]=t},enumerable:!0,configurable:!0}),e.prototype.structLength=function(){return 6},e.prototype.aget=function(t,e){void 0===e&&(e=new c);var n=t*this.structLength();return e.c1r1=this.data[n++],e.c1r2=this.data[n++],e.c2r1=this.data[n++],e.c2r2=this.data[n++],e.c3r1=this.data[n++],e.c3r2=this.data[n++],e},e.prototype.rget=function(t){return void 0===t&&(t=new c),t.c1r1=this.data[this.dataPosition++],t.c1r2=this.data[this.dataPosition++],t.c2r1=this.data[this.dataPosition++],t.c2r2=this.data[this.dataPosition++],t.c3r1=this.data[this.dataPosition++],t.c3r2=this.data[this.dataPosition++],t},e.prototype.aset=function(t,e){var n=t*this.structLength();this.data[n++]=e.c1r1,this.data[n++]=e.c1r2,this.data[n++]=e.c2r1,this.data[n++]=e.c2r2,this.data[n++]=e.c3r1,this.data[n++]=e.c3r2},e.prototype.aset$=function(t,e,n,i,r,o,s){var a=t*this.structLength();this.data[a++]=e,this.data[a++]=n,this.data[a++]=i,this.data[a++]=r,this.data[a++]=o,this.data[a++]=s},e.prototype.rset=function(t){this.data[this.dataPosition++]=t.c1r1,this.data[this.dataPosition++]=t.c1r2,this.data[this.dataPosition++]=t.c2r1,this.data[this.dataPosition++]=t.c2r2,this.data[this.dataPosition++]=t.c3r1,this.data[this.dataPosition++]=t.c3r2},e.prototype.rset$=function(t,e,n,i,r,o){this.data[this.dataPosition++]=t,this.data[this.dataPosition++]=e,this.data[this.dataPosition++]=n,this.data[this.dataPosition++]=i,this.data[this.dataPosition++]=r,this.data[this.dataPosition++]=o},e}(s.StructBuffer);n.Mat2dBuffer=h,a.applyMixins(h,c)},{"./vec2":22,"gulp-structify/buffer":28,"gulp-structify/mixin":29,"gulp-structify/struct":30}],18:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("gulp-structify/struct"),o=t("gulp-structify/buffer"),s=t("gulp-structify/mixin"),a=function(){function t(t,e,n,i,r,o,s,a,c,u,h,l,f,d,p,g){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===c&&(c=0),void 0===u&&(u=0),void 0===h&&(h=0),void 0===l&&(l=0),void 0===f&&(f=0),void 0===d&&(d=0),void 0===p&&(p=0),void 0===g&&(g=0),this.c1r1=t,this.c1r2=e,this.c1r3=n,this.c1r4=i,this.c2r1=r,this.c2r2=o,this.c2r3=s,this.c2r4=a,this.c3r1=c,this.c3r2=u,this.c3r3=h,this.c3r4=l,this.c4r1=f,this.c4r2=d,this.c4r3=p,this.c4r4=g}return t.create=function(e){var n=new t;return n.set(e),n},t.prototype.ortho=function(t,e,n){this.ortho$(t.left,t.right,t.bottom,t.top,e,n)},t.prototype.ortho$=function(t,e,n,i,r,o){var s=e-t,a=i-n,c=r-o;this.c1r1=2/s,this.c1r2=0,this.c1r3=0,this.c1r4=0,this.c2r1=0,this.c2r2=2/a,this.c2r3=0,this.c2r4=0,this.c3r1=0,this.c3r2=0,this.c3r3=1/c,this.c3r4=0,this.c4r1=-(e+t)/s,this.c4r2=-(i+n)/a,this.c4r3=-r/c,this.c4r4=1},t.prototype.set=function(t){this.c1r1=t.c1r1,this.c1r2=t.c1r2,this.c1r3=t.c1r3,this.c1r4=t.c1r4,this.c2r1=t.c2r1,this.c2r2=t.c2r2,this.c2r3=t.c2r3,this.c2r4=t.c2r4,this.c3r1=t.c3r1,this.c3r2=t.c3r2,this.c3r3=t.c3r3,this.c3r4=t.c3r4,this.c4r1=t.c4r1,this.c4r2=t.c4r2,this.c4r3=t.c4r3,this.c4r4=t.c4r4},t.prototype.set$=function(t,e,n,i,r,o,s,a,c,u,h,l,f,d,p,g){this.c1r1=t,this.c1r2=e,this.c1r3=n,this.c1r4=i,this.c2r1=r,this.c2r2=o,this.c2r3=s,this.c2r4=a,this.c3r1=c,this.c3r2=u,this.c3r3=h,this.c3r4=l,this.c4r1=f,this.c4r2=d,this.c4r3=p,this.c4r4=g},t.prototype.setScalar=function(t){this.c1r1=t,this.c1r2=t,this.c1r3=t,this.c1r4=t,this.c2r1=t,this.c2r2=t,this.c2r3=t,this.c2r4=t,this.c3r1=t,this.c3r2=t,this.c3r3=t,this.c3r4=t,this.c4r1=t,this.c4r2=t,this.c4r3=t,this.c4r4=t},t.prototype.add=function(t){this.c1r1+=t.c1r1,this.c1r2+=t.c1r2,this.c1r3+=t.c1r3,this.c1r4+=t.c1r4,this.c2r1+=t.c2r1,this.c2r2+=t.c2r2,this.c2r3+=t.c2r3,this.c2r4+=t.c2r4,this.c3r1+=t.c3r1,this.c3r2+=t.c3r2,this.c3r3+=t.c3r3,this.c3r4+=t.c3r4,this.c4r1+=t.c4r1,this.c4r2+=t.c4r2,this.c4r3+=t.c4r3,this.c4r4+=t.c4r4},t.prototype.add$=function(t,e,n,i,r,o,s,a,c,u,h,l,f,d,p,g){this.c1r1+=t,this.c1r2+=e,this.c1r3+=n,this.c1r4+=i,this.c2r1+=r,this.c2r2+=o,this.c2r3+=s,this.c2r4+=a,this.c3r1+=c,this.c3r2+=u,this.c3r3+=h,this.c3r4+=l,this.c4r1+=f,this.c4r2+=d,this.c4r3+=p,this.c4r4+=g},t.prototype.subtract=function(t){this.c1r1-=t.c1r1,this.c1r2-=t.c1r2,this.c1r3-=t.c1r3,this.c1r4-=t.c1r4,this.c2r1-=t.c2r1,this.c2r2-=t.c2r2,this.c2r3-=t.c2r3,this.c2r4-=t.c2r4,this.c3r1-=t.c3r1,this.c3r2-=t.c3r2,this.c3r3-=t.c3r3,this.c3r4-=t.c3r4,this.c4r1-=t.c4r1,this.c4r2-=t.c4r2,this.c4r3-=t.c4r3,this.c4r4-=t.c4r4},t.prototype.subtract$=function(t,e,n,i,r,o,s,a,c,u,h,l,f,d,p,g){this.c1r1-=t,this.c1r2-=e,this.c1r3-=n,this.c1r4-=i,this.c2r1-=r,this.c2r2-=o,this.c2r3-=s,this.c2r4-=a,this.c3r1-=c,this.c3r2-=u,this.c3r3-=h,this.c3r4-=l,this.c4r1-=f,this.c4r2-=d,this.c4r3-=p,this.c4r4-=g},t.prototype.mulScalar=function(t){this.c1r1*=t,this.c1r2*=t,this.c1r3*=t,this.c1r4*=t,this.c2r1*=t,this.c2r2*=t,this.c2r3*=t,this.c2r4*=t,this.c3r1*=t,this.c3r2*=t,this.c3r3*=t,this.c3r4*=t,this.c4r1*=t,this.c4r2*=t,this.c4r3*=t,this.c4r4*=t},t.prototype.divScalar=function(t){this.c1r1/=t,this.c1r2/=t,this.c1r3/=t,this.c1r4/=t,this.c2r1/=t,this.c2r2/=t,this.c2r3/=t,this.c2r4/=t,this.c3r1/=t,this.c3r2/=t,this.c3r3/=t,this.c3r4/=t,this.c4r1/=t,this.c4r2/=t,this.c4r3/=t,this.c4r4/=t},t.prototype.equals=function(t){return this.c1r1===t.c1r1&&this.c1r2===t.c1r2&&this.c1r3===t.c1r3&&this.c1r4===t.c1r4&&this.c2r1===t.c2r1&&this.c2r2===t.c2r2&&this.c2r3===t.c2r3&&this.c2r4===t.c2r4&&this.c3r1===t.c3r1&&this.c3r2===t.c3r2&&this.c3r3===t.c3r3&&this.c3r4===t.c3r4&&this.c4r1===t.c4r1&&this.c4r2===t.c4r2&&this.c4r3===t.c4r3&&this.c4r4===t.c4r4},t.prototype.equalsScalar=function(t){return this.c1r1===t&&this.c1r2===t&&this.c1r3===t&&this.c1r4===t&&this.c2r1===t&&this.c2r2===t&&this.c2r3===t&&this.c2r4===t&&this.c3r1===t&&this.c3r2===t&&this.c3r3===t&&this.c3r4===t&&this.c4r1===t&&this.c4r2===t&&this.c4r3===t&&this.c4r4===t},t.prototype.epsilonEquals=function(t,e){return Math.abs(this.c1r1-t.c1r1)<=e&&Math.abs(this.c1r2-t.c1r2)<=e&&Math.abs(this.c1r3-t.c1r3)<=e&&Math.abs(this.c1r4-t.c1r4)<=e&&Math.abs(this.c2r1-t.c2r1)<=e&&Math.abs(this.c2r2-t.c2r2)<=e&&Math.abs(this.c2r3-t.c2r3)<=e&&Math.abs(this.c2r4-t.c2r4)<=e&&Math.abs(this.c3r1-t.c3r1)<=e&&Math.abs(this.c3r2-t.c3r2)<=e&&Math.abs(this.c3r3-t.c3r3)<=e&&Math.abs(this.c3r4-t.c3r4)<=e&&Math.abs(this.c4r1-t.c4r1)<=e&&Math.abs(this.c4r2-t.c4r2)<=e&&Math.abs(this.c4r3-t.c4r3)<=e&&Math.abs(this.c4r4-t.c4r4)<=e},t.prototype.epsilonEqualsScalar=function(t,e){return Math.abs(this.c1r1-t)<=e&&Math.abs(this.c1r2-t)<=e&&Math.abs(this.c1r3-t)<=e&&Math.abs(this.c1r4-t)<=e&&Math.abs(this.c2r1-t)<=e&&Math.abs(this.c2r2-t)<=e&&Math.abs(this.c2r3-t)<=e&&Math.abs(this.c2r4-t)<=e&&Math.abs(this.c3r1-t)<=e&&Math.abs(this.c3r2-t)<=e&&Math.abs(this.c3r3-t)<=e&&Math.abs(this.c3r4-t)<=e&&Math.abs(this.c4r1-t)<=e&&Math.abs(this.c4r2-t)<=e&&Math.abs(this.c4r3-t)<=e&&Math.abs(this.c4r4-t)<=e},t.prototype.toString=function(){return"{ c1r1: "+this.c1r1+", c1r2: "+this.c1r2+", c1r3: "+this.c1r3+", c1r4: "+this.c1r4+", c2r1: "+this.c2r1+", c2r2: "+this.c2r2+", c2r3: "+this.c2r3+", c2r4: "+this.c2r4+", c3r1: "+this.c3r1+", c3r2: "+this.c3r2+", c3r3: "+this.c3r3+", c3r4: "+this.c3r4+", c4r1: "+this.c4r1+", c4r2: "+this.c4r2+", c4r3: "+this.c4r3+", c4r4: "+this.c4r4+" }"},t}();n.Mat4=a;var c=function(t){function e(e){return void 0===e&&(e=new Float32Array(16)),t.call(this,e)||this}return i(e,t),e.create=function(t){var n=new e;return n.set(t),n},e.create$=function(t,n,i,r,o,s,a,c,u,h,l,f,d,p,g,v){var m=new e;return m.set$(t,n,i,r,o,s,a,c,u,h,l,f,d,p,g,v),m},Object.defineProperty(e.prototype,"c1r1",{get:function(){return this.data[0]},set:function(t){this.data[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c1r2",{get:function(){return this.data[1]},set:function(t){this.data[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c1r3",{get:function(){return this.data[2]},set:function(t){this.data[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c1r4",{get:function(){return this.data[3]},set:function(t){this.data[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c2r1",{get:function(){return this.data[4]},set:function(t){this.data[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c2r2",{get:function(){return this.data[5]},set:function(t){this.data[5]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c2r3",{get:function(){return this.data[6]},set:function(t){this.data[6]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c2r4",{get:function(){return this.data[7]},set:function(t){this.data[7]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c3r1",{get:function(){return this.data[8]},set:function(t){this.data[8]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c3r2",{get:function(){return this.data[9]},set:function(t){this.data[9]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c3r3",{get:function(){return this.data[10]},set:function(t){this.data[10]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c3r4",{get:function(){return this.data[11]},set:function(t){this.data[11]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c4r1",{get:function(){return this.data[12]},set:function(t){this.data[12]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c4r2",{get:function(){return this.data[13]},set:function(t){this.data[13]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c4r3",{get:function(){return this.data[14]},set:function(t){this.data[14]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c4r4",{get:function(){return this.data[15]},set:function(t){this.data[15]=t},enumerable:!0,configurable:!0}),e}(r.Struct);n.Mat4Struct=c,s.applyMixins(c,a);var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.create=function(t){return new e(new Float32Array(16*t))},Object.defineProperty(e.prototype,"c1r1",{get:function(){return this.data[this.dataPosition+0]},set:function(t){this.data[this.dataPosition+0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c1r2",{get:function(){return this.data[this.dataPosition+1]},set:function(t){this.data[this.dataPosition+1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c1r3",{get:function(){return this.data[this.dataPosition+2]},set:function(t){this.data[this.dataPosition+2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c1r4",{get:function(){return this.data[this.dataPosition+3]},set:function(t){this.data[this.dataPosition+3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c2r1",{get:function(){return this.data[this.dataPosition+4]},set:function(t){this.data[this.dataPosition+4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c2r2",{get:function(){return this.data[this.dataPosition+5]},set:function(t){this.data[this.dataPosition+5]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c2r3",{get:function(){return this.data[this.dataPosition+6]},set:function(t){this.data[this.dataPosition+6]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c2r4",{get:function(){return this.data[this.dataPosition+7]},set:function(t){this.data[this.dataPosition+7]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c3r1",{get:function(){return this.data[this.dataPosition+8]},set:function(t){this.data[this.dataPosition+8]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c3r2",{get:function(){return this.data[this.dataPosition+9]},set:function(t){this.data[this.dataPosition+9]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c3r3",{get:function(){return this.data[this.dataPosition+10]},set:function(t){this.data[this.dataPosition+10]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c3r4",{get:function(){return this.data[this.dataPosition+11]},set:function(t){this.data[this.dataPosition+11]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c4r1",{get:function(){return this.data[this.dataPosition+12]},set:function(t){this.data[this.dataPosition+12]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c4r2",{get:function(){return this.data[this.dataPosition+13]},set:function(t){this.data[this.dataPosition+13]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c4r3",{get:function(){return this.data[this.dataPosition+14]},set:function(t){this.data[this.dataPosition+14]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c4r4",{get:function(){return this.data[this.dataPosition+15]},set:function(t){this.data[this.dataPosition+15]=t},enumerable:!0,configurable:!0}),e.prototype.structLength=function(){return 16},e.prototype.aget=function(t,e){void 0===e&&(e=new a);var n=t*this.structLength();return e.c1r1=this.data[n++],e.c1r2=this.data[n++],e.c1r3=this.data[n++],e.c1r4=this.data[n++],e.c2r1=this.data[n++],e.c2r2=this.data[n++],e.c2r3=this.data[n++],e.c2r4=this.data[n++],e.c3r1=this.data[n++],e.c3r2=this.data[n++],e.c3r3=this.data[n++],e.c3r4=this.data[n++],e.c4r1=this.data[n++],e.c4r2=this.data[n++],e.c4r3=this.data[n++],e.c4r4=this.data[n++],e},e.prototype.rget=function(t){return void 0===t&&(t=new a),t.c1r1=this.data[this.dataPosition++],t.c1r2=this.data[this.dataPosition++],t.c1r3=this.data[this.dataPosition++],t.c1r4=this.data[this.dataPosition++],t.c2r1=this.data[this.dataPosition++],t.c2r2=this.data[this.dataPosition++],t.c2r3=this.data[this.dataPosition++],t.c2r4=this.data[this.dataPosition++],t.c3r1=this.data[this.dataPosition++],t.c3r2=this.data[this.dataPosition++],t.c3r3=this.data[this.dataPosition++],t.c3r4=this.data[this.dataPosition++],t.c4r1=this.data[this.dataPosition++],t.c4r2=this.data[this.dataPosition++],t.c4r3=this.data[this.dataPosition++],t.c4r4=this.data[this.dataPosition++],t},e.prototype.aset=function(t,e){var n=t*this.structLength();this.data[n++]=e.c1r1,this.data[n++]=e.c1r2,this.data[n++]=e.c1r3,this.data[n++]=e.c1r4,this.data[n++]=e.c2r1,this.data[n++]=e.c2r2,this.data[n++]=e.c2r3,this.data[n++]=e.c2r4,this.data[n++]=e.c3r1,this.data[n++]=e.c3r2,this.data[n++]=e.c3r3,this.data[n++]=e.c3r4,this.data[n++]=e.c4r1,this.data[n++]=e.c4r2,this.data[n++]=e.c4r3,this.data[n++]=e.c4r4},e.prototype.aset$=function(t,e,n,i,r,o,s,a,c,u,h,l,f,d,p,g,v){var m=t*this.structLength();this.data[m++]=e,this.data[m++]=n,this.data[m++]=i,this.data[m++]=r,this.data[m++]=o,this.data[m++]=s,this.data[m++]=a,this.data[m++]=c,this.data[m++]=u,this.data[m++]=h,this.data[m++]=l,this.data[m++]=f,this.data[m++]=d,this.data[m++]=p,this.data[m++]=g,this.data[m++]=v},e.prototype.rset=function(t){this.data[this.dataPosition++]=t.c1r1,this.data[this.dataPosition++]=t.c1r2,this.data[this.dataPosition++]=t.c1r3,this.data[this.dataPosition++]=t.c1r4,this.data[this.dataPosition++]=t.c2r1,this.data[this.dataPosition++]=t.c2r2,this.data[this.dataPosition++]=t.c2r3,this.data[this.dataPosition++]=t.c2r4,this.data[this.dataPosition++]=t.c3r1,this.data[this.dataPosition++]=t.c3r2,this.data[this.dataPosition++]=t.c3r3,this.data[this.dataPosition++]=t.c3r4,this.data[this.dataPosition++]=t.c4r1,this.data[this.dataPosition++]=t.c4r2,this.data[this.dataPosition++]=t.c4r3,this.data[this.dataPosition++]=t.c4r4},e.prototype.rset$=function(t,e,n,i,r,o,s,a,c,u,h,l,f,d,p,g){this.data[this.dataPosition++]=t,this.data[this.dataPosition++]=e,this.data[this.dataPosition++]=n,this.data[this.dataPosition++]=i,this.data[this.dataPosition++]=r,this.data[this.dataPosition++]=o,this.data[this.dataPosition++]=s,this.data[this.dataPosition++]=a,this.data[this.dataPosition++]=c,this.data[this.dataPosition++]=u,this.data[this.dataPosition++]=h,this.data[this.dataPosition++]=l,this.data[this.dataPosition++]=f,this.data[this.dataPosition++]=d,this.data[this.dataPosition++]=p,this.data[this.dataPosition++]=g},e}(o.StructBuffer);n.Mat4Buffer=u,s.applyMixins(u,a)},{"gulp-structify/buffer":28,"gulp-structify/mixin":29,"gulp-structify/struct":30}],19:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("gulp-structify/struct"),o=t("gulp-structify/buffer"),s=t("gulp-structify/mixin"),a=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.midpoint=function(e,n){var i=new t;return i.setMidpoint(e,n),i},t.create=function(e){var n=new t;return n.set(e),n},t.prototype.setMidpoint=function(t,e){this.x=.5*(t.x+e.x),this.y=.5*(t.y+e.y)},t.prototype.distance=function(t){return Math.sqrt(this.distance2(t))},t.prototype.distance2=function(t){var e=t?t.x-this.x:this.x,n=t?t.y-this.y:this.y;return e*e+n*n},t.prototype.set=function(t){this.x=t.x,this.y=t.y},t.prototype.set$=function(t,e){this.x=t,this.y=e},t.prototype.setScalar=function(t){this.x=t,this.y=t},t.prototype.add=function(t){this.x+=t.x,this.y+=t.y},t.prototype.add$=function(t,e){this.x+=t,this.y+=e},t.prototype.subtract=function(t){this.x-=t.x,this.y-=t.y},t.prototype.subtract$=function(t,e){this.x-=t,this.y-=e},t.prototype.mulScalar=function(t){this.x*=t,this.y*=t},t.prototype.divScalar=function(t){this.x/=t,this.y/=t},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t.prototype.equalsScalar=function(t){return this.x===t&&this.y===t},t.prototype.epsilonEquals=function(t,e){return Math.abs(this.x-t.x)<=e&&Math.abs(this.y-t.y)<=e},t.prototype.epsilonEqualsScalar=function(t,e){return Math.abs(this.x-t)<=e&&Math.abs(this.y-t)<=e},t.prototype.toString=function(){return"{ x: "+this.x+", y: "+this.y+" }"},t}();n.Point=a;var c=function(t){function e(e){return void 0===e&&(e=new Float32Array(2)),t.call(this,e)||this}return i(e,t),e.midpoint=function(t,n){var i=new e;return i.setMidpoint(t,n),i},e.create=function(t){var n=new e;return n.set(t),n},e.create$=function(t,n){var i=new e;return i.set$(t,n),i},Object.defineProperty(e.prototype,"x",{get:function(){return this.data[0]},set:function(t){this.data[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.data[1]},set:function(t){this.data[1]=t},enumerable:!0,configurable:!0}),e}(r.Struct);n.PointStruct=c,s.applyMixins(c,a);var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.create=function(t){return new e(new Float32Array(2*t))},Object.defineProperty(e.prototype,"x",{get:function(){return this.data[this.dataPosition+0]},set:function(t){this.data[this.dataPosition+0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.data[this.dataPosition+1]},set:function(t){this.data[this.dataPosition+1]=t},enumerable:!0,configurable:!0}),e.prototype.structLength=function(){return 2},e.prototype.aget=function(t,e){void 0===e&&(e=new a);var n=t*this.structLength();return e.x=this.data[n++],e.y=this.data[n++],e},e.prototype.rget=function(t){return void 0===t&&(t=new a),t.x=this.data[this.dataPosition++],t.y=this.data[this.dataPosition++],t},e.prototype.aset=function(t,e){var n=t*this.structLength();this.data[n++]=e.x,this.data[n++]=e.y},e.prototype.aset$=function(t,e,n){var i=t*this.structLength();this.data[i++]=e,this.data[i++]=n},e.prototype.rset=function(t){this.data[this.dataPosition++]=t.x,this.data[this.dataPosition++]=t.y},e.prototype.rset$=function(t,e){this.data[this.dataPosition++]=t,this.data[this.dataPosition++]=e},e}(o.StructBuffer);n.PointBuffer=u,s.applyMixins(u,a)},{"gulp-structify/buffer":28,"gulp-structify/mixin":29,"gulp-structify/struct":30}],20:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("./point"),o=t("gulp-structify/struct"),s=t("gulp-structify/buffer"),a=t("gulp-structify/mixin"),c=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.left=t,this.top=e,this.right=n,this.bottom=i}return t.ltrb=function(e,n,i,r){var o=new t;return o.setLtrb(e,n,i,r),o},t.lbrt=function(e,n,i,r){var o=new t;return o.setLbrt(e,n,i,r),o},t.lrbt=function(e,n,i,r){var o=new t;return o.setLrbt(e,n,i,r),o},t.ltwh=function(e,n,i,r){var o=new t;return o.setLtwh(e,n,i,r),o},t.lbwh=function(e,n,i,r){var o=new t;return o.setLbwh(e,n,i,r),o},t.unionOfPoints=function(e,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);var r=new t;return r.setUnionOfPoints(e,n,i),r},t.unionOfPoints$=function(e,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length>>1);var r=new t;return r.setUnionOfPoints$(e,n,i),r},t.create=function(e){var n=new t;return n.set(e),n},t.prototype.setLtrb=function(t,e,n,i){this.left=t,this.top=e,this.right=n,this.bottom=i},t.prototype.setLbrt=function(t,e,n,i){this.left=t,this.top=i,this.right=n,this.bottom=e},t.prototype.setLrbt=function(t,e,n,i){this.left=t,this.top=i,this.right=e,this.bottom=n},t.prototype.setLtwh=function(t,e,n,i){this.left=t,this.top=e,this.right=t+n,this.bottom=e-i},t.prototype.setLbwh=function(t,e,n,i){this.left=t,this.top=e+i,this.right=t+n,this.bottom=e},t.prototype.isEmpty=function(){return this.left>=this.right||this.bottom>=this.top},t.prototype.isValid=function(){return this.right>=this.left&&this.top>=this.bottom},t.prototype.width=function(){return this.right-this.left},t.prototype.height=function(){return this.top-this.bottom},t.prototype.area=function(){return this.width()*this.height()},t.prototype.centerX=function(){return.5*(this.left+this.right)},t.prototype.centerY=function(){return.5*(this.bottom+this.top)},t.prototype.center=function(){return new r.Point(this.centerX(),this.centerY())},t.prototype.centerTop=function(){return new r.Point(this.centerX(),this.top)},t.prototype.centerBottom=function(){return new r.Point(this.centerX(),this.bottom)},t.prototype.centerLeft=function(){return new r.Point(this.left,this.centerY())},t.prototype.centerRight=function(){return new r.Point(this.right,this.centerY())},t.prototype.bottomLeft=function(){return new r.Point(this.left,this.bottom)},t.prototype.bottomRight=function(){return new r.Point(this.right,this.bottom)},t.prototype.topLeft=function(){return new r.Point(this.left,this.top)},t.prototype.topRight=function(){return new r.Point(this.right,this.top)},t.prototype.corners=function(){return[this.topLeft(),this.bottomLeft(),this.bottomRight(),this.topRight()]},t.prototype.empty=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},t.prototype.setUnionOfPoints=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.left=this.right=t[e].x,this.top=this.bottom=t[e].y,this.unionPoints(t,e+1,n-1)},t.prototype.setUnionOfPoints$=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length>>1),this.left=this.right=t[e++],this.top=this.bottom=t[e++],this.unionPoints$(t,e,n-1)},t.prototype.containsRect=function(t){return this.left<=t.left&&t.right<=this.right&&this.bottom<=t.bottom&&t.top<=this.top},t.prototype.contains=function(t){return this.contains$(t.x,t.y)},t.prototype.contains$=function(t,e){return this.left<=t&&t<=this.right&&this.bottom<=e&&e<=this.top},t.prototype.intersects=function(t){return this.right>=t.left&&t.right>=this.left&&this.top>=t.bottom&&t.top>=this.bottom},t.prototype.intersect=function(t){this.left=Math.max(this.left,t.left),this.right=Math.min(this.right,t.right),this.bottom=Math.max(this.bottom,t.bottom),this.top=Math.min(this.top,t.top)},t.prototype.union=function(t){this.left=Math.min(this.left,t.left),this.right=Math.max(this.right,t.right),this.bottom=Math.min(this.bottom,t.bottom),this.top=Math.max(this.top,t.top)},t.prototype.unionPoint=function(t){this.unionPoint$(t.x,t.y)},t.prototype.unionPoint$=function(t,e){this.left=Math.min(t,this.left),this.top=Math.max(e,this.top),this.right=Math.max(t,this.right),this.bottom=Math.min(e,this.bottom)},t.prototype.unionPoints=function(t,e,n){for(void 0===e&&(e=0),void 0===n&&(n=t.length);n-- >0;)this.unionPoint(t[e++])},t.prototype.unionPoints$=function(t,e,n){for(void 0===e&&(e=0),void 0===n&&(n=t.length>>1);n-- >0;)this.unionPoint$(t[e++],t[e++])},t.prototype.inset=function(t){this.inset$(t.x,t.y)},t.prototype.inset$=function(t,e){this.left+=t,this.top-=e,this.right-=t,this.bottom+=e},t.prototype.offset=function(t){this.offset$(t.x,t.y)},t.prototype.offset$=function(t,e){this.left+=t,this.top+=e,this.right+=t,this.bottom+=e},t.prototype.scale=function(t,e){var n=this.centerX(),i=this.centerY();this.offset$(-n,-i),this.left*=t,this.right*=t,this.bottom*=e,this.top*=e,this.offset$(n,i)},t.prototype.stretch=function(t){this.scale(t,t)},t.prototype.shrinkToSquare=function(){var t=this.width(),e=this.height();e>t?this.scale(1,t/e):t>e&&this.scale(e/t,1)},t.prototype.expandToSquare=function(){var t=this.width(),e=this.height();e>t?this.scale(e/t,1):t>e&&this.scale(1,t/e)},t.prototype.sort=function(){if(this.bottom>this.top){var t=this.top;this.top=this.bottom,this.bottom=t}if(this.left>this.right){var e=this.right;this.right=this.left,this.left=e}},t.prototype.set=function(t){this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom},t.prototype.set$=function(t,e,n,i){this.left=t,this.top=e,this.right=n,this.bottom=i},t.prototype.setScalar=function(t){this.left=t,this.top=t,this.right=t,this.bottom=t},t.prototype.add=function(t){this.left+=t.left,this.top+=t.top,this.right+=t.right,this.bottom+=t.bottom},t.prototype.add$=function(t,e,n,i){this.left+=t,this.top+=e,this.right+=n,this.bottom+=i},t.prototype.subtract=function(t){this.left-=t.left,this.top-=t.top,this.right-=t.right,this.bottom-=t.bottom},t.prototype.subtract$=function(t,e,n,i){this.left-=t,this.top-=e,this.right-=n,this.bottom-=i},t.prototype.mulScalar=function(t){this.left*=t,this.top*=t,this.right*=t,this.bottom*=t},t.prototype.divScalar=function(t){this.left/=t,this.top/=t,this.right/=t,this.bottom/=t},t.prototype.equals=function(t){return this.left===t.left&&this.top===t.top&&this.right===t.right&&this.bottom===t.bottom},t.prototype.equalsScalar=function(t){return this.left===t&&this.top===t&&this.right===t&&this.bottom===t},t.prototype.epsilonEquals=function(t,e){return Math.abs(this.left-t.left)<=e&&Math.abs(this.top-t.top)<=e&&Math.abs(this.right-t.right)<=e&&Math.abs(this.bottom-t.bottom)<=e},t.prototype.epsilonEqualsScalar=function(t,e){return Math.abs(this.left-t)<=e&&Math.abs(this.top-t)<=e&&Math.abs(this.right-t)<=e&&Math.abs(this.bottom-t)<=e},t.prototype.toString=function(){return"{ left: "+this.left+", top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+" }"},t}();n.Rect=c;var u=function(t){function e(e){return void 0===e&&(e=new Float32Array(4)),t.call(this,e)||this}return i(e,t),e.ltrb=function(t,n,i,r){var o=new e;return o.setLtrb(t,n,i,r),o},e.lbrt=function(t,n,i,r){var o=new e;return o.setLbrt(t,n,i,r),o},e.lrbt=function(t,n,i,r){var o=new e;return o.setLrbt(t,n,i,r),o},e.ltwh=function(t,n,i,r){var o=new e;return o.setLtwh(t,n,i,r),o},e.lbwh=function(t,n,i,r){var o=new e;return o.setLbwh(t,n,i,r),o},e.unionOfPoints=function(t,n,i){void 0===n&&(n=0),void 0===i&&(i=t.length);var r=new e;return r.setUnionOfPoints(t,n,i),r},e.unionOfPoints$=function(t,n,i){void 0===n&&(n=0),void 0===i&&(i=t.length>>1);var r=new e;return r.setUnionOfPoints$(t,n,i),r},e.create=function(t){var n=new e;return n.set(t),n},e.create$=function(t,n,i,r){var o=new e;return o.set$(t,n,i,r),o},Object.defineProperty(e.prototype,"left",{get:function(){return this.data[0]},set:function(t){this.data[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.data[1]},set:function(t){this.data[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.data[2]},set:function(t){this.data[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.data[3]},set:function(t){this.data[3]=t},enumerable:!0,configurable:!0}),e}(o.Struct);n.RectStruct=u,a.applyMixins(u,c);var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.create=function(t){return new e(new Float32Array(4*t))},Object.defineProperty(e.prototype,"left",{get:function(){return this.data[this.dataPosition+0]},set:function(t){this.data[this.dataPosition+0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.data[this.dataPosition+1]},set:function(t){this.data[this.dataPosition+1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.data[this.dataPosition+2]},set:function(t){this.data[this.dataPosition+2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.data[this.dataPosition+3]},set:function(t){this.data[this.dataPosition+3]=t},enumerable:!0,configurable:!0}),e.prototype.structLength=function(){return 4},e.prototype.aget=function(t,e){void 0===e&&(e=new c);var n=t*this.structLength();return e.left=this.data[n++],e.top=this.data[n++],e.right=this.data[n++],e.bottom=this.data[n++],e},e.prototype.rget=function(t){return void 0===t&&(t=new c),t.left=this.data[this.dataPosition++],t.top=this.data[this.dataPosition++],t.right=this.data[this.dataPosition++],t.bottom=this.data[this.dataPosition++],t},e.prototype.aset=function(t,e){var n=t*this.structLength();this.data[n++]=e.left,this.data[n++]=e.top,this.data[n++]=e.right,this.data[n++]=e.bottom},e.prototype.aset$=function(t,e,n,i,r){var o=t*this.structLength();this.data[o++]=e,this.data[o++]=n,this.data[o++]=i,this.data[o++]=r},e.prototype.rset=function(t){this.data[this.dataPosition++]=t.left,this.data[this.dataPosition++]=t.top,this.data[this.dataPosition++]=t.right,this.data[this.dataPosition++]=t.bottom},e.prototype.rset$=function(t,e,n,i){this.data[this.dataPosition++]=t,this.data[this.dataPosition++]=e,this.data[this.dataPosition++]=n,this.data[this.dataPosition++]=i},e}(s.StructBuffer);n.RectBuffer=h,a.applyMixins(h,c)},{"./point":19,"gulp-structify/buffer":28,"gulp-structify/mixin":29,"gulp-structify/struct":30}],21:[function(t,e,n){"use strict";function i(t){return 1==t.length?"0"+t:t}function r(t,e){return Math.floor(Math.random()*(e-t+1))+t}Object.defineProperty(n,"__esModule",{value:!0}),n.ArgbRegex=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/,n.pad=i,n.randomInt=r},{}],22:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("gulp-structify/struct"),o=t("gulp-structify/buffer"),s=t("gulp-structify/mixin"),a=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.fromPointToPoint=function(e,n){var i=new t;return i.setFromPointToPoint(e,n),i},t.create=function(e){var n=new t;return n.set(e),n},t.prototype.length=function(){return Math.sqrt(this.length2())},t.prototype.length2=function(){return this.x*this.x+this.y*this.y},t.prototype.setFromPointToPoint=function(t,e){this.x=e.x-t.x,this.y=e.y-t.y},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(t){return this.x*t.y-t.x*this.y},t.prototype.invert=function(){this.x=-this.x,this.y=-this.y},t.prototype.normalize=function(){this.divScalar(this.length())},t.prototype.rotateLeft=function(){var t=this.x;this.x=-this.y,this.y=t},t.prototype.rotateRight=function(){var t=this.x;this.x=this.y,this.y=-t},t.prototype.set=function(t){this.x=t.x,this.y=t.y},t.prototype.set$=function(t,e){this.x=t,this.y=e},t.prototype.setScalar=function(t){this.x=t,this.y=t},t.prototype.add=function(t){this.x+=t.x,this.y+=t.y},t.prototype.add$=function(t,e){this.x+=t,this.y+=e},t.prototype.subtract=function(t){this.x-=t.x,this.y-=t.y},t.prototype.subtract$=function(t,e){this.x-=t,this.y-=e},t.prototype.mulScalar=function(t){this.x*=t,this.y*=t},t.prototype.divScalar=function(t){this.x/=t,this.y/=t},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t.prototype.equalsScalar=function(t){return this.x===t&&this.y===t},t.prototype.epsilonEquals=function(t,e){return Math.abs(this.x-t.x)<=e&&Math.abs(this.y-t.y)<=e},t.prototype.epsilonEqualsScalar=function(t,e){return Math.abs(this.x-t)<=e&&Math.abs(this.y-t)<=e},t.prototype.toString=function(){return"{ x: "+this.x+", y: "+this.y+" }"},t}();n.Vec2=a;var c=function(t){function e(e){return void 0===e&&(e=new Float32Array(2)),t.call(this,e)||this}return i(e,t),e.fromPointToPoint=function(t,n){var i=new e;return i.setFromPointToPoint(t,n),i},e.create=function(t){var n=new e;return n.set(t),n},e.create$=function(t,n){var i=new e;return i.set$(t,n),i},Object.defineProperty(e.prototype,"x",{get:function(){return this.data[0]},set:function(t){this.data[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.data[1]},set:function(t){this.data[1]=t},enumerable:!0,configurable:!0}),e}(r.Struct);n.Vec2Struct=c,s.applyMixins(c,a);var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.create=function(t){return new e(new Float32Array(2*t))},Object.defineProperty(e.prototype,"x",{get:function(){return this.data[this.dataPosition+0]},set:function(t){this.data[this.dataPosition+0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.data[this.dataPosition+1]},set:function(t){this.data[this.dataPosition+1]=t},enumerable:!0,configurable:!0}),e.prototype.structLength=function(){return 2},e.prototype.aget=function(t,e){void 0===e&&(e=new a);var n=t*this.structLength();return e.x=this.data[n++],e.y=this.data[n++],e},e.prototype.rget=function(t){return void 0===t&&(t=new a),t.x=this.data[this.dataPosition++],t.y=this.data[this.dataPosition++],t},e.prototype.aset=function(t,e){var n=t*this.structLength();this.data[n++]=e.x,this.data[n++]=e.y},e.prototype.aset$=function(t,e,n){var i=t*this.structLength();this.data[i++]=e,this.data[i++]=n},e.prototype.rset=function(t){this.data[this.dataPosition++]=t.x,this.data[this.dataPosition++]=t.y},e.prototype.rset$=function(t,e){this.data[this.dataPosition++]=t,this.data[this.dataPosition++]=e},e}(o.StructBuffer);n.Vec2Buffer=u,s.applyMixins(u,a)},{"gulp-structify/buffer":28,"gulp-structify/mixin":29,"gulp-structify/struct":30}],23:[function(t,e,n){"use strict";function i(t,e,n,i,r,o){return i>e!=o>e&&t<(r-n)*(e-i)/(o-i)+n}var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=t("../struct/rect"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.create=function(t){return new e(new Float32Array(2*t))},e.prototype.measureBoundaries=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.capacity()-t),o.Rect.unionOfPoints$(this.data,t*this.structLength(),e)},e.prototype.indexedContains=function(t,e){return this.indexedContains$(t.x,t.y,e)},e.prototype.indexedContains$=function(t,e,n){var r,o,s,a,c=!1,u=n.length;this.moveToPosition(n[u-1]),r=this.x,o=this.y;for(var h=0;h<u;h++)this.moveToPosition(n[h]),i(t,e,r,o,s=this.x,a=this.y)&&(c=!c),r=s,o=a;return c},e.prototype.contains=function(t,e,n){return this.contains$(t.x,t.y,e,n)},e.prototype.contains$=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=this.capacity()-n);var o,s,a,c,u=!1;for(this.moveToPosition(n+r-1),o=this.x,s=this.y;r-- >0;)this.moveToPosition(n++),i(t,e,o,s,a=this.x,c=this.y)&&(u=!u),o=a,s=c;return u},e.prototype.offset=function(t,e,n){this.offset$(t.x,t.y,e,n)},e.prototype.offset$=function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=this.capacity()-n);for(var r=n*this.structLength(),o=0;o<=i;o++)this.data[r++]+=t,this.data[r++]+=e},e.prototype.transform=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.capacity()-e),t.mapPoints$(this.data,e*this.structLength())},e}(t("../struct/vec2").Vec2Buffer);n.VertexBuffer=s},{"../struct/rect":20,"../struct/vec2":22}],24:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("../event/mouseOrTouch"),o=function(){function t(){}return t.prototype.getPrimaryPointer=function(t){return r.isMouseAction(t)?t.cursor:r.isTouchAction(t)?t.pointers[0]:null},t}();n.MouseOrTouchTool=o;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(o);n._MouseOrTouchTool=s},{"../event/mouseOrTouch":7}],25:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("./mouseOrTouch"),o=t("../struct/vec2"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onSurfaceEvent=function(t){if(!this.previous)return this.onStart(t);switch(t.status){case 0:return this.onStart(t);case 2:return this.onDrag(t);case 4:this.previous=null}},e.prototype.onStart=function(t){this.previous=this.getPrimaryPointer(t)},e.prototype.onDrag=function(t){var e=this.getPrimaryPointer(t),n=o.Vec2.fromPointToPoint(e,this.previous),i=t.target.offset(n);this.previous.x=e.x+i.x,this.previous.y=e.y+i.y},e}(r._MouseOrTouchTool);n.PanTool=s},{"../struct/vec2":22,"./mouseOrTouch":24}],26:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("../struct/vec2"),r=t("../struct/point"),o=function(){function t(){}return t.prototype.onSurfaceEvent=function(t){if(!(t.pointers.length<2)){if(!this.previousFocus)return this.onStart(t);switch(t.status){case 0:return this.onStart(t);case 2:return this.onDrag(t);case 4:this.previousFocus=null}}},t.prototype.onStart=function(t){var e=t.pointers[0],n=t.pointers[1];this.previousSpan=e.distance(n),this.previousFocus=r.Point.midpoint(e,n)},t.prototype.onDrag=function(t){var e=t.pointers[0],n=t.pointers[1],o=e.distance(n),s=r.Point.midpoint(e,n),a=t.target,c=a.renderer.camera,u=c.zoomIn(o/this.previousSpan),h=i.Vec2.fromPointToPoint(s,this.previousFocus);h.divScalar(u);var l=c.offset(h);1===u&&l.equalsScalar(0)||(this.previousSpan=o/u,this.previousFocus.x=s.x+l.x,this.previousFocus.y=s.y+l.y,c.updateMatrix(),a.requestRender())},t}();n.PinchZoomTool=o},{"../struct/point":19,"../struct/vec2":22}],27:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){this.timeOfLastScale=0,this.scaleFactor=t,this.minTimeElapse=e}return t.prototype.onSurfaceEvent=function(t){var e=t.target,n=Date.now();if(n-this.timeOfLastScale>this.minTimeElapse){var i=t.isUpward?this.scaleFactor:1/this.scaleFactor;e.zoomToPoint(i,t.cursor),this.timeOfLastScale=n}},t}();n.WheelZoomTool=i},{}],28:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){void 0===e&&(e=0),this.data=t,this.dataPosition=e*this.structLength()}return t.prototype.position=function(){return this.dataPosition/this.structLength()>>0},t.prototype.capacity=function(){return this.data.length/this.structLength()>>0},t.prototype.hasValidPosition=function(){var t=this.dataPosition;return 0<=t&&this.data.length-t>=this.structLength()},t.prototype.moveToPosition=function(t){return this.dataPosition=t*this.structLength(),this.hasValidPosition()},t.prototype.moveToFirst=function(){return this.dataPosition=0,this.dataPosition<this.data.length},t.prototype.moveToNext=function(){return this.dataPosition+=this.structLength(),this.hasValidPosition()},t.prototype.moveToPrevous=function(){return this.dataPosition-=this.structLength(),this.hasValidPosition()},t.prototype.moveToLast=function(){return this.data.length?(this.dataPosition=this.data.length-this.structLength(),!0):(this.dataPosition=0,!1)},t.prototype.asetFromBuffer=function(t,e,n){void 0===n&&(n=e.capacity()-e.position());for(var i=e.dataPosition,r=t*this.structLength();n--;)for(var o=this.structLength();o--;)this.data[r++]=e.data[i++]},t.prototype.rsetFromBuffer=function(t,e){for(void 0===e&&(e=t.capacity()-t.position());e--;)for(var n=this.structLength();n--;)this.data[this.dataPosition++]=t.data[t.dataPosition++]},t.prototype.setEach=function(t){for(var e=0,n=this.data.length;n--;)for(var i=t.dataPosition||0,r=this.structLength();r--;)this.data[e++]=t.data[i++]},t}();n.StructBuffer=i},{}],29:[function(t,e,n){"use strict";function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,o=e;i<o.length;i++)for(var s=o[i],a=0,c=Object.getOwnPropertyNames(s.prototype);a<c.length;a++){var u=c[a];u!==r&&(t.prototype[u]=s.prototype[u])}}Object.defineProperty(n,"__esModule",{value:!0});var r="constructor";n.applyMixins=i},{}],30:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t){this.data=t}return t}();n.Struct=i},{}],31:[function(t,e,n){!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){var n=(e=e||nt).createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function i(t){var e=!!t&&"length"in t&&t.length,n=pt.type(t);return"function"!==n&&!pt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function o(t,e,n){return pt.isFunction(e)?pt.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?pt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?pt.grep(t,function(t){return at.call(e,t)>-1!==n}):wt.test(e)?pt.filter(e,t,n):(e=pt.filter(e,t),pt.grep(t,function(t){return at.call(e,t)>-1!==n&&1===t.nodeType}))}function s(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function a(t){var e={};return pt.each(t.match(Et)||[],function(t,n){e[n]=!0}),e}function c(t){return t}function u(t){throw t}function h(t,e,n,i){var r;try{t&&pt.isFunction(r=t.promise)?r.call(t).done(e).fail(n):t&&pt.isFunction(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function l(){nt.removeEventListener("DOMContentLoaded",l),t.removeEventListener("load",l),pt.ready()}function f(){this.expando=pt.expando+f.uid++}function d(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Mt.test(t)?JSON.parse(t):t)}function p(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(jt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=d(n)}catch(t){}Dt.set(t,e,n)}else n=void 0;return n}function g(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return pt.css(t,e,"")},c=a(),u=n&&n[3]||(pt.cssNumber[e]?"":"px"),h=(pt.cssNumber[e]||"px"!==u&&+c)&&Rt.exec(pt.css(t,e));if(h&&h[3]!==u){u=u||h[3],n=n||[],h=+c||1;do{h/=o=o||".5",pt.style(t,e,h+u)}while(o!==(o=a()/c)&&1!==o&&--s)}return n&&(h=+h||+c||0,r=n[1]?h+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=h,i.end=r)),r}function v(t){var e,n=t.ownerDocument,i=t.nodeName,r=Ht[i];return r||(e=n.body.appendChild(n.createElement(i)),r=pt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Ht[i]=r,r)}function m(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=It.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Ft(i)&&(r[o]=v(i))):"none"!==n&&(r[o]="none",It.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function y(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&r(t,e)?pt.merge([t],n):n}function b(t,e){for(var n=0,i=t.length;n<i;n++)It.set(t[n],"globalEval",!e||It.get(e[n],"globalEval"))}function _(t,e,n,i,r){for(var o,s,a,c,u,h,l=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===pt.type(o))pt.merge(f,o.nodeType?[o]:o);else if(Ut.test(o)){for(s=s||l.appendChild(e.createElement("div")),a=(qt.exec(o)||["",""])[1].toLowerCase(),c=$t[a]||$t._default,s.innerHTML=c[1]+pt.htmlPrefilter(o)+c[2],h=c[0];h--;)s=s.lastChild;pt.merge(f,s.childNodes),(s=l.firstChild).textContent=""}else f.push(e.createTextNode(o));for(l.textContent="",d=0;o=f[d++];)if(i&&pt.inArray(o,i)>-1)r&&r.push(o);else if(u=pt.contains(o.ownerDocument,o),s=y(l.appendChild(o),"script"),u&&b(s),n)for(h=0;o=s[h++];)Vt.test(o.type||"")&&n.push(o);return l}function w(){return!0}function x(){return!1}function T(){try{return nt.activeElement}catch(t){}}function P(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)P(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=x;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return pt().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,r,i,n)})}function C(t,e){return r(t,"table")&&r(11!==e.nodeType?e:e.firstChild,"tr")?pt(">tbody",t)[0]||t:t}function E(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function S(t){var e=Zt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function A(t,e){var n,i,r,o,s,a,c,u;if(1===e.nodeType){if(It.hasData(t)&&(o=It.access(t),s=It.set(e,o),u=o.events)){delete s.handle,s.events={};for(r in u)for(n=0,i=u[r].length;n<i;n++)pt.event.add(e,r,u[r][n])}Dt.hasData(t)&&(a=Dt.access(t),c=pt.extend({},a),Dt.set(e,c))}}function O(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Wt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function k(t,e,i,r){e=ot.apply([],e);var o,s,a,c,u,h,l=0,f=t.length,d=f-1,p=e[0],g=pt.isFunction(p);if(g||f>1&&"string"==typeof p&&!dt.checkClone&&Xt.test(p))return t.each(function(n){var o=t.eq(n);g&&(e[0]=p.call(this,n,o.html())),k(o,e,i,r)});if(f&&(o=_(e,t[0].ownerDocument,!1,t,r),s=o.firstChild,1===o.childNodes.length&&(o=s),s||r)){for(c=(a=pt.map(y(o,"script"),E)).length;l<f;l++)u=o,l!==d&&(u=pt.clone(u,!0,!0),c&&pt.merge(a,y(u,"script"))),i.call(t[l],u,l);if(c)for(h=a[a.length-1].ownerDocument,pt.map(a,S),l=0;l<c;l++)u=a[l],Vt.test(u.type||"")&&!It.access(u,"globalEval")&&pt.contains(h,u)&&(u.src?pt._evalUrl&&pt._evalUrl(u.src):n(u.textContent.replace(Jt,""),h))}return t}function I(t,e,n){for(var i,r=e?pt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||pt.cleanData(y(i)),i.parentNode&&(n&&pt.contains(i.ownerDocument,i)&&b(y(i,"script")),i.parentNode.removeChild(i));return t}function D(t,e,n){var i,r,o,s,a=t.style;return(n=n||ne(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||pt.contains(t.ownerDocument,t)||(s=pt.style(t,e)),!dt.pixelMarginRight()&&ee.test(s)&&te.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function M(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function j(t){if(t in ce)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ae.length;n--;)if((t=ae[n]+e)in ce)return t}function L(t){var e=pt.cssProps[t];return e||(e=pt.cssProps[t]=j(t)||t),e}function R(t,e,n){var i=Rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function N(t,e,n,i,r){var o,s=0;for(o=n===(i?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===n&&(s+=pt.css(t,n+Nt[o],!0,r)),i?("content"===n&&(s-=pt.css(t,"padding"+Nt[o],!0,r)),"margin"!==n&&(s-=pt.css(t,"border"+Nt[o]+"Width",!0,r))):(s+=pt.css(t,"padding"+Nt[o],!0,r),"padding"!==n&&(s+=pt.css(t,"border"+Nt[o]+"Width",!0,r)));return s}function F(t,e,n){var i,r=ne(t),o=D(t,e,r),s="border-box"===pt.css(t,"boxSizing",!1,r);return ee.test(o)?o:(i=s&&(dt.boxSizingReliable()||o===t.style[e]),"auto"===o&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)]),(o=parseFloat(o)||0)+N(t,e,n||(s?"border":"content"),i,r)+"px")}function B(t,e,n,i,r){return new B.prototype.init(t,e,n,i,r)}function H(){he&&(!1===nt.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(H):t.setTimeout(H,pt.fx.interval),pt.fx.tick())}function W(){return t.setTimeout(function(){ue=void 0}),ue=pt.now()}function q(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=Nt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function V(t,e,n){for(var i,r=(z.tweeners[e]||[]).concat(z.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function $(t,e,n){var i,r,o,s,a,c,u,h,l="width"in e||"height"in e,f=this,d={},p=t.style,g=t.nodeType&&Ft(t),v=It.get(t,"fxshow");n.queue||(null==(s=pt._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,pt.queue(t,"fx").length||s.empty.fire()})}));for(i in e)if(r=e[i],le.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}d[i]=v&&v[i]||pt.style(t,i)}if((c=!pt.isEmptyObject(e))||!pt.isEmptyObject(d)){l&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=v&&v.display)&&(u=It.get(t,"display")),"none"===(h=pt.css(t,"display"))&&(u?h=u:(m([t],!0),u=t.style.display||u,h=pt.css(t,"display"),m([t]))),("inline"===h||"inline-block"===h&&null!=u)&&"none"===pt.css(t,"float")&&(c||(f.done(function(){p.display=u}),null==u&&(h=p.display,u="none"===h?"":h)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),c=!1;for(i in d)c||(v?"hidden"in v&&(g=v.hidden):v=It.access(t,"fxshow",{display:u}),o&&(v.hidden=!g),g&&m([t],!0),f.done(function(){g||m([t]),It.remove(t,"fxshow");for(i in d)pt.style(t,i,d[i])})),c=V(g?v[i]:0,i,f),i in v||(v[i]=c.start,g&&(c.end=c.start,c.start=0))}}function U(t,e){var n,i,r,o,s;for(n in t)if(i=pt.camelCase(n),r=e[i],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=pt.cssHooks[i])&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function z(t,e,n){var i,r,o=0,s=z.prefilters.length,a=pt.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=ue||W(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(t,[u,i,n]),i<1&&s?n:(s||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},n),originalProperties:e,originalOptions:n,startTime:ue||W(),duration:n.duration,tweens:[],createTween:function(e,n){var i=pt.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),h=u.props;for(U(h,u.opts.specialEasing);o<s;o++)if(i=z.prefilters[o].call(u,t,h,u.opts))return pt.isFunction(i.stop)&&(pt._queueHooks(u.elem,u.opts.queue).stop=pt.proxy(i.stop,i)),i;return pt.map(h,V,u),pt.isFunction(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),pt.fx.timer(pt.extend(c,{elem:t,anim:u,queue:u.opts.queue})),u}function K(t){return(t.match(Et)||[]).join(" ")}function G(t){return t.getAttribute&&t.getAttribute("class")||""}function Y(t,e,n,i){var r;if(Array.isArray(e))pt.each(e,function(e,r){n||we.test(t)?i(t,r):Y(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==pt.type(e))i(t,e);else for(r in e)Y(t+"["+r+"]",e[r],n,i)}function Q(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(Et)||[];if(pt.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function X(t,e,n,i){function r(a){var c;return o[a]=!0,pt.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||s||o[u]?s?!(c=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),c}var o={},s=t===Ae;return r(e.dataTypes[0])||!o["*"]&&r("*")}function Z(t,e){var n,i,r=pt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&pt.extend(!0,t,i),t}function J(t,e,n){for(var i,r,o,s,a=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==c[0]&&c.unshift(o),n[o]}function tt(t,e,n,i){var r,o,s,a,c,u={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=h.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=h.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(s=u[c+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[c+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}var et=[],nt=t.document,it=Object.getPrototypeOf,rt=et.slice,ot=et.concat,st=et.push,at=et.indexOf,ct={},ut=ct.toString,ht=ct.hasOwnProperty,lt=ht.toString,ft=lt.call(Object),dt={},pt=function(t,e){return new pt.fn.init(t,e)},gt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:"3.2.1",constructor:pt,length:0,toArray:function(){return rt.call(this)},get:function(t){return null==t?rt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:et.sort,splice:et.splice},pt.extend=pt.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||pt.isFunction(s)||(s={}),a===c&&(s=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(u&&i&&(pt.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&pt.isPlainObject(n)?n:{},s[e]=pt.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},pt.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=pt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ut.call(t))&&(!(e=it(t))||"function"==typeof(n=ht.call(e,"constructor")&&e.constructor)&&lt.call(n)===ft)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ct[ut.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,gt)},each:function(t,e){var n,r=0;if(i(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?pt.merge(n,"string"==typeof t?[t]:t):st.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:at.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var r,o,s=0,a=[];if(i(t))for(r=t.length;s<r;s++)null!=(o=e(t[s],s,n))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,n))&&a.push(o);return ot.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),pt.isFunction(t))return i=rt.call(arguments,2),r=function(){return t.apply(e||this,i.concat(rt.call(arguments)))},r.guid=t.guid=t.guid||pt.guid++,r},now:Date.now,support:dt}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=et[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ct["[object "+e+"]"]=e.toLowerCase()});var vt=function(t){function e(t,e,n,i){var r,o,s,a,c,h,f,d=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&((e?e.ownerDocument||e:B)!==I&&k(e),e=e||I,M)){if(11!==p&&(c=gt.exec(t)))if(r=c[1]){if(9===p){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(d&&(s=d.getElementById(r))&&N(e,s)&&s.id===r)return n.push(s),n}else{if(c[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((r=c[3])&&_.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(r)),n}if(_.qsa&&!$[t+" "]&&(!j||!j.test(t))){if(1!==p)d=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,_t):e.setAttribute("id",a=F),o=(h=P(t)).length;o--;)h[o]="#"+a+" "+l(h[o]);f=h.join(","),d=vt.test(t)&&u(e.parentNode)||e}if(f)try{return Q.apply(n,d.querySelectorAll(f)),n}catch(t){}finally{a===F&&e.removeAttribute("id")}}}return E(t.replace(ot,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[F]=!0,t}function r(t){var e=I.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&xt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function u(t){return t&&void 0!==t.getElementsByTagName&&t}function h(){}function l(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=W++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,c){var u,h,l,f=[H,a];if(c){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,c))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(l=e[F]||(e[F]={}),h=l[e.uniqueID]||(l[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=h[o])&&u[0]===H&&u[1]===a)return f[2]=u[2];if(h[o]=f,f[2]=t(e,n,c))return!0}return!1}}function d(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function p(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function g(t,e,n,i,r){for(var o,s=[],a=0,c=t.length,u=null!=e;a<c;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function v(t,e,n,r,o,s){return r&&!r[F]&&(r=v(r)),o&&!o[F]&&(o=v(o,s)),i(function(i,s,a,c){var u,h,l,f=[],d=[],v=s.length,m=i||p(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?m:g(m,f,t,a,c),b=n?o||(i?t:v||r)?[]:s:y;if(n&&n(y,b,a,c),r)for(u=g(b,d),r(u,[],a,c),h=u.length;h--;)(l=u[h])&&(b[d[h]]=!(y[d[h]]=l));if(i){if(o||t){if(o){for(u=[],h=b.length;h--;)(l=b[h])&&u.push(y[h]=l);o(null,b=[],u,c)}for(h=b.length;h--;)(l=b[h])&&(u=o?Z(i,l):f[h])>-1&&(i[u]=!(s[u]=l))}}else b=g(b===s?b.splice(v,b.length):b),o?o(null,s,b,c):Q.apply(s,b)})}function m(t){for(var e,n,i,r=t.length,o=w.relative[t[0].type],s=o||w.relative[" "],a=o?1:0,c=f(function(t){return t===e},s,!0),u=f(function(t){return Z(e,t)>-1},s,!0),h=[function(t,n,i){var r=!o&&(i||n!==S)||((e=n).nodeType?c(t,n,i):u(t,n,i));return e=null,r}];a<r;a++)if(n=w.relative[t[a].type])h=[f(d(h),n)];else{if((n=w.filter[t[a].type].apply(null,t[a].matches))[F]){for(i=++a;i<r&&!w.relative[t[i].type];i++);return v(a>1&&d(h),a>1&&l(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ot,"$1"),n,a<i&&m(t.slice(a,i)),i<r&&m(t=t.slice(i)),i<r&&l(t))}h.push(n)}return d(h)}function y(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,c,u){var h,l,f,d=0,p="0",v=i&&[],m=[],y=S,b=i||o&&w.find.TAG("*",u),_=H+=null==y?1:Math.random()||.1,x=b.length;for(u&&(S=s===I||s||u);p!==x&&null!=(h=b[p]);p++){if(o&&h){for(l=0,s||h.ownerDocument===I||(k(h),a=!M);f=t[l++];)if(f(h,s||I,a)){c.push(h);break}u&&(H=_)}r&&((h=!f&&h)&&d--,i&&v.push(h))}if(d+=p,r&&p!==d){for(l=0;f=n[l++];)f(v,m,s,a);if(i){if(d>0)for(;p--;)v[p]||m[p]||(m[p]=G.call(c));m=g(m)}Q.apply(c,m),u&&!i&&m.length>0&&d+n.length>1&&e.uniqueSort(c)}return u&&(H=_,S=y),v};return r?i(s):s}var b,_,w,x,T,P,C,E,S,A,O,k,I,D,M,j,L,R,N,F="sizzle"+1*new Date,B=t.document,H=0,W=0,q=n(),V=n(),$=n(),U=function(t,e){return t===e&&(O=!0),0},z={}.hasOwnProperty,K=[],G=K.pop,Y=K.push,Q=K.push,X=K.slice,Z=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",it=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",rt=new RegExp(tt+"+","g"),ot=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),st=new RegExp("^"+tt+"*,"+tt+"*"),at=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ct=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ut=new RegExp(it),ht=new RegExp("^"+et+"$"),lt={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+it),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,dt=/^h\d$/i,pt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,mt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),yt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},bt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,_t=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},wt=function(){k()},xt=f(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Q.apply(K=X.call(B.childNodes),B.childNodes),K[B.childNodes.length].nodeType}catch(t){Q={apply:K.length?function(t,e){Y.apply(t,X.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}_=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},k=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:B;return i!==I&&9===i.nodeType&&i.documentElement?(I=i,D=I.documentElement,M=!T(I),B!==I&&(n=I.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",wt,!1):n.attachEvent&&n.attachEvent("onunload",wt)),_.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=r(function(t){return t.appendChild(I.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=pt.test(I.getElementsByClassName),_.getById=r(function(t){return D.appendChild(t).id=F,!I.getElementsByName||!I.getElementsByName(F).length}),_.getById?(w.filter.ID=function(t){var e=t.replace(mt,yt);return function(t){return t.getAttribute("id")===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&M){var n=e.getElementById(t);return n?[n]:[]}}):(w.filter.ID=function(t){var e=t.replace(mt,yt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&M){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),w.find.TAG=_.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=_.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&M)return e.getElementsByClassName(t)},L=[],j=[],(_.qsa=pt.test(I.querySelectorAll))&&(r(function(t){D.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||j.push("\\["+tt+"*(?:value|"+J+")"),t.querySelectorAll("[id~="+F+"-]").length||j.push("~="),t.querySelectorAll(":checked").length||j.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||j.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=I.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&j.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&j.push(":enabled",":disabled"),D.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&j.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),j.push(",.*:")})),(_.matchesSelector=pt.test(R=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(t){_.disconnectedMatch=R.call(t,"*"),R.call(t,"[s!='']:x"),L.push("!=",it)}),j=j.length&&new RegExp(j.join("|")),L=L.length&&new RegExp(L.join("|")),e=pt.test(D.compareDocumentPosition),N=e||pt.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return O=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===I||t.ownerDocument===B&&N(B,t)?-1:e===I||e.ownerDocument===B&&N(B,e)?1:A?Z(A,t)-Z(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return O=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],c=[e];if(!r||!o)return t===I?-1:e===I?1:r?-1:o?1:A?Z(A,t)-Z(A,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;a[i]===c[i];)i++;return i?s(a[i],c[i]):a[i]===B?-1:c[i]===B?1:0},I):I},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==I&&k(t),n=n.replace(ct,"='$1']"),_.matchesSelector&&M&&!$[n+" "]&&(!L||!L.test(n))&&(!j||!j.test(n)))try{var i=R.call(t,n);if(i||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,I,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==I&&k(t),N(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==I&&k(t);var n=w.attrHandle[e.toLowerCase()],i=n&&z.call(w.attrHandle,e.toLowerCase())?n(t,e,!M):void 0;return void 0!==i?i:_.attributes||!M?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(bt,_t)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(O=!_.detectDuplicates,A=!_.sortStable&&t.slice(0),t.sort(U),O){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},x=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=x(e);return n},(w=e.selectors={cacheLength:50,createPseudo:i,match:lt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(mt,yt),t[3]=(t[3]||t[4]||t[5]||"").replace(mt,yt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return lt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ut.test(n)&&(e=P(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(mt,yt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(rt," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var u,h,l,f,d,p,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!c&&!a,b=!1;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?v.firstChild:v.lastChild],s&&y){for(b=(d=(u=(h=(l=(f=v)[F]||(f[F]={}))[f.uniqueID]||(l[f.uniqueID]={}))[t]||[])[0]===H&&u[1])&&u[2],f=d&&v.childNodes[d];f=++d&&f&&f[g]||(b=d=0)||p.pop();)if(1===f.nodeType&&++b&&f===e){h[t]=[H,d,b];break}}else if(y&&(b=d=(u=(h=(l=(f=e)[F]||(f[F]={}))[f.uniqueID]||(l[f.uniqueID]={}))[t]||[])[0]===H&&u[1]),!1===b)for(;(f=++d&&f&&f[g]||(b=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++b||(y&&((h=(l=f[F]||(f[F]={}))[f.uniqueID]||(l[f.uniqueID]={}))[t]=[H,b]),f!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,n){var r,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[F]?o(n):o.length>1?(r=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)t[i=Z(t,r[s])]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=C(t.replace(ot,"$1"));return r[F]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(mt,yt),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:i(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(mt,yt).toLowerCase(),function(e){var n;do{if(n=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return dt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=w.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[b]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(b);for(b in{submit:!0,reset:!0})w.pseudos[b]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(b);return h.prototype=w.filters=w.pseudos,w.setFilters=new h,P=e.tokenize=function(t,n){var i,r,o,s,a,c,u,h=V[t+" "];if(h)return n?0:h.slice(0);for(a=t,c=[],u=w.preFilter;a;){i&&!(r=st.exec(a))||(r&&(a=a.slice(r[0].length)||a),c.push(o=[])),i=!1,(r=at.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ot," ")}),a=a.slice(i.length));for(s in w.filter)!(r=lt[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):V(t,c).slice(0)},C=e.compile=function(t,e){var n,i=[],r=[],o=$[t+" "];if(!o){for(e||(e=P(t)),n=e.length;n--;)(o=m(e[n]))[F]?i.push(o):r.push(o);(o=$(t,y(r,i))).selector=t}return o},E=e.select=function(t,e,n,i){var r,o,s,a,c,h="function"==typeof t&&t,f=!i&&P(t=h.selector||t);if(n=n||[],1===f.length){if((o=f[0]=f[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&9===e.nodeType&&M&&w.relative[o[1].type]){if(!(e=(w.find.ID(s.matches[0].replace(mt,yt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=lt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!w.relative[a=s.type]);)if((c=w.find[a])&&(i=c(s.matches[0].replace(mt,yt),vt.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&l(o)))return Q.apply(n,i),n;break}}return(h||C(t,f))(i,e,!M,n,!e||vt.test(t)&&u(e.parentNode)||e),n},_.sortStable=F.split("").sort(U).join("")===F,_.detectDuplicates=!!O,k(),_.sortDetached=r(function(t){return 1&t.compareDocumentPosition(I.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(J,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);pt.find=vt,pt.expr=vt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=vt.uniqueSort,pt.text=vt.getText,pt.isXMLDoc=vt.isXML,pt.contains=vt.contains,pt.escapeSelector=vt.escape;var mt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&pt(t).is(n))break;i.push(t)}return i},yt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},bt=pt.expr.match.needsContext,_t=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,wt=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?pt.find.matchesSelector(i,t)?[i]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;e<i;e++)if(pt.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)pt.find(t,r[e],n);return i>1?pt.uniqueSort(n):n},filter:function(t){return this.pushStack(o(this,t||[],!1))},not:function(t){return this.pushStack(o(this,t||[],!0))},is:function(t){return!!o(this,"string"==typeof t&&bt.test(t)?pt(t):t||[],!1).length}});var xt,Tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(pt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||xt,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Tt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),_t.test(i[1])&&pt.isPlainObject(e))for(i in e)pt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=nt.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):pt.isFunction(t)?void 0!==n.ready?n.ready(t):t(pt):pt.makeArray(t,this)}).prototype=pt.fn,xt=pt(nt);var Pt=/^(?:parents|prev(?:Until|All))/,Ct={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e=pt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(pt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&pt(t);if(!bt.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&pt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?pt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?at.call(pt(t),this[0]):at.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return mt(t,"parentNode")},parentsUntil:function(t,e,n){return mt(t,"parentNode",n)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return mt(t,"nextSibling")},prevAll:function(t){return mt(t,"previousSibling")},nextUntil:function(t,e,n){return mt(t,"nextSibling",n)},prevUntil:function(t,e,n){return mt(t,"previousSibling",n)},siblings:function(t){return yt((t.parentNode||{}).firstChild,t)},children:function(t){return yt(t.firstChild)},contents:function(t){return r(t,"iframe")?t.contentDocument:(r(t,"template")&&(t=t.content||t),pt.merge([],t.childNodes))}},function(t,e){pt.fn[t]=function(n,i){var r=pt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=pt.filter(i,r)),this.length>1&&(Ct[t]||pt.uniqueSort(r),Pt.test(t)&&r.reverse()),this.pushStack(r)}});var Et=/[^\x20\t\r\n\f]+/g;pt.Callbacks=function(t){t="string"==typeof t?a(t):pt.extend({},t);var e,n,i,r,o=[],s=[],c=-1,u=function(){for(r=r||t.once,i=e=!0;s.length;c=-1)for(n=s.shift();++c<o.length;)!1===o[c].apply(n[0],n[1])&&t.stopOnFalse&&(c=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},h={add:function(){return o&&(n&&!e&&(c=o.length-1,s.push(n)),function e(n){pt.each(n,function(n,i){pt.isFunction(i)?t.unique&&h.has(i)||o.push(i):i&&i.length&&"string"!==pt.type(i)&&e(i)})}(arguments),n&&!e&&u()),this},remove:function(){return pt.each(arguments,function(t,e){for(var n;(n=pt.inArray(e,o,n))>-1;)o.splice(n,1),n<=c&&c--}),this},has:function(t){return t?pt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},pt.extend({Deferred:function(e){var n=[["notify","progress",pt.Callbacks("memory"),pt.Callbacks("memory"),2],["resolve","done",pt.Callbacks("once memory"),pt.Callbacks("once memory"),0,"resolved"],["reject","fail",pt.Callbacks("once memory"),pt.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return pt.Deferred(function(e){pt.each(n,function(n,i){var r=pt.isFunction(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){function o(e,n,i,r){return function(){var a=this,h=arguments,l=function(){var t,l;if(!(e<s)){if((t=i.apply(a,h))===n.promise())throw new TypeError("Thenable self-resolution");l=t&&("object"==typeof t||"function"==typeof t)&&t.then,pt.isFunction(l)?r?l.call(t,o(s,n,c,r),o(s,n,u,r)):(s++,l.call(t,o(s,n,c,r),o(s,n,u,r),o(s,n,c,n.notifyWith))):(i!==c&&(a=void 0,h=[t]),(r||n.resolveWith)(a,h))}},f=r?l:function(){try{l()}catch(t){pt.Deferred.exceptionHook&&pt.Deferred.exceptionHook(t,f.stackTrace),e+1>=s&&(i!==u&&(a=void 0,h=[t]),n.rejectWith(a,h))}};e?f():(pt.Deferred.getStackHook&&(f.stackTrace=pt.Deferred.getStackHook()),t.setTimeout(f))}}var s=0;return pt.Deferred(function(t){n[0][3].add(o(0,t,pt.isFunction(r)?r:c,t.notifyWith)),n[1][3].add(o(0,t,pt.isFunction(e)?e:c)),n[2][3].add(o(0,t,pt.isFunction(i)?i:u))}).promise()},promise:function(t){return null!=t?pt.extend(t,r):r}},o={};return pt.each(n,function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add(function(){i=a},n[3-t][2].disable,n[0][2].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=rt.call(arguments),o=pt.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?rt.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(h(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||pt.isFunction(r[n]&&r[n].then)))return o.then();for(;n--;)h(r[n],s(n),o.reject);return o.promise()}});var St=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&St.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},pt.readyException=function(e){t.setTimeout(function(){throw e})};var At=pt.Deferred();pt.fn.ready=function(t){return At.then(t).catch(function(t){pt.readyException(t)}),this},pt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--pt.readyWait:pt.isReady)||(pt.isReady=!0,!0!==t&&--pt.readyWait>0||At.resolveWith(nt,[pt]))}}),pt.ready.then=At.then,"complete"===nt.readyState||"loading"!==nt.readyState&&!nt.documentElement.doScroll?t.setTimeout(pt.ready):(nt.addEventListener("DOMContentLoaded",l),t.addEventListener("load",l));var Ot=function(t,e,n,i,r,o,s){var a=0,c=t.length,u=null==n;if("object"===pt.type(n)){r=!0;for(a in n)Ot(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,pt.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(pt(t),n)})),e))for(;a<c;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):c?e(t[0],n):o},kt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};f.uid=1,f.prototype={cache:function(t){var e=t[this.expando];return e||(e={},kt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[pt.camelCase(e)]=n;else for(i in e)r[pt.camelCase(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][pt.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(pt.camelCase):(e=pt.camelCase(e))in i?[e]:e.match(Et)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||pt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!pt.isEmptyObject(e)}};var It=new f,Dt=new f,Mt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,jt=/[A-Z]/g;pt.extend({hasData:function(t){return Dt.hasData(t)||It.hasData(t)},data:function(t,e,n){return Dt.access(t,e,n)},removeData:function(t,e){Dt.remove(t,e)},_data:function(t,e,n){return It.access(t,e,n)},_removeData:function(t,e){It.remove(t,e)}}),pt.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Dt.get(o),1===o.nodeType&&!It.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=pt.camelCase(i.slice(5)),p(o,i,r[i]));It.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Dt.set(this,t)}):Ot(this,function(e){var n;if(o&&void 0===e){if(void 0!==(n=Dt.get(o,t)))return n;if(void 0!==(n=p(o,t)))return n}else this.each(function(){Dt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Dt.remove(this,t)})}}),pt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=It.get(t,e),n&&(!i||Array.isArray(n)?i=It.access(t,e,pt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=pt.queue(t,e),i=n.length,r=n.shift(),o=pt._queueHooks(t,e),s=function(){pt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return It.get(t,n)||It.access(t,n,{empty:pt.Callbacks("once memory").add(function(){It.remove(t,[e+"queue",n])})})}}),pt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?pt.queue(this[0],t):void 0===e?this:this.each(function(){var n=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=pt.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=It.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Rt=new RegExp("^(?:([+-])=|)("+Lt+")([a-z%]*)$","i"),Nt=["Top","Right","Bottom","Left"],Ft=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&pt.contains(t.ownerDocument,t)&&"none"===pt.css(t,"display")},Bt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},Ht={};pt.fn.extend({show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ft(this)?pt(this).show():pt(this).hide()})}});var Wt=/^(?:checkbox|radio)$/i,qt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Vt=/^$|\/(?:java|ecma)script/i,$t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$t.optgroup=$t.option,$t.tbody=$t.tfoot=$t.colgroup=$t.caption=$t.thead,$t.th=$t.td;var Ut=/<|&#?\w+;/;!function(){var t=nt.createDocumentFragment().appendChild(nt.createElement("div")),e=nt.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),dt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var zt=nt.documentElement,Kt=/^key/,Gt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Yt=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,n,i,r){var o,s,a,c,u,h,l,f,d,p,g,v=It.get(t);if(v)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&pt.find.matchesSelector(zt,r),n.guid||(n.guid=pt.guid++),(c=v.events)||(c=v.events={}),(s=v.handle)||(s=v.handle=function(e){return void 0!==pt&&pt.event.triggered!==e.type?pt.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(Et)||[""]).length;u--;)d=g=(a=Yt.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),d&&(l=pt.event.special[d]||{},d=(r?l.delegateType:l.bindType)||d,l=pt.event.special[d]||{},h=pt.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&pt.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=c[d])||((f=c[d]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(d,s)),l.add&&(l.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,h):f.push(h),pt.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,s,a,c,u,h,l,f,d,p,g,v=It.hasData(t)&&It.get(t);if(v&&(c=v.events)){for(u=(e=(e||"").match(Et)||[""]).length;u--;)if(a=Yt.exec(e[u])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d){for(l=pt.event.special[d]||{},f=c[d=(i?l.delegateType:l.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)h=f[o],!r&&g!==h.origType||n&&n.guid!==h.guid||a&&!a.test(h.namespace)||i&&i!==h.selector&&("**"!==i||!h.selector)||(f.splice(o,1),h.selector&&f.delegateCount--,l.remove&&l.remove.call(t,h));s&&!f.length&&(l.teardown&&!1!==l.teardown.call(t,p,v.handle)||pt.removeEvent(t,d,v.handle),delete c[d])}else for(d in c)pt.event.remove(t,d+e[u],n,i,!0);pt.isEmptyObject(c)&&It.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=pt.event.fix(t),c=new Array(arguments.length),u=(It.get(this,"events")||{})[a.type]||[],h=pt.event.special[a.type]||{};for(c[0]=a,e=1;e<arguments.length;e++)c[e]=arguments[e];if(a.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,a)){for(s=pt.event.handlers.call(this,a,u),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((pt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,c))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],c=e.delegateCount,u=t.target;if(c&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},n=0;n<c;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?pt(r,this).index(u)>-1:pt.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,c<e.length&&a.push({elem:u,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(pt.Event.prototype,t,{enumerable:!0,configurable:!0,get:pt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[pt.expando]?t:new pt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==T()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===T()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&r(this,"input"))return this.click(),!1},_default:function(t){return r(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},pt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},pt.Event=function(t,e){if(!(this instanceof pt.Event))return new pt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?w:x,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),this[pt.expando]=!0},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=w,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=w,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=w,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Kt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Gt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},pt.event.addProp),pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||pt.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),pt.fn.extend({on:function(t,e,n,i){return P(this,t,e,n,i)},one:function(t,e,n,i){return P(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,pt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=x),this.each(function(){pt.event.remove(this,t,n,e)})}});var Qt=/<script|<style|<link/i,Xt=/checked\s*(?:[^=]|=\s*.checked.)/i,Zt=/^true\/(.*)/,Jt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pt.extend({htmlPrefilter:function(t){return t.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),c=pt.contains(t.ownerDocument,t);if(!(dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(s=y(a),i=0,r=(o=y(t)).length;i<r;i++)O(o[i],s[i]);if(e)if(n)for(o=o||y(t),s=s||y(a),i=0,r=o.length;i<r;i++)A(o[i],s[i]);else A(t,a);return(s=y(a,"script")).length>0&&b(s,!c&&y(t,"script")),a},cleanData:function(t){for(var e,n,i,r=pt.event.special,o=0;void 0!==(n=t[o]);o++)if(kt(n)){if(e=n[It.expando]){if(e.events)for(i in e.events)r[i]?pt.event.remove(n,i):pt.removeEvent(n,i,e.handle);n[It.expando]=void 0}n[Dt.expando]&&(n[Dt.expando]=void 0)}}}),pt.fn.extend({detach:function(t){return I(this,t,!0)},remove:function(t){return I(this,t)},text:function(t){return Ot(this,function(t){return void 0===t?pt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return k(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||C(this,t).appendChild(t)})},prepend:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(pt.cleanData(y(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return Ot(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Qt.test(t)&&!$t[(qt.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(pt.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return k(this,arguments,function(e){var n=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(y(this)),n&&n.replaceChild(e,this))},t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var n,i=[],r=pt(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),pt(r[s])[e](n),st.apply(i,n.get());return this.pushStack(i)}});var te=/^margin/,ee=new RegExp("^("+Lt+")(?!px)[a-z%]+$","i"),ne=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",zt.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,zt.removeChild(s),a=null}}var n,i,r,o,s=nt.createElement("div"),a=nt.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),pt.extend(dt,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),o}}))}();var ie=/^(none|table(?!-c[ea]).+)/,re=/^--/,oe={position:"absolute",visibility:"hidden",display:"block"},se={letterSpacing:"0",fontWeight:"400"},ae=["Webkit","Moz","ms"],ce=nt.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=D(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=pt.camelCase(e),c=re.test(e),u=t.style;if(c||(e=L(a)),s=pt.cssHooks[e]||pt.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e];"string"===(o=typeof n)&&(r=Rt.exec(n))&&r[1]&&(n=g(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(pt.cssNumber[a]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(c?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,s,a=pt.camelCase(e);return re.test(e)||(e=L(a)),(s=pt.cssHooks[e]||pt.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=D(t,e,i)),"normal"===r&&e in se&&(r=se[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,n,i){if(n)return!ie.test(pt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?F(t,e,i):Bt(t,oe,function(){return F(t,e,i)})},set:function(t,n,i){var r,o=i&&ne(t),s=i&&N(t,e,i,"border-box"===pt.css(t,"boxSizing",!1,o),o);return s&&(r=Rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=pt.css(t,e)),R(t,n,s)}}}),pt.cssHooks.marginLeft=M(dt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(D(t,"marginLeft"))||t.getBoundingClientRect().left-Bt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Nt[i]+e]=o[i]||o[i-2]||o[0];return r}},te.test(t)||(pt.cssHooks[t+e].set=R)}),pt.fn.extend({css:function(t,e){return Ot(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=ne(t),r=e.length;s<r;s++)o[e[s]]=pt.css(t,e[s],!1,i);return o}return void 0!==n?pt.style(t,e,n):pt.css(t,e)},t,e,arguments.length>1)}}),pt.Tween=B,B.prototype={constructor:B,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(pt.cssNumber[n]?"":"px")},cur:function(){var t=B.propHooks[this.prop];return t&&t.get?t.get(this):B.propHooks._default.get(this)},run:function(t){var e,n=B.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=B.prototype.init,pt.fx.step={};var ue,he,le=/^(?:toggle|show|hide)$/,fe=/queueHooks$/;pt.Animation=pt.extend(z,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return g(n.elem,t,Rt.exec(e),n),n}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match(Et);for(var n,i=0,r=t.length;i<r;i++)n=t[i],z.tweeners[n]=z.tweeners[n]||[],z.tweeners[n].unshift(e)},prefilters:[$],prefilter:function(t,e){e?z.prefilters.unshift(t):z.prefilters.push(t)}}),pt.speed=function(t,e,n){var i=t&&"object"==typeof t?pt.extend({},t):{complete:n||!n&&e||pt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!pt.isFunction(e)&&e};return pt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in pt.fx.speeds?i.duration=pt.fx.speeds[i.duration]:i.duration=pt.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){pt.isFunction(i.old)&&i.old.call(this),i.queue&&pt.dequeue(this,i.queue)},i},pt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ft).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=pt.isEmptyObject(t),o=pt.speed(e,n,i),s=function(){var e=z(this,pt.extend({},t),o);(r||It.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=pt.timers,s=It.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&fe.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||pt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=It.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=pt.timers,s=i?i.length:0;for(n.finish=!0,pt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),pt.each(["toggle","show","hide"],function(t,e){var n=pt.fn[e];pt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(q(e,!0),t,i,r)}}),pt.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),pt.timers=[],pt.fx.tick=function(){var t,e=0,n=pt.timers;for(ue=pt.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||pt.fx.stop(),ue=void 0},pt.fx.timer=function(t){pt.timers.push(t),pt.fx.start()},pt.fx.interval=13,pt.fx.start=function(){he||(he=!0,H())},pt.fx.stop=function(){he=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,n){return e=pt.fx?pt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=nt.createElement("input"),e=nt.createElement("select").appendChild(nt.createElement("option"));t.type="checkbox",dt.checkOn=""!==t.value,dt.optSelected=e.selected,(t=nt.createElement("input")).value="t",t.type="radio",dt.radioValue="t"===t.value}();var de,pe=pt.expr.attrHandle;pt.fn.extend({attr:function(t,e){return Ot(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?pt.prop(t,e,n):(1===o&&pt.isXMLDoc(t)||(r=pt.attrHooks[e.toLowerCase()]||(pt.expr.match.bool.test(e)?de:void 0)),void 0!==n?null===n?void pt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=pt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&r(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Et);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),de={set:function(t,e,n){return!1===e?pt.removeAttr(t,n):t.setAttribute(n,n),n}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=pe[e]||pt.find.attr;pe[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=pe[s],pe[s]=r,r=null!=n(t,e,i)?s:null,pe[s]=o),r}});var ge=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Ot(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[pt.propFix[t]||t]})}}),pt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,r=pt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):ge.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),dt.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),pt.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,c=0;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,G(this)))});if("string"==typeof t&&t)for(e=t.match(Et)||[];n=this[c++];)if(r=G(n),i=1===n.nodeType&&" "+K(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=K(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,c=0;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,G(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Et)||[];n=this[c++];)if(r=G(n),i=1===n.nodeType&&" "+K(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=K(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):pt.isFunction(t)?this.each(function(n){pt(this).toggleClass(t.call(this,n,G(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=pt(this),o=t.match(Et)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||((e=G(this))&&It.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":It.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+K(G(n))+" ").indexOf(e)>-1)return!0;return!1}});pt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=pt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,pt(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=pt.map(r,function(t){return null==t?"":t+""})),(e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return(e=pt.valHooks[r.type]||pt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(/\r/g,""):null==n?"":n)}}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:K(pt.text(t))}},select:{get:function(t){var e,n,i,o=t.options,s=t.selectedIndex,a="select-one"===t.type,c=a?null:[],u=a?s+1:o.length;for(i=s<0?u:a?s:0;i<u;i++)if(((n=o[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!r(n.parentNode,"optgroup"))){if(e=pt(n).val(),a)return e;c.push(e)}return c},set:function(t,e){for(var n,i,r=t.options,o=pt.makeArray(e),s=r.length;s--;)((i=r[s]).selected=pt.inArray(pt.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=pt.inArray(pt(t).val(),e)>-1}},dt.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var me=/^(?:focusinfocus|focusoutblur)$/;pt.extend(pt.event,{trigger:function(e,n,i,r){var o,s,a,c,u,h,l,f=[i||nt],d=ht.call(e,"type")?e.type:e,p=ht.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||nt,3!==i.nodeType&&8!==i.nodeType&&!me.test(d+pt.event.triggered)&&(d.indexOf(".")>-1&&(d=(p=d.split(".")).shift(),p.sort()),u=d.indexOf(":")<0&&"on"+d,e=e[pt.expando]?e:new pt.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:pt.makeArray(n,[e]),l=pt.event.special[d]||{},r||!l.trigger||!1!==l.trigger.apply(i,n))){if(!r&&!l.noBubble&&!pt.isWindow(i)){for(c=l.delegateType||d,me.test(c+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(i.ownerDocument||nt)&&f.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)e.type=o>1?c:l.bindType||d,(h=(It.get(s,"events")||{})[e.type]&&It.get(s,"handle"))&&h.apply(s,n),(h=u&&s[u])&&h.apply&&kt(s)&&(e.result=h.apply(s,n),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(f.pop(),n)||!kt(i)||u&&pt.isFunction(i[d])&&!pt.isWindow(i)&&((a=i[u])&&(i[u]=null),pt.event.triggered=d,i[d](),pt.event.triggered=void 0,a&&(i[u]=a)),e.result}},simulate:function(t,e,n){var i=pt.extend(new pt.Event,n,{type:t,isSimulated:!0});pt.event.trigger(i,null,e)}}),pt.fn.extend({trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return pt.event.trigger(t,e,n,!0)}}),pt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),dt.focusin="onfocusin"in t,dt.focusin||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=It.access(i,e);r||i.addEventListener(t,n,!0),It.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=It.access(i,e)-1;r?It.access(i,e,r):(i.removeEventListener(t,n,!0),It.remove(i,e))}}});var ye=t.location,be=pt.now(),_e=/\?/;pt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),n};var we=/\[\]$/,xe=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var n,i=[],r=function(t,e){var n=pt.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){r(this.name,this.value)});else for(n in t)Y(n,t[n],e,r);return i.join("&")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&Te.test(this.nodeName)&&!xe.test(t)&&(this.checked||!Wt.test(t))}).map(function(t,e){var n=pt(this).val();return null==n?null:Array.isArray(n)?pt.map(n,function(t){return{name:e.name,value:t.replace(/\r?\n/g,"\r\n")}}):{name:e.name,value:n.replace(/\r?\n/g,"\r\n")}}).get()}});var Pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ce=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ee=/^(?:GET|HEAD)$/,Se={},Ae={},Oe="*/".concat("*"),ke=nt.createElement("a");ke.href=ye.href,pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ye.href,type:"GET",isLocal:Ce.test(ye.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Oe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Z(Z(t,pt.ajaxSettings),e):Z(pt.ajaxSettings,t)},ajaxPrefilter:Q(Se),ajaxTransport:Q(Ae),ajax:function(e,n){function i(e,n,i,a){var u,f,d,_,w,x=n;h||(h=!0,c&&t.clearTimeout(c),r=void 0,s=a||"",T.readyState=e>0?4:0,u=e>=200&&e<300||304===e,i&&(_=J(p,T,i)),_=tt(p,_,T,u),u?(p.ifModified&&((w=T.getResponseHeader("Last-Modified"))&&(pt.lastModified[o]=w),(w=T.getResponseHeader("etag"))&&(pt.etag[o]=w)),204===e||"HEAD"===p.type?x="nocontent":304===e?x="notmodified":(x=_.state,f=_.data,u=!(d=_.error))):(d=x,!e&&x||(x="error",e<0&&(e=0))),T.status=e,T.statusText=(n||x)+"",u?m.resolveWith(g,[f,x,T]):m.rejectWith(g,[T,x,d]),T.statusCode(b),b=void 0,l&&v.trigger(u?"ajaxSuccess":"ajaxError",[T,p,u?f:d]),y.fireWith(g,[T,x]),l&&(v.trigger("ajaxComplete",[T,p]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,c,u,h,l,f,d,p=pt.ajaxSetup({},n),g=p.context||p,v=p.context&&(g.nodeType||g.jquery)?pt(g):pt.event,m=pt.Deferred(),y=pt.Callbacks("once memory"),b=p.statusCode||{},_={},w={},x="canceled",T={readyState:0,getResponseHeader:function(t){var e;if(h){if(!a)for(a={};e=Pe.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return h?s:null},setRequestHeader:function(t,e){return null==h&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==h&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(h)T.always(t[T.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||x;return r&&r.abort(e),i(0,e),this}};if(m.promise(T),p.url=((e||p.url||ye.href)+"").replace(/^\/\//,ye.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Et)||[""],null==p.crossDomain){u=nt.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=ke.protocol+"//"+ke.host!=u.protocol+"//"+u.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=pt.param(p.data,p.traditional)),X(Se,p,n,T),h)return T;(l=pt.event&&p.global)&&0==pt.active++&&pt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ee.test(p.type),o=p.url.replace(/#.*$/,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(/%20/g,"+")):(d=p.url.slice(o.length),p.data&&(o+=(_e.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(/([?&])_=[^&]*/,"$1"),d=(_e.test(o)?"&":"?")+"_="+be+++d),p.url=o+d),p.ifModified&&(pt.lastModified[o]&&T.setRequestHeader("If-Modified-Since",pt.lastModified[o]),pt.etag[o]&&T.setRequestHeader("If-None-Match",pt.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Oe+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)T.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(!1===p.beforeSend.call(g,T,p)||h))return T.abort();if(x="abort",y.add(p.complete),T.done(p.success),T.fail(p.error),r=X(Ae,p,n,T)){if(T.readyState=1,l&&v.trigger("ajaxSend",[T,p]),h)return T;p.async&&p.timeout>0&&(c=t.setTimeout(function(){T.abort("timeout")},p.timeout));try{h=!1,r.send(_,i)}catch(t){if(h)throw t;i(-1,t)}}else i(-1,"No Transport");return T},getJSON:function(t,e,n){return pt.get(t,e,n,"json")},getScript:function(t,e){return pt.get(t,void 0,e,"script")}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,n,i,r){return pt.isFunction(n)&&(r=r||i,i=n,n=void 0),pt.ajax(pt.extend({url:t,type:e,dataType:r,data:n,success:i},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},pt.fn.extend({wrapAll:function(t){var e;return this[0]&&(pt.isFunction(t)&&(t=t.call(this[0])),e=pt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(n){pt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){pt(this).replaceWith(this.childNodes)}),this}}),pt.expr.pseudos.hidden=function(t){return!pt.expr.pseudos.visible(t)},pt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},pt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Ie={0:200,1223:204},De=pt.ajaxSettings.xhr();dt.cors=!!De&&"withCredentials"in De,dt.ajax=De=!!De,pt.ajaxTransport(function(e){var n,i;if(dt.cors||De&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ie[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),pt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=pt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),nt.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Me=[],je=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Me.pop()||pt.expando+"_"+be++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=!1!==e.jsonp&&(je.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&je.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=pt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(je,"$1"+r):!1!==e.jsonp&&(e.url+=(_e.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||pt.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?pt(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Me.push(r)),s&&pt.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),dt.createHTMLDocument=function(){var t=nt.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),pt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,r,o;return e||(dt.createHTMLDocument?((i=(e=nt.implementation.createHTMLDocument("")).createElement("base")).href=nt.location.href,e.head.appendChild(i)):e=nt),r=_t.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=_([t],e,o),o&&o.length&&pt(o).remove(),pt.merge([],r.childNodes))},pt.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=K(t.slice(a)),t=t.slice(0,a)),pt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&pt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?pt("<div>").append(pt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.pseudos.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length},pt.offset={setOffset:function(t,e,n){var i,r,o,s,a,c,u=pt.css(t,"position"),h=pt(t),l={};"static"===u&&(t.style.position="relative"),a=h.offset(),o=pt.css(t,"top"),c=pt.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+c).indexOf("auto")>-1?(s=(i=h.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(c)||0),pt.isFunction(e)&&(e=e.call(t,n,pt.extend({},a))),null!=e.top&&(l.top=e.top-a.top+s),null!=e.left&&(l.left=e.left-a.left+r),"using"in e?e.using.call(t,l):h.css(l)}},pt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,n,i,r,o=this[0];if(o)return o.getClientRects().length?(i=o.getBoundingClientRect(),e=o.ownerDocument,n=e.documentElement,r=e.defaultView,{top:i.top+r.pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===pt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),r(t[0],"html")||(i=t.offset()),i={top:i.top+pt.css(t[0],"borderTopWidth",!0),left:i.left+pt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-pt.css(n,"marginTop",!0),left:e.left-i.left-pt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||zt})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;pt.fn[t]=function(i){return Ot(this,function(t,i,r){var o;if(pt.isWindow(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),pt.each(["top","left"],function(t,e){pt.cssHooks[e]=M(dt.pixelPosition,function(t,n){if(n)return n=D(t,e),ee.test(n)?pt(t).position()[e]+"px":n})}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){pt.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return Ot(this,function(e,n,r){var o;return pt.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?pt.css(e,n,a):pt.style(e,n,r,a)},e,s?r:void 0,s)}})}),pt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),pt.holdReady=function(t){t?pt.readyWait++:pt.ready(!0)},pt.isArray=Array.isArray,pt.parseJSON=JSON.parse,pt.nodeName=r,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var Le=t.jQuery,Re=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=Re),e&&t.jQuery===pt&&(t.jQuery=Le),pt},e||(t.jQuery=t.$=pt),pt})},{}],32:[function(t,e,n){function i(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function r(t){return t!==t}function o(t,e,n){var o=t?t.length:0;if(!o)return-1;var s=o;if(void 0!==n&&(s=((s=h(n))<0?x(o+s,0):T(s,o-1))+1),e!==e)return i(t,r,s-1,!0);for(;s--;)if(t[s]===e)return s;return-1}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return!!t&&"object"==typeof t}function c(t){return"symbol"==typeof t||a(t)&&w.call(t)==g}function u(t){return t?(t=l(t),t===f||t===-f?(t<0?-1:1)*d:t===t?t:0):0===t?t:0}function h(t){var e=u(t),n=e%1;return e===e?n?e-n:e:0}function l(t){if("number"==typeof t)return t;if(c(t))return p;if(s(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=s(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(v,"");var n=y.test(t);return n||b.test(t)?_(t.slice(2),n?2:8):m.test(t)?p:+t}var f=1/0,d=1.7976931348623157e308,p=NaN,g="[object Symbol]",v=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,b=/^0o[0-7]+$/i,_=parseInt,w=Object.prototype.toString,x=Math.max,T=Math.min;e.exports=o},{}],33:[function(t,e,n){!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof n&&"object"==typeof e?e.exports=i(t("jquery")):i(jQuery)}(function(t,e){"use strict";function n(e,n,i,r){for(var o=[],s=0;s<e.length;s++){var a=e[s];if(a){var c=tinycolor(a),u=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(n,a)?" sp-thumb-active":"";var h=c.toString(r.preferredFormat||"rgb"),l=v?"background-color:"+c.toRgbString():"filter:"+c.toFilter();o.push('<span title="'+h+'" data-color="'+c.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+l+';" /></span>')}else{o.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+o.join("")+"</div>"}function i(){for(var t=0;t<p.length;t++)p[t]&&p[t].hide()}function r(e,n){var i=t.extend({},d,e);return i.callbacks={move:u(i.move,n),change:u(i.change,n),show:u(i.show,n),hide:u(i.hide,n),beforeShow:u(i.beforeShow,n)},i}function o(o,a){function u(){if(U.showPaletteOnly&&(U.showPalette=!0),Nt.text(U.showPaletteOnly?U.togglePaletteMoreText:U.togglePaletteLessText),U.palette){ft=U.palette.slice(0),dt=t.isArray(ft[0])?ft:[ft],pt={};for(var e=0;e<dt.length;e++)for(var n=0;n<dt[e].length;n++){var i=tinycolor(dt[e][n]).toRgbString();pt[i]=!0}}xt.toggleClass("sp-flat",z),xt.toggleClass("sp-input-disabled",!U.showInput),xt.toggleClass("sp-alpha-enabled",U.showAlpha),xt.toggleClass("sp-clear-enabled",Yt),xt.toggleClass("sp-buttons-disabled",!U.showButtons),xt.toggleClass("sp-palette-buttons-disabled",!U.togglePaletteOnly),xt.toggleClass("sp-palette-disabled",!U.showPalette),xt.toggleClass("sp-palette-only",U.showPaletteOnly),xt.toggleClass("sp-initial-disabled",!U.showInitial),xt.addClass(U.className).addClass(U.containerClassName),B()}function d(){if(G&&window.localStorage){try{var e=window.localStorage[G].split(",#");e.length>1&&(delete window.localStorage[G],t.each(e,function(t,e){b(e)}))}catch(t){}try{gt=window.localStorage[G].split(";")}catch(t){}}}function b(e){if(K){var n=tinycolor(e).toRgbString();if(!pt[n]&&-1===t.inArray(n,gt))for(gt.push(n);gt.length>vt;)gt.shift();if(G&&window.localStorage)try{window.localStorage[G]=gt.join(";")}catch(t){}}}function _(){var t=[];if(U.showPalette)for(var e=0;e<gt.length;e++){var n=tinycolor(gt[e]).toRgbString();pt[n]||t.push(gt[e])}return t.reverse().slice(0,U.maxSelectionSize)}function w(){var e=M(),i=t.map(dt,function(t,i){return n(t,e,"sp-palette-row sp-palette-row-"+i,U)});d(),gt&&i.push(n(_(),e,"sp-palette-row sp-palette-row-selection",U)),Dt.html(i.join(""))}function x(){if(U.showInitial){var t=Ut,e=M();Mt.html(n([t,e],e,"sp-palette-row-initial",U))}}function T(){(et<=0||tt<=0||it<=0)&&B(),J=!0,xt.addClass(mt),yt=null,_t.trigger("dragstart.spectrum",[M()])}function P(){J=!1,xt.removeClass(mt),_t.trigger("dragstop.spectrum",[M()])}function C(){var t=It.val();if(null!==t&&""!==t||!Yt){var e=tinycolor(t);e.isValid()?(D(e),F(!0)):It.addClass("sp-validation-error")}else D(null),F(!0)}function E(){Z?k():S()}function S(){var e=t.Event("beforeShow.spectrum");if(Z)return void B();_t.trigger(e,[M()]),!1===Q.beforeShow(M())||e.isDefaultPrevented()||(i(),Z=!0,t(bt).bind("keydown.spectrum",A),t(bt).bind("click.spectrum",O),t(window).bind("resize.spectrum",X),Wt.addClass("sp-active"),xt.removeClass("sp-hidden"),B(),R(),Ut=M(),x(),Q.show(Ut),_t.trigger("show.spectrum",[Ut]))}function A(t){27===t.keyCode&&k()}function O(t){2!=t.button&&(J||(Kt?F(!0):I(),k()))}function k(){Z&&!z&&(Z=!1,t(bt).unbind("keydown.spectrum",A),t(bt).unbind("click.spectrum",O),t(window).unbind("resize.spectrum",X),Wt.removeClass("sp-active"),xt.addClass("sp-hidden"),Q.hide(M()),_t.trigger("hide.spectrum",[M()]))}function I(){D(Ut,!0)}function D(t,e){if(tinycolor.equals(t,M()))return void R();var n,i;!t&&Yt?Gt=!0:(Gt=!1,i=(n=tinycolor(t)).toHsv(),ct=i.h%360/360,ut=i.s,ht=i.v,lt=i.a),R(),n&&n.isValid()&&!e&&(zt=U.preferredFormat||n.getFormat())}function M(t){return t=t||{},Yt&&Gt?null:tinycolor.fromRatio({h:ct,s:ut,v:ht,a:Math.round(100*lt)/100},{format:t.format||zt})}function j(){return!It.hasClass("sp-validation-error")}function L(){R(),Q.move(M()),_t.trigger("move.spectrum",[M()])}function R(){It.removeClass("sp-validation-error"),N();var t=tinycolor.fromRatio({h:ct,s:1,v:1});Pt.css("background-color",t.toHexString());var e=zt;lt<1&&(0!==lt||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=M({format:e}),i="";if(Vt.removeClass("sp-clear-display"),Vt.css("background-color","transparent"),!n&&Yt)Vt.addClass("sp-clear-display");else{var r=n.toHexString(),o=n.toRgbString();if(v||1===n.alpha?Vt.css("background-color",o):(Vt.css("background-color","transparent"),Vt.css("filter",n.toFilter())),U.showAlpha){var s=n.toRgb();s.a=0;var a=tinycolor(s).toRgbString(),c="linear-gradient(left, "+a+", "+r+")";g?At.css("filter",tinycolor(a).toFilter({gradientType:1},r)):(At.css("background","-webkit-"+c),At.css("background","-moz-"+c),At.css("background","-ms-"+c),At.css("background","linear-gradient(to right, "+a+", "+r+")"))}i=n.toString(e)}U.showInput&&It.val(i),U.showPalette&&w(),x()}function N(){var t=ut,e=ht;if(Yt&&Gt)kt.hide(),St.hide(),Ct.hide();else{kt.show(),St.show(),Ct.show();var n=t*tt,i=et-e*et;n=Math.max(-nt,Math.min(tt-nt,n-nt)),i=Math.max(-nt,Math.min(et-nt,i-nt)),Ct.css({top:i+"px",left:n+"px"});var r=lt*ot;kt.css({left:r-st/2+"px"});var o=ct*it;St.css({top:o-at+"px"})}}function F(t){var e=M(),n="",i=!tinycolor.equals(e,Ut);e&&(n=e.toString(zt),b(e)),Ft&&_t.val(n),t&&i&&(Q.change(e),_t.trigger("change",[e]))}function B(){Z&&(tt=Pt.width(),et=Pt.height(),nt=Ct.height(),rt=Et.width(),it=Et.height(),at=St.height(),ot=Ot.width(),st=kt.width(),z||(xt.css("position","absolute"),U.offset?xt.offset(U.offset):xt.offset(s(xt,qt))),N(),U.showPalette&&w(),_t.trigger("reflow.spectrum"))}function H(){_t.show(),qt.unbind("click.spectrum touchstart.spectrum"),xt.remove(),Wt.remove(),p[Qt.id]=null}function W(n,i){return n===e?t.extend({},U):i===e?U[n]:(U[n]=i,"preferredFormat"===n&&(zt=U.preferredFormat),void u())}function q(){wt=!1,_t.attr("disabled",!1),qt.removeClass("sp-disabled")}function V(){k(),wt=!0,_t.attr("disabled",!0),qt.addClass("sp-disabled")}function $(t){U.offset=t,B()}var U=r(a,o),z=U.flat,K=U.showSelectionPalette,G=U.localStorageKey,Y=U.theme,Q=U.callbacks,X=l(B,10),Z=!1,J=!1,tt=0,et=0,nt=0,it=0,rt=0,ot=0,st=0,at=0,ct=0,ut=0,ht=0,lt=1,ft=[],dt=[],pt={},gt=U.selectionPalette.slice(0),vt=U.maxSelectionSize,mt="sp-dragging",yt=null,bt=o.ownerDocument,_t=(bt.body,t(o)),wt=!1,xt=t(y,bt).addClass(Y),Tt=xt.find(".sp-picker-container"),Pt=xt.find(".sp-color"),Ct=xt.find(".sp-dragger"),Et=xt.find(".sp-hue"),St=xt.find(".sp-slider"),At=xt.find(".sp-alpha-inner"),Ot=xt.find(".sp-alpha"),kt=xt.find(".sp-alpha-handle"),It=xt.find(".sp-input"),Dt=xt.find(".sp-palette"),Mt=xt.find(".sp-initial"),jt=xt.find(".sp-cancel"),Lt=xt.find(".sp-clear"),Rt=xt.find(".sp-choose"),Nt=xt.find(".sp-palette-toggle"),Ft=_t.is("input"),Bt=Ft&&"color"===_t.attr("type")&&f(),Ht=Ft&&!z,Wt=Ht?t(m).addClass(Y).addClass(U.className).addClass(U.replacerClassName):t([]),qt=Ht?Wt:_t,Vt=Wt.find(".sp-preview-inner"),$t=U.color||Ft&&_t.val(),Ut=!1,zt=U.preferredFormat,Kt=!U.showButtons||U.clickoutFiresChange,Gt=!$t,Yt=U.allowEmpty&&!Bt;!function(){function e(e){return e.data&&e.data.ignore?(D(t(e.target).closest(".sp-thumb-el").data("color")),L()):(D(t(e.target).closest(".sp-thumb-el").data("color")),L(),F(!0),U.hideAfterPaletteSelect&&k()),!1}if(g&&xt.find("*:not(input)").attr("unselectable","on"),u(),Ht&&_t.after(Wt).hide(),Yt||Lt.hide(),z)_t.after(xt).hide();else{var n="parent"===U.appendTo?_t.parent():t(U.appendTo);1!==n.length&&(n=t("body")),n.append(xt)}d(),qt.bind("click.spectrum touchstart.spectrum",function(e){wt||E(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(_t.is(":disabled")||!0===U.disabled)&&V(),xt.click(c),It.change(C),It.bind("paste",function(){setTimeout(C,1)}),It.keydown(function(t){13==t.keyCode&&C()}),jt.text(U.cancelText),jt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),I(),k()}),Lt.attr("title",U.clearText),Lt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Gt=!0,L(),z&&F(!0)}),Rt.text(U.chooseText),Rt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),g&&It.is(":focus")&&It.trigger("change"),j()&&(F(!0),k())}),Nt.text(U.showPaletteOnly?U.togglePaletteMoreText:U.togglePaletteLessText),Nt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),U.showPaletteOnly=!U.showPaletteOnly,U.showPaletteOnly||z||xt.css("left","-="+(Tt.outerWidth(!0)+5)),u()}),h(Ot,function(t,e,n){lt=t/ot,Gt=!1,n.shiftKey&&(lt=Math.round(10*lt)/10),L()},T,P),h(Et,function(t,e){ct=parseFloat(e/it),Gt=!1,U.showAlpha||(lt=1),L()},T,P),h(Pt,function(t,e,n){if(n.shiftKey){if(!yt){var i=ut*tt,r=et-ht*et,o=Math.abs(t-i)>Math.abs(e-r);yt=o?"x":"y"}}else yt=null;var s=!yt||"x"===yt,a=!yt||"y"===yt;s&&(ut=parseFloat(t/tt)),a&&(ht=parseFloat((et-e)/et)),Gt=!1,U.showAlpha||(lt=1),L()},T,P),$t?(D($t),R(),zt=U.preferredFormat||tinycolor($t).format,b($t)):R(),z&&S();var i=g?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Dt.delegate(".sp-thumb-el",i,e),Mt.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},e)}();var Qt={show:S,hide:k,toggle:E,reflow:B,option:W,enable:q,disable:V,offset:$,set:function(t){D(t),F()},get:M,destroy:H,container:xt};return Qt.id=p.push(Qt)-1,Qt}function s(e,n){var i=e.outerWidth(),r=e.outerHeight(),o=n.outerHeight(),s=e[0].ownerDocument,a=s.documentElement,c=a.clientWidth+t(s).scrollLeft(),u=a.clientHeight+t(s).scrollTop(),h=n.offset();return h.top+=o,h.left-=Math.min(h.left,h.left+i>c&&c>i?Math.abs(h.left+i-c):0),h.top-=Math.min(h.top,h.top+r>u&&u>r?Math.abs(r+o-0):0),h}function a(){}function c(t){t.stopPropagation()}function u(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function h(e,n,i,r){function o(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function s(t){if(h){if(g&&u.documentMode<9&&!t.button)return c();var i=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],r=i&&i.pageX||t.pageX,s=i&&i.pageY||t.pageY,a=Math.max(0,Math.min(r-l.left,d)),v=Math.max(0,Math.min(s-l.top,f));p&&o(t),n.apply(e,[a,v,t])}}function a(n){(n.which?3==n.which:2==n.button)||h||!1!==i.apply(e,arguments)&&(h=!0,f=t(e).height(),d=t(e).width(),l=t(e).offset(),t(u).bind(v),t(u.body).addClass("sp-dragging"),s(n),o(n))}function c(){h&&(t(u).unbind(v),t(u.body).removeClass("sp-dragging"),setTimeout(function(){r.apply(e,arguments)},0)),h=!1}n=n||function(){},i=i||function(){},r=r||function(){};var u=document,h=!1,l={},f=0,d=0,p="ontouchstart"in window,v={};v.selectstart=o,v.dragstart=o,v["touchmove mousemove"]=s,v["touchend mouseup"]=c,t(e).bind("touchstart mousedown",a)}function l(t,e,n){var i;return function(){var r=this,o=arguments,s=function(){i=null,t.apply(r,o)};n&&clearTimeout(i),!n&&i||(i=setTimeout(s,e))}}function f(){return t.fn.spectrum.inputTypeColorSupport()}var d={beforeShow:a,move:a,change:a,show:a,hide:a,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},p=[],g=!!/msie/i.exec(window.navigator.userAgent),v=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div").style;return e.cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")}(),m=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),y=function(){var t="";if(g)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();t.fn.spectrum=function(e,n){if("string"==typeof e){var i=this,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=p[t(this).data("spectrum.id")];if(n){var o=n[e];if(!o)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?i=n.get():"container"==e?i=n.container:"option"==e?i=n.option.apply(n,r):"destroy"==e?(n.destroy(),t(this).removeData("spectrum.id")):o.apply(n,r)}}),i}return this.spectrum("destroy").each(function(){var n=o(this,t.extend({},e,t(this).data()));t(this).data("spectrum.id",n.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=h,t.fn.spectrum.defaults=d,t.fn.spectrum.inputTypeColorSupport=function e(){if(void 0===e._cachedResult){var n=t("<input type='color'/>")[0];e._cachedResult="color"===n.type&&""!==n.value}return e._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!f()&&e.spectrum({preferredFormat:"hex6"})},function(){function t(t){var n={r:0,g:0,b:0},r=1,s=!1,a=!1;return"string"==typeof t&&(t=I(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(n=e(t.r,t.g,t.b),s=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=A(t.s),t.v=A(t.v),n=o(t.h,t.s,t.v),s=!0,a="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=A(t.s),t.l=A(t.l),n=i(t.h,t.s,t.l),s=!0,a="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=w(r),{ok:s,format:t.format||a,r:N(255,F(n.r,0)),g:N(255,F(n.g,0)),b:N(255,F(n.b,0)),a:r}}function e(t,e,n){return{r:255*x(t,255),g:255*x(e,255),b:255*x(n,255)}}function n(t,e,n){t=x(t,255),e=x(e,255),n=x(n,255);var i,r,o=F(t,e,n),s=N(t,e,n),a=(o+s)/2;if(o==s)i=r=0;else{var c=o-s;switch(r=a>.5?c/(2-o-s):c/(o+s),o){case t:i=(e-n)/c+(e<n?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,l:a}}function i(t,e,n){function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var r,o,s;if(t=x(t,360),e=x(e,100),n=x(n,100),0===e)r=o=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;r=i(c,a,t+1/3),o=i(c,a,t),s=i(c,a,t-1/3)}return{r:255*r,g:255*o,b:255*s}}function r(t,e,n){t=x(t,255),e=x(e,255),n=x(n,255);var i,r,o=F(t,e,n),s=N(t,e,n),a=o,c=o-s;if(r=0===o?0:c/o,o==s)i=0;else{switch(o){case t:i=(e-n)/c+(e<n?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,v:a}}function o(t,e,n){t=6*x(t,360),e=x(e,100),n=x(n,100);var i=L.floor(t),r=t-i,o=n*(1-e),s=n*(1-r*e),a=n*(1-(1-r)*e),c=i%6;return{r:255*[n,s,o,o,a,n][c],g:255*[a,n,n,s,o,o][c],b:255*[o,o,a,n,n,s][c]}}function s(t,e,n,i){var r=[S(R(t).toString(16)),S(R(e).toString(16)),S(R(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function a(t,e,n,i){return[S(O(i)),S(R(t).toString(16)),S(R(e).toString(16)),S(R(n).toString(16))].join("")}function c(t,e){e=0===e?0:e||10;var n=H(t).toHsl();return n.s-=e/100,n.s=T(n.s),H(n)}function u(t,e){e=0===e?0:e||10;var n=H(t).toHsl();return n.s+=e/100,n.s=T(n.s),H(n)}function h(t){return H(t).desaturate(100)}function l(t,e){e=0===e?0:e||10;var n=H(t).toHsl();return n.l+=e/100,n.l=T(n.l),H(n)}function f(t,e){e=0===e?0:e||10;var n=H(t).toRgb();return n.r=F(0,N(255,n.r-R(-e/100*255))),n.g=F(0,N(255,n.g-R(-e/100*255))),n.b=F(0,N(255,n.b-R(-e/100*255))),H(n)}function d(t,e){e=0===e?0:e||10;var n=H(t).toHsl();return n.l-=e/100,n.l=T(n.l),H(n)}function p(t,e){var n=H(t).toHsl(),i=(R(n.h)+e)%360;return n.h=i<0?360+i:i,H(n)}function g(t){var e=H(t).toHsl();return e.h=(e.h+180)%360,H(e)}function v(t){var e=H(t).toHsl(),n=e.h;return[H(t),H({h:(n+120)%360,s:e.s,l:e.l}),H({h:(n+240)%360,s:e.s,l:e.l})]}function m(t){var e=H(t).toHsl(),n=e.h;return[H(t),H({h:(n+90)%360,s:e.s,l:e.l}),H({h:(n+180)%360,s:e.s,l:e.l}),H({h:(n+270)%360,s:e.s,l:e.l})]}function y(t){var e=H(t).toHsl(),n=e.h;return[H(t),H({h:(n+72)%360,s:e.s,l:e.l}),H({h:(n+216)%360,s:e.s,l:e.l})]}function b(t,e,n){e=e||6,n=n||30;var i=H(t).toHsl(),r=360/n,o=[H(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(H(i));return o}function _(t,e){e=e||6;for(var n=H(t).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/e;e--;)s.push(H({h:i,s:r,v:o})),o=(o+a)%1;return s}function w(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function x(t,e){C(t)&&(t="100%");var n=E(t);return t=N(e,F(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),L.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function T(t){return N(1,F(0,t))}function P(t){return parseInt(t,16)}function C(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function E(t){return"string"==typeof t&&-1!=t.indexOf("%")}function S(t){return 1==t.length?"0"+t:""+t}function A(t){return t<=1&&(t=100*t+"%"),t}function O(t){return Math.round(255*parseFloat(t)).toString(16)}function k(t){return P(t)/255}function I(t){t=t.replace(D,"").replace(M,"").toLowerCase();var e=!1;if(W[t])t=W[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=V.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=V.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=V.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=V.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=V.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=V.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=V.hex8.exec(t))?{a:k(n[1]),r:P(n[2]),g:P(n[3]),b:P(n[4]),format:e?"name":"hex8"}:(n=V.hex6.exec(t))?{r:P(n[1]),g:P(n[2]),b:P(n[3]),format:e?"name":"hex"}:!!(n=V.hex3.exec(t))&&{r:P(n[1]+""+n[1]),g:P(n[2]+""+n[2]),b:P(n[3]+""+n[3]),format:e?"name":"hex"}}var D=/^[\s,#]+/,M=/\s+$/,j=0,L=Math,R=L.round,N=L.min,F=L.max,B=L.random,H=function(e,n){if(e=e||"",n=n||{},e instanceof H)return e;if(!(this instanceof H))return new H(e,n);var i=t(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=R(100*this._a)/100,this._format=n.format||i.format,this._gradientType=n.gradientType,this._r<1&&(this._r=R(this._r)),this._g<1&&(this._g=R(this._g)),this._b<1&&(this._b=R(this._b)),this._ok=i.ok,this._tc_id=j++};H.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=w(t),this._roundA=R(100*this._a)/100,this},toHsv:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=r(this._r,this._g,this._b),e=R(360*t.h),n=R(100*t.s),i=R(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=n(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=n(this._r,this._g,this._b),e=R(360*t.h),i=R(100*t.s),r=R(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+r+"%)":"hsla("+e+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return s(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return a(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:R(this._r),g:R(this._g),b:R(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+R(this._r)+", "+R(this._g)+", "+R(this._b)+")":"rgba("+R(this._r)+", "+R(this._g)+", "+R(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:R(100*x(this._r,255))+"%",g:R(100*x(this._g,255))+"%",b:R(100*x(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+R(100*x(this._r,255))+"%, "+R(100*x(this._g,255))+"%, "+R(100*x(this._b,255))+"%)":"rgba("+R(100*x(this._r,255))+"%, "+R(100*x(this._g,255))+"%, "+R(100*x(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(q[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+a(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";return t&&(n=H(t).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(l,arguments)},brighten:function(){return this._applyModification(f,arguments)},darken:function(){return this._applyModification(d,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(u,arguments)},greyscale:function(){return this._applyModification(h,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(_,arguments)},splitcomplement:function(){return this._applyCombination(y,arguments)},triad:function(){return this._applyCombination(v,arguments)},tetrad:function(){return this._applyCombination(m,arguments)}},H.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:A(t[i]));t=n}return H(t,e)},H.equals=function(t,e){return!(!t||!e)&&H(t).toRgbString()==H(e).toRgbString()},H.random=function(){return H.fromRatio({r:B(),g:B(),b:B()})},H.mix=function(t,e,n){n=0===n?0:n||50;var i,r=H(t).toRgb(),o=H(e).toRgb(),s=n/100,a=2*s-1,c=o.a-r.a,u=1-(i=((i=a*c==-1?a:(a+c)/(1+a*c))+1)/2),h={r:o.r*i+r.r*u,g:o.g*i+r.g*u,b:o.b*i+r.b*u,a:o.a*s+r.a*(1-s)};return H(h)},H.readability=function(t,e){var n=H(t),i=H(e),r=n.toRgb(),o=i.toRgb(),s=n.getBrightness(),a=i.getBrightness(),c=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(s-a),color:c}},H.isReadable=function(t,e){var n=H.readability(t,e);return n.brightness>125&&n.color>500},H.mostReadable=function(t,e){for(var n=null,i=0,r=!1,o=0;o<e.length;o++){var s=H.readability(t,e[o]),a=s.brightness>125&&s.color>500,c=s.brightness/125*3+s.color/500;(a&&!r||a&&r&&c>i||!a&&!r&&c>i)&&(r=a,i=c,n=H(e[o]))}return n};var W=H.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},q=H.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(W),V=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=H}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})})},{jquery:31}],34:[function(t,e,n){!function(i,r){"function"==typeof define&&define.amd?define(r):"object"==typeof n?e.exports=r(t,n,e):i.Tether=r()}(this,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=t.getBoundingClientRect(),n={};for(var i in e)n[i]=e[i];if(t.ownerDocument!==document){var o=t.ownerDocument.defaultView.frameElement;if(o){var s=r(o);n.top+=s.top,n.bottom+=s.top,n.left+=s.left,n.right+=s.left}}return n}function o(t){var e=(getComputedStyle(t)||{}).position,n=[];if("fixed"===e)return[t];for(var i=t;(i=i.parentNode)&&i&&1===i.nodeType;){var r=void 0;try{r=getComputedStyle(i)}catch(t){}if(void 0===r||null===r)return n.push(i),n;var o=r,s=o.overflow,a=o.overflowX,c=o.overflowY;/(auto|scroll)/.test(s+c+a)&&("absolute"!==e||["relative","absolute","fixed"].indexOf(r.position)>=0)&&n.push(i)}return n.push(t.ownerDocument.body),t.ownerDocument!==document&&n.push(t.ownerDocument.defaultView),n}function s(){C&&document.body.removeChild(C),C=null}function a(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var n=e.documentElement,i=r(t),o=A();return i.top-=o.top,i.left-=o.left,void 0===i.width&&(i.width=document.body.scrollWidth-i.left-i.right),void 0===i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-n.clientTop,i.left=i.left-n.clientLeft,i.right=e.body.clientWidth-i.width-i.left,i.bottom=e.body.clientHeight-i.height-i.top,i}function c(t){return t.offsetParent||document.documentElement}function u(){if(O)return O;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");h(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;n===i&&(i=e.clientWidth),document.body.removeChild(e);var r=n-i;return O={width:r,height:r}}function h(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t}function l(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),i=p(t).replace(n," ");g(t,i)}}function f(t,e){if(void 0!==t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{l(t,e);var n=p(t)+" "+e;g(t,n)}}function d(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=p(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function p(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function g(t,e){t.setAttribute("class",e)}function v(t,e,n){n.forEach(function(n){-1===e.indexOf(n)&&d(t,n)&&l(t,n)}),e.forEach(function(e){d(t,e)||f(t,e)})}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function y(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+n>=e&&e>=t-n}function b(){return"undefined"!=typeof performance&&void 0!==performance.now?performance.now():+new Date}function _(){for(var t={top:0,left:0},e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(e){var n=e.top,i=e.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof i&&(i=parseFloat(i,10)),t.top+=n,t.left+=i}),t}function w(t,e){return"string"==typeof t.left&&-1!==t.left.indexOf("%")&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&-1!==t.top.indexOf("%")&&(t.top=parseFloat(t.top,10)/100*e.height),t}function x(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),void 0!==e.nodeType&&function(){var t=e,n=a(e),i=n,r=getComputedStyle(e);if(e=[i.left,i.top,n.width+i.left,n.height+i.top],t.ownerDocument!==document){var o=t.ownerDocument.defaultView;e[0]+=o.pageXOffset,e[1]+=o.pageYOffset,e[2]+=o.pageXOffset,e[3]+=o.pageYOffset}Y.forEach(function(t,n){"Top"===(t=t[0].toUpperCase()+t.substr(1))||"Left"===t?e[n]+=parseFloat(r["border"+t+"Width"]):e[n]-=parseFloat(r["border"+t+"Width"])})}(),e}var T=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),P=void 0;void 0===P&&(P={modules:[]});var C=null,E=function(){var t=0;return function(){return++t}}(),S={},A=function(){var t=C;t&&document.body.contains(t)||((t=document.createElement("div")).setAttribute("data-tether-id",E()),h(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),C=t);var e=t.getAttribute("data-tether-id");return void 0===S[e]&&(S[e]=r(t),I(function(){delete S[e]})),S[e]},O=null,k=[],I=function(t){k.push(t)},D=function(){for(var t=void 0;t=k.pop();)t()},M=function(){function t(){i(this,t)}return T(t,[{key:"on",value:function(t,e,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if(void 0!==this.bindings&&void 0!==this.bindings[t])if(void 0===e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){if(void 0!==this.bindings&&this.bindings[t]){for(var e=0,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(;e<this.bindings[t].length;){var o=this.bindings[t][e],s=o.handler,a=o.ctx,c=o.once,u=a;void 0===u&&(u=this),s.apply(u,i),c?this.bindings[t].splice(e,1):++e}}}}]),t}();P.Utils={getActualBoundingClientRect:r,getScrollParents:o,getBounds:a,getOffsetParent:c,extend:h,addClass:f,removeClass:l,hasClass:d,updateClasses:v,defer:I,flush:D,uniqueId:E,Evented:M,getScrollBarSize:u,removeUtilElements:s};var j=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),L=function(t,e,n){for(var i=!0;i;){var r=t,o=e,s=n;i=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var c=a.get;if(void 0===c)return;return c.call(s)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,n=s,i=!0,a=u=void 0}};if(void 0===P)throw new Error("You must include the utils.js file before tether.js");var R=P.Utils,o=R.getScrollParents,a=R.getBounds,c=R.getOffsetParent,h=R.extend,f=R.addClass,l=R.removeClass,v=R.updateClasses,I=R.defer,D=R.flush,u=R.getScrollBarSize,s=R.removeUtilElements,N=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var i=e[n];if(void 0!==t.style[i])return i}}(),F=[],B=function(){F.forEach(function(t){t.position(!1)}),D()};!function(){var t=null,e=null,n=null,i=function i(){if(void 0!==e&&e>16)return e=Math.min(e-16,250),void(n=setTimeout(i,250));void 0!==t&&b()-t<10||(null!=n&&(clearTimeout(n),n=null),t=b(),B(),e=b()-t)};"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,i)})}();var H={center:"center",left:"right",right:"left"},W={middle:"middle",top:"bottom",bottom:"top"},q={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},V=function(t,e){var n=t.left,i=t.top;return"auto"===n&&(n=H[e.left]),"auto"===i&&(i=W[e.top]),{left:n,top:i}},$=function(t){var e=t.left,n=t.top;return void 0!==q[t.left]&&(e=q[t.left]),void 0!==q[t.top]&&(n=q[t.top]),{left:e,top:n}},U=function(t){var e=t.split(" "),n=j(e,2);return{top:n[0],left:n[1]}},z=U,K=function(t){function e(t){var n=this;i(this,e),L(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),F.push(this),this.history=[],this.setOptions(t,!1),P.modules.forEach(function(t){void 0!==t.initialize&&t.initialize.call(n)}),this.position()}return m(e,t),T(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return void 0!==e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],i={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=h(i,t);var r=this.options,s=r.element,a=r.target,c=r.targetModifier;if(this.element=s,this.target=a,this.targetModifier=c,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if(void 0===e[t])throw new Error("Tether Error: Both element and target must be defined");void 0!==e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),f(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&f(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=z(this.options.targetAttachment),this.attachment=z(this.options.attachment),this.offset=U(this.options.offset),this.targetOffset=U(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=o(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return a(this.target);if("visible"===this.targetModifier)return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((o={height:(t=a(this.target)).height,width:t.width,top:t.top,left:t.left}).height=Math.min(o.height,t.height-(pageYOffset-t.top)),o.height=Math.min(o.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),o.height=Math.min(innerHeight,o.height),o.height-=2,o.width=Math.min(o.width,t.width-(pageXOffset-t.left)),o.width=Math.min(o.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),o.width=Math.min(innerWidth,o.width),o.width-=2,o.top<pageYOffset&&(o.top=pageYOffset),o.left<pageXOffset&&(o.left=pageXOffset),o);if("scroll-handle"===this.targetModifier){var t=void 0,e=this.target;e===document.body?(e=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=a(e);var n=getComputedStyle(e),i=0;(e.scrollWidth>e.clientWidth||[n.overflow,n.overflowX].indexOf("scroll")>=0||this.target!==document.body)&&(i=15);var r=t.height-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth)-i,o={width:15,height:.975*r*(r/e.scrollHeight),left:t.left+t.width-parseFloat(n.borderLeftWidth)-15},s=0;r<408&&this.target===document.body&&(s=-11e-5*Math.pow(r,2)-.00727*r+22.58),this.target!==document.body&&(o.height=Math.max(o.height,24));var c=this.target.scrollTop/(e.scrollHeight-r);return o.top=c*(r-o.height-s)+t.top+parseFloat(n.borderTopWidth),this.target===document.body&&(o.height=Math.max(o.height,24)),o}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return void 0===this._cache&&(this._cache={}),void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&f(this.target,this.getClass("enabled")),f(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;l(this.target,this.getClass("enabled")),l(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),F.forEach(function(e,n){e===t&&F.splice(n,1)}),0===F.length&&s()}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment;var i=["left","top","bottom","right","middle","center"];void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var r=this._addAttachClasses;t.top&&r.push(this.getClass("element-attached")+"-"+t.top),t.left&&r.push(this.getClass("element-attached")+"-"+t.left),e.top&&r.push(this.getClass("target-attached")+"-"+e.top),e.left&&r.push(this.getClass("target-attached")+"-"+e.left);var o=[];i.forEach(function(t){o.push(n.getClass("element-attached")+"-"+t),o.push(n.getClass("target-attached")+"-"+t)}),I(function(){void 0!==n._addAttachClasses&&(v(n.element,n._addAttachClasses,o),!1!==n.options.addTargetClasses&&v(n.target,n._addAttachClasses,o),delete n._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=V(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var i=this.cache("element-bounds",function(){return a(t.element)}),r=i.width,o=i.height;if(0===r&&0===o&&void 0!==this.lastSize){var s=this.lastSize;r=s.width,o=s.height}else this.lastSize={width:r,height:o};var h=this.cache("target-bounds",function(){return t.getTargetBounds()}),l=h,f=w($(this.attachment),{width:r,height:o}),d=w($(n),l),p=w(this.offset,{width:r,height:o}),g=w(this.targetOffset,l);f=_(f,p),d=_(d,g);for(var v=h.left+d.left-f.left,m=h.top+d.top-f.top,y=0;y<P.modules.length;++y){var b=P.modules[y].position.call(this,{left:v,top:m,targetAttachment:n,targetPos:h,elementPos:i,offset:f,targetOffset:d,manualOffset:p,manualTargetOffset:g,scrollbarSize:E,attachment:this.attachment});if(!1===b)return!1;void 0!==b&&"object"==typeof b&&(m=b.top,v=b.left)}var x={page:{top:m,left:v},viewport:{top:m-pageYOffset,bottom:pageYOffset-m-o+innerHeight,left:v-pageXOffset,right:pageXOffset-v-r+innerWidth}},T=this.target.ownerDocument,C=T.defaultView,E=void 0;return C.innerHeight>T.documentElement.clientHeight&&(E=this.cache("scrollbar-size",u),x.viewport.bottom-=E.height),C.innerWidth>T.documentElement.clientWidth&&(E=this.cache("scrollbar-size",u),x.viewport.right-=E.width),-1!==["","static"].indexOf(T.body.style.position)&&-1!==["","static"].indexOf(T.body.parentElement.style.position)||(x.page.bottom=T.body.scrollHeight-m-o,x.page.right=T.body.scrollWidth-v-r),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var e=t.cache("target-offsetparent",function(){return c(t.target)}),n=t.cache("target-offsetparent-bounds",function(){return a(e)}),i=getComputedStyle(e),r=n,o={};if(["Top","Left","Bottom","Right"].forEach(function(t){o[t.toLowerCase()]=parseFloat(i["border"+t+"Width"])}),n.right=T.body.scrollWidth-n.left-r.width+o.right,n.bottom=T.body.scrollHeight-n.top-r.height+o.bottom,x.page.top>=n.top+o.top&&x.page.bottom>=n.bottom&&x.page.left>=n.left+o.left&&x.page.right>=n.right){var s=e.scrollTop,u=e.scrollLeft;x.offset={top:x.page.top-n.top+s-o.top,left:x.page.left-n.left+u-o.left}}}(),this.move(x),this.history.unshift(x),this.history.length>3&&this.history.pop(),e&&D(),!0}}},{key:"move",value:function(t){var e=this;if(void 0!==this.element.parentNode){var n={};for(var i in t){n[i]={};for(var r in t[i]){for(var o=!1,s=0;s<this.history.length;++s){var a=this.history[s];if(void 0!==a[i]&&!y(a[i][r],t[i][r])){o=!0;break}}o||(n[i][r]=!0)}}var u={top:"",left:"",right:"",bottom:""},l=function(t,n){if(!1!==(void 0!==e.options.optimizations?e.options.optimizations.gpu:null)){var i=void 0,r=void 0;t.top?(u.top=0,i=n.top):(u.bottom=0,i=-n.bottom),t.left?(u.left=0,r=n.left):(u.right=0,r=-n.right),window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches||(r=Math.round(r),i=Math.round(i))),u[N]="translateX("+r+"px) translateY("+i+"px)","msTransform"!==N&&(u[N]+=" translateZ(0)")}else t.top?u.top=n.top+"px":u.bottom=n.bottom+"px",t.left?u.left=n.left+"px":u.right=n.right+"px"},f=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(u.position="absolute",l(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(u.position="fixed",l(n.viewport,t.viewport)):void 0!==n.offset&&n.offset.top&&n.offset.left?function(){u.position="absolute";var i=e.cache("target-offsetparent",function(){return c(e.target)});c(e.element)!==i&&I(function(){e.element.parentNode.removeChild(e.element),i.appendChild(e.element)}),l(n.offset,t.offset),f=!0}():(u.position="absolute",l({top:!0,left:!0},t.page)),!f)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(var d=!0,p=this.element.parentNode;p&&1===p.nodeType&&"BODY"!==p.tagName;){if("static"!==getComputedStyle(p).position){d=!1;break}p=p.parentNode}d||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var g={},v=!1;for(var r in u){var m=u[r];this.element.style[r]!==m&&(v=!0,g[r]=m)}v&&I(function(){h(e.element.style,g),e.trigger("repositioned")})}}}]),e}(M);K.modules=[],P.position=B;var G=h(K,P),j=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=(R=P.Utils).getBounds,h=R.extend,v=R.updateClasses,I=R.defer,Y=["left","top","right","bottom"];P.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=t.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",function(){return a(e.element)}),s=o.height,c=o.width;if(0===c&&0===s&&void 0!==this.lastSize){var u=this.lastSize;c=u.width,s=u.height}var l=this.cache("target-bounds",function(){return e.getTargetBounds()}),f=l.height,d=l.width,p=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&p.push(e),n&&p.push(n)}),p.forEach(function(t){["left","top","right","bottom"].forEach(function(e){p.push(t+"-"+e)})});var g=[],m=h({},r),y=h({},this.attachment);return this.options.constraints.forEach(function(t){var o=t.to,a=t.attachment,u=t.pin;void 0===a&&(a="");var h=void 0,l=void 0;if(a.indexOf(" ")>=0){var p=a.split(" "),v=j(p,2);l=v[0],h=v[1]}else h=l=a;var b=x(e,o);"target"!==l&&"both"!==l||(n<b[1]&&"top"===m.top&&(n+=f,m.top="bottom"),n+s>b[3]&&"bottom"===m.top&&(n-=f,m.top="top")),"together"===l&&("top"===m.top&&("bottom"===y.top&&n<b[1]?(n+=f,m.top="bottom",n+=s,y.top="top"):"top"===y.top&&n+s>b[3]&&n-(s-f)>=b[1]&&(n-=s-f,m.top="bottom",y.top="bottom")),"bottom"===m.top&&("top"===y.top&&n+s>b[3]?(n-=f,m.top="top",n-=s,y.top="bottom"):"bottom"===y.top&&n<b[1]&&n+(2*s-f)<=b[3]&&(n+=s-f,m.top="top",y.top="top")),"middle"===m.top&&(n+s>b[3]&&"top"===y.top?(n-=s,y.top="bottom"):n<b[1]&&"bottom"===y.top&&(n+=s,y.top="top"))),"target"!==h&&"both"!==h||(i<b[0]&&"left"===m.left&&(i+=d,m.left="right"),i+c>b[2]&&"right"===m.left&&(i-=d,m.left="left")),"together"===h&&(i<b[0]&&"left"===m.left?"right"===y.left?(i+=d,m.left="right",i+=c,y.left="left"):"left"===y.left&&(i+=d,m.left="right",i-=c,y.left="right"):i+c>b[2]&&"right"===m.left?"left"===y.left?(i-=d,m.left="left",i-=c,y.left="right"):"right"===y.left&&(i-=d,m.left="left",i+=c,y.left="left"):"center"===m.left&&(i+c>b[2]&&"left"===y.left?(i-=c,y.left="right"):i<b[0]&&"right"===y.left&&(i+=c,y.left="left"))),"element"!==l&&"both"!==l||(n<b[1]&&"bottom"===y.top&&(n+=s,y.top="top"),n+s>b[3]&&"top"===y.top&&(n-=s,y.top="bottom")),"element"!==h&&"both"!==h||(i<b[0]&&("right"===y.left?(i+=c,y.left="left"):"center"===y.left&&(i+=c/2,y.left="left")),i+c>b[2]&&("left"===y.left?(i-=c,y.left="right"):"center"===y.left&&(i-=c/2,y.left="right"))),"string"==typeof u?u=u.split(",").map(function(t){return t.trim()}):!0===u&&(u=["top","left","right","bottom"]),u=u||[];var _=[],w=[];n<b[1]&&(u.indexOf("top")>=0?(n=b[1],_.push("top")):w.push("top")),n+s>b[3]&&(u.indexOf("bottom")>=0?(n=b[3]-s,_.push("bottom")):w.push("bottom")),i<b[0]&&(u.indexOf("left")>=0?(i=b[0],_.push("left")):w.push("left")),i+c>b[2]&&(u.indexOf("right")>=0?(i=b[2]-c,_.push("right")):w.push("right")),_.length&&function(){var t=void 0;t=void 0!==e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),g.push(t),_.forEach(function(e){g.push(t+"-"+e)})}(),w.length&&function(){var t=void 0;t=void 0!==e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),g.push(t),w.forEach(function(e){g.push(t+"-"+e)})}(),(_.indexOf("left")>=0||_.indexOf("right")>=0)&&(y.left=m.left=!1),(_.indexOf("top")>=0||_.indexOf("bottom")>=0)&&(y.top=m.top=!1),m.top===r.top&&m.left===r.left&&y.top===e.attachment.top&&y.left===e.attachment.left||(e.updateAttachClasses(y,m),e.trigger("update",{attachment:y,targetAttachment:m}))}),I(function(){!1!==e.options.addTargetClasses&&v(e.target,g,p),v(e.element,g,p)}),{top:n,left:i}}});var a=(R=P.Utils).getBounds,v=R.updateClasses,I=R.defer;P.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=this.cache("element-bounds",function(){return a(e.element)}),o=r.height,s=r.width,c=this.getTargetBounds(),u=n+o,h=i+s,l=[];n<=c.bottom&&u>=c.top&&["left","right"].forEach(function(t){var e=c[t];e!==i&&e!==h||l.push(t)}),i<=c.right&&h>=c.left&&["top","bottom"].forEach(function(t){var e=c[t];e!==n&&e!==u||l.push(t)});var f=[],d=[],p=["left","top","right","bottom"];return f.push(this.getClass("abutted")),p.forEach(function(t){f.push(e.getClass("abutted")+"-"+t)}),l.length&&d.push(this.getClass("abutted")),l.forEach(function(t){d.push(e.getClass("abutted")+"-"+t)}),I(function(){!1!==e.options.addTargetClasses&&v(e.target,d,f),v(e.element,d,f)}),!0}});j=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return P.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:e,left:n}));var r=void 0,o=void 0;if("string"==typeof i){(i=i.split(" "))[1]=i[1]||i[0];var s=j(i,2);r=s[0],o=s[1],r=parseFloat(r,10),o=parseFloat(o,10)}else r=i.top,o=i.left;return e+=r,n+=o,{top:e,left:n}}}}),G})},{}],35:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.MeshSpecifications=[{type:"polygon",vertices:[12,10.83,7.41,15.41,6,14,12,8,18,14,16.59,15.41],id:"arrow"},{vertices:[0,3,-2,5,-3,2,-5,0,-8,3,-10,7,-17,10,-13,5,-12,-1,-3,-7,0,-10,3,-7,12,-1,13,5,17,10,10,7,8,3,5,0,3,2,2,5],triangleIndices:[0,1,2,0,2,3,0,3,9,0,9,10,0,10,11,0,11,17,0,17,18,0,18,19,4,5,6,4,6,7,4,7,8,4,8,9,4,9,3,16,14,15,16,13,14,16,12,13,16,11,12,16,17,11],id:"bat"},{vertices:[0,3,-1,4,-2,3,-1,2,-2,1,-1,0,0,1,1,0,2,1,1,2,2,3,1,4],triangleIndices:[0,1,2,0,2,3,6,3,4,6,4,5,8,9,6,8,6,7,10,11,0,10,0,9],polygonIndices:[[0,1,2,3],[3,4,5,6],[6,7,8,9],[9,10,11,0]],id:"blockFlower4"},{vertices:[0,1,1,2,0,3,-1,2,-1,0,-2,1,-3,0,-2,-1,0,-1,-1,-2,0,-3,1,-2,1,0,2,-1,3,0,2,1],triangleIndices:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,0,4,8,0,8,12],polygonIndices:[[0,1,2,3],[4,5,6,7],[8,9,10,11],[12,13,14,15],[0,4,8,12]],id:"blockFlower5"},{type:"polygon",vertices:[0,0,-1,1,-1,0,0,-1,1,0,1,1],id:"chevron"},{type:"polygon",vertices:[0,0,3,-3,5,-3,7,-1,7,1,5,3,3,3,3,5,1,7,-1,7,-3,5,-3,3,-5,3,-7,1,-7,-1,-5,-3,-3,-3],id:"cloud"},{type:"star",points:2,ratio:.5,id:"diamond"},{vertices:[0,-2,-1,-1,-2,-1,-2,-2,-3,-3,-1,-3,-2,-4,-2,-5,-1,-5,0,-6,0,-4,1,-5,2,-5,2,-4,3,-3,1,-3,2,-2,2,-1,1,-1,0,0],triangleIndices:[5,0,1,5,1,2,5,2,3,5,3,4,5,6,7,5,7,8,5,8,9,5,9,10,5,10,0,15,0,10,15,10,11,15,11,12,15,12,13,15,13,14,15,16,17,15,17,18,15,18,19,15,19,0],id:"flower"},{type:"polygon",vertices:[0,12,-3,16,-5,16,-8,12,-8,8,0,0,8,8,8,12,5,16,3,16],id:"heart"},{type:"polygon",sides:6,id:"hexagon"},{vertices:[1,2,-1,2,0,1,-1,0,1,0],triangleIndices:[0,1,2,2,3,4],polygonIndices:[[0,1,2],[2,3,4]],id:"hourglass"},{type:"polygon",vertices:[0,1,1,0,3,0,2,1,4,3,2,3,2,5,1,4,0,7,-1,4,-2,5,-2,3,-4,3,-2,1,-3,0,-1,0],id:"leaf"},{type:"polygon",sides:8,id:"octagon"},{type:"polygon",sides:5,id:"pentagon"},{vertices:[0,8,-2,6,-1,6,-3,4,-2,4,-4,2,-3,2,-5,0,5,0,3,2,4,2,2,4,3,4,1,6,2,6],triangleIndices:[0,1,2,0,2,13,0,13,14,2,3,4,2,4,11,2,11,12,2,12,13,4,5,6,4,6,9,4,9,10,4,10,11,6,7,8,6,8,9],id:"pineTree"},{type:"polygon",vertices:[0,3,-1,1,0,0,1,1],id:"raindrop"},{type:"polygon",sides:3,effect:"spray",innerRing:"3",rings:"3",id:"spray"},{type:"rectangle",bounds:{left:0,bottom:0,right:1,top:1},id:"square"},{type:"star",points:16,ratio:.1,id:"star16"},{type:"star",points:3,ratio:.25,id:"star3"},{type:"star",points:4,ratio:.25,id:"star4"},{type:"star",points:5,ratio:.4,id:"star5"},{type:"star",points:6,ratio:.5,id:"star6"},{type:"star",points:8,ratio:.5,id:"star8"},{type:"star",points:16,ratio:.8,id:"sun"},{type:"polygon",vertices:[-1,3,-2,0,2,0,1,3],id:"trapezoid"},{type:"polygon",sides:3,id:"triangle"},{vertices:[2,2,1,3,0,2,1,2,0,1,1,0,1,1,2,0,3,1,2,1,3,2,2,3],triangleIndices:[0,1,2,3,4,5,6,7,8,9,10,11],polygonIndices:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],id:"triangleFlower1"},{vertices:[0,0,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1,0,1],triangleIndices:[0,1,2,0,3,4,0,5,6,0,7,8],polygonIndices:[[0,1,2],[0,3,4],[0,5,6],[0,7,8]],id:"triangleFlower2"},{vertices:[0,2,-1,1,-2,0,-1,-1,0,-2,1,-1,2,0,1,1],triangleIndices:[7,0,1,1,2,3,3,4,5,5,6,7],polygonIndices:[[7,0,1],[1,2,3],[3,4,5],[5,6,7]],id:"triangleFrame"},{vertices:[0,2,-.57735025,1,-1.1547005,0,0,0,1.1547005,0,.57735025,1],triangleIndices:[0,1,5,1,2,3,3,4,5],polygonIndices:[[0,1,5],[1,2,3],[3,4,5]],id:"triforce"},{type:"polygon",vertices:[0,6,-4,5,-7,0,7,0,4,5],id:"umbrella"},{vertices:[6.41,19,5,17.59,10.59,12,5,6.41,6.41,5,12,10.59,17.59,5,19,6.41,13.41,12,19,17.59,17.59,19,12,13.41],triangleIndices:[0,1,6,0,6,7,2,3,4,2,4,5,8,9,10,8,10,11],id:"x"}]},{}],36:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.vertex="precision mediump float;uniform mat4 z;uniform float o;attribute mat2 d;attribute vec2 v,g;varying vec2 f,e;mat2 k(float a){float b=sin(a),c=cos(a);return mat2(c,b,-b,c);}void main(){float j=d[0].x,l=d[1].x,m=d[0].y,n=d[1].y,b=(j+n)/2.,c=(j-n)/2.,h=(m+l)/2.,i=(m-l)/2.,p=sqrt(b*b+i*i),q=sqrt(c*c+h*h),w=p+q,a=p-q,r=atan(h,c),s=atan(i,b),x=(s-r)/2.,y=(s+r)/2.;mat2 t=k(y),u=k(x);t[1]*=sign(a),a=abs(a);vec2 A=t*(o*(u*g)),B=d*g+v+A;gl_Position=z*vec4(B,1.,1.),e=u*g,f=e*(1.+o/vec2(w,a));}",n.fragment="precision mediump float;uniform vec4 C,D;varying vec2 f,e;void main(){bool a=dot(f,f)<1.,b=dot(e,e)<1.;gl_FragColor=a?C:b?D:vec4(0.);}",n.UniformRenaming={projection:"z",lineWidth:"o",fillColor:"C",strokeColor:"D"},n.AttributeRenaming={model:"d",offset:"v",position:"g"}},{}],37:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.vertex="precision mediump float;uniform mat4 l;uniform vec4 f;uniform float a;attribute vec2 i;varying vec2 g,h;void main(){float b=f.x-a,j=f.y+a,k=f.z+a,c=f.w-a,d=k-b,e=j-c,m=d*i.x+b,n=e*i.y+c;gl_Position=l*vec4(m,n,1.,1.),g=vec2(a/d,a/e),h=i;}",n.fragment="precision mediump float;uniform vec4 o;varying vec2 g,h;void main(){float b=h.x,c=h.y,d=g.x,e=g.y;gl_FragColor=o*float(b<d||c<e||b>1.-d||c>1.-e);}",n.UniformRenaming={projection:"l",innerRect:"f",thickness:"a",color:"o"},n.AttributeRenaming={basisCoord:"i"}},{}],38:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.vertex="precision mediump float;uniform mat4 j;uniform float k;attribute mat2 d;attribute vec2 l,m,n;mat2 f(float a){float b=sin(a),c=cos(a);return mat2(c,b,-b,c);}void main(){float a=d[0].x,e=d[1].x,b=d[0].y,c=d[1].y,p=a+c,q=a-c,r=b+e,s=b-e,g=atan(r,q),h=atan(s,p),t=(h-g)/2.,u=(h+g)/2.;mat2 i=f(u),v=f(t);i[1]*=sign(a*c-e*b);vec2 w=i*(k*(v*n)),x=d*m+l+w;gl_Position=j*vec4(x,1.,1.);}",n.fragment="precision mediump float;uniform vec4 o;void main(){gl_FragColor=o;}",n.UniformRenaming={projection:"j",lineWidth:"k",color:"o"},n.AttributeRenaming={model:"d",offset:"l",position:"m",miter:"n"}},{}],39:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.vertex="precision mediump float;uniform mat4 b;attribute mat2 c;attribute vec2 a,d;void main(){vec2 f=c*d+a;gl_Position=b*vec4(f,1.,1.);}",n.fragment="precision mediump float;uniform vec4 e;void main(){gl_FragColor=e;}",n.UniformRenaming={projection:"b",color:"e"},n.AttributeRenaming={model:"c",offset:"a",position:"d"}},{}],40:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){this.drawable=t,this.index=e}return t.prototype.redo=function(t){var e=this,n=e.drawable,i=e.index,r=t.database,o=t.canvasId;t.renderer.drawables.splice(i,0,n),n.save(r,o.val)},t.prototype.undo=function(t){var e=this,n=e.drawable,i=e.index,r=t.database;t.renderer.drawables.splice(i,1),n.delete(r)},t}();n.AddDrawableAction=i},{}],41:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.redo=function(e){t.prototype.undo.call(this,e)},e.prototype.undo=function(e){t.prototype.redo.call(this,e)},e}(t("./addDrawable").AddDrawableAction);n.RemoveDrawableAction=r},{"./addDrawable":40}],42:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e,n){this.drawable=t,this.oldColor=e,this.newColor=n}return t.prototype.redo=function(t){var e=this,n=e.drawable,i=e.newColor;n.fillColor.setFromColor(i),n.saveFillColor(t.database)},t.prototype.undo=function(t){var e=this,n=e.drawable,i=e.oldColor;n.fillColor.setFromColor(i),n.saveFillColor(t.database)},t}();n.SetFillColorAction=i},{}],43:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e,n){this.drawable=t,this.oldLineWidth=e,this.newLineWidth=n}return t.prototype.redo=function(t){var e=this,n=e.drawable,i=e.newLineWidth;n.lineWidth=i,n.saveLineWidth(t.database)},t.prototype.undo=function(t){var e=this,n=e.drawable,i=e.oldLineWidth;n.lineWidth=i,n.saveLineWidth(t.database)},t}();n.SetLineWidthAction=i},{}],44:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e,n){this.drawable=t,this.oldColor=e,this.newColor=n}return t.prototype.redo=function(t){var e=this,n=e.drawable,i=e.newColor;n.strokeColor.setFromColor(i),n.saveStrokeColor(t.database)},t.prototype.undo=function(t){var e=this,n=e.drawable,i=e.oldColor;n.strokeColor.setFromColor(i),n.saveStrokeColor(t.database)},t}();n.SetStrokeColorAction=i},{}],45:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){this.undos=[],this.redos=[]}return t.prototype.push=function(t){this.undos.push(t),this.redos.length=0},t.prototype.pop=function(){return this.undos.length>0?this.undos.pop():null},t.prototype.clear=function(){this.undos.length=0,this.redos.length=0},t}();n.ActionStack=i},{}],46:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("gl2d/struct/mat2d"),r=function(){function t(t,e){this.drawable=t,this.matrix=e}return t.prototype.redo=function(t){var e=this,n=e.drawable,i=e.matrix,r=t.database;n.transform(i),n.savePosition(r)},t.prototype.undo=function(t){var e=this,n=e.drawable,r=e.matrix,o=t.database,s=i.Mat2d.inverse(r);n.transform(s),n.savePosition(o)},t}();n.TransformDrawableAction=r},{"gl2d/struct/mat2d":17}],47:[function(t,e,n){"use strict";function i(t){return t?u.ColorFStruct.fromColor(new c.ColorStruct(new Uint8Array(t))):null}function r(t){return t?c.ColorStruct.fromColorF(t).data.buffer:null}function o(t){return t?new h.Mat2dStruct(new Float32Array(t)):null}function s(t){return t?new h.Mat2dBuffer(new Float32Array(t)):null}function a(t){return t?new l.VertexBuffer(new Float32Array(t)):null}Object.defineProperty(n,"__esModule",{value:!0});var c=t("gl2d/struct/color"),u=t("gl2d/struct/colorf"),h=t("gl2d/struct/mat2d"),l=t("gl2d/struct/vertex");n.convertToColorF=i,n.convertFromColorF=r,n.convertToMat2d=o,n.convertToMat2dBuffer=s,n.convertToVertexBuffer=a},{"gl2d/struct/color":14,"gl2d/struct/colorf":15,"gl2d/struct/mat2d":17,"gl2d/struct/vertex":23}],48:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this,"VectorArtDatabase")||this;return e.version(1).stores({canvases:"++id, creationTime, lastAccessTime",types:"++id, name",shapes:"++id, canvasId, typeId, zIndex, fillColor, strokeColor, lineWidth, matrix",shapeBatches:"++id, canvasId, typeId, zIndex, fillColor, matrices",strokes:"++id, canvasId, zIndex, fillColor, vertices, matrix"}),e}return i(e,t),e.prototype.getCanvas=function(t){return this.canvases.where("id").equals(t).first()},e.prototype.createCanvas=function(){var t=Date.now();return this.canvases.add({creationTime:t,lastAccessTime:t})},e.prototype.clearCanvas=function(t){for(var e=this,n=0,i=[e.shapes,e.shapeBatches,e.strokes];n<i.length;n++)i[n].where("canvasId").equals(t).delete()},e.prototype.removeCanvas=function(t){var e=this,n=this,i=n.canvases,r=n.shapes,o=n.shapeBatches,s=n.strokes;return this.transaction("rw",i,r,o,s,function(){e.clearCanvas(t),i.delete(t)})},e.prototype.getTypeId=function(t){var e=this,n={name:t};return this.types.get(n).then(function(t){return t?t.id:e.types.add(n)})},e}(t("dexie").default);n.Database=r},{dexie:3}],49:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("./shape"),o=t("gl2d/struct/rect"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.set=function(t,e,n){this.matrix.setScale(t,e),n&&this.matrix.postTranslate(n)},e.prototype.measureBoundaries=function(){return e.measureBoundaries(this.matrix)},e.measureBoundaries=function(t){var e=t.c1r1,n=t.c2r1,i=t.c3r1,r=t.c1r2,s=t.c2r2,a=t.c3r2,c=e*e,u=n*n,h=r*r,l=s*s,f=e*r+n*s,d=c+u-h-l,p=.5*Math.atan2(2*f,d),g=Math.pow(Math.cos(p),2),v=Math.pow(Math.sin(p),2),m=c+u+h+l,y=Math.sqrt(d*d+4*f*f),b=.5*(m+y),_=.5*(m-y),w=Math.sqrt(b*g+_*v),x=Math.sqrt(b*v+_*g);return o.Rect.lrbt(i-w,i+w,a-x,a+x)},e.prototype.contains=function(t,e){var n=this.convertPointToModelSpace(t,e);return!!this.mesh.bounds.contains(n)&&n.distance2()<=1},e.prototype.draw=function(t){var e=t.gl,n=t.ext,i=t.ellipseProgram,r=this,o=r.fillColor,s=r.matrix,a=r.strokeColor,c=r.lineWidth;t.attachProgram(i),i.setProjection(e,t.camera.matrix),i.setMatrices(e,s),i.setFillColor(e,o),i.setLineWidth(e,c),c&&i.setStrokeColor(e,a),n.drawArraysInstancedANGLE(e.TRIANGLE_FAN,0,4,1)},e}(r.Shape);n.Ellipse=s},{"./shape":55,"gl2d/struct/rect":20}],50:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("./ellipse"),o=t("./shapeBatch"),s=t("gl2d/struct/mat2d"),a=t("gl2d/struct/point"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.measureBoundaries=function(){var t=null,e=this.matrices;if(e.moveToFirst())for(t=r.Ellipse.measureBoundaries(e);e.moveToNext();)t.union(r.Ellipse.measureBoundaries(e));return t},e.prototype.contains=function(t){var e=this.matrices,n=this.mesh.bounds,i=new s.Mat2d,r=new a.Point;for(e.moveToPosition(-1);e.moveToNext();)if(i.setInverse(e),i.map(t,r),n.contains(r)&&r.distance2()<=1)return!0;return!1},e.prototype.draw=function(t){var e=t.gl,n=t.ext,i=t.ellipseProgram,r=this.matrices,o=r.capacity();t.attachProgram(i),i.setProjection(e,t.camera.matrix),i.setMatrices(e,r),i.setFillColor(e,this.fillColor),i.setLineWidth(e,0),n.drawArraysInstancedANGLE(e.TRIANGLE_FAN,0,4,o)},e}(o.ShapeBatch);n.EllipseBatch=c},{"./ellipse":49,"./shapeBatch":56,"gl2d/struct/mat2d":17,"gl2d/struct/point":19}],51:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("gl2d/struct/rect"),r=t("gl2d/struct/point"),o=function(){function t(t,e,n){this.color=t,this.thickness=e,this.innerRect=void 0===n?new i.RectStruct:n}return t.prototype.measureBoundaries=function(){var t=i.Rect.create(this.innerRect),e=-this.thickness;return t.inset$(e,e),t},t.prototype.contains=function(t){return this.measureBoundaries().contains(t)},t.prototype.getVertexOpposite=function(t){var e=this.innerRect,n=new r.Point;return t.x<e.centerX()?n.x=e.right:n.x=e.left,t.y<e.centerY()?n.y=e.top:n.y=e.bottom,n},t.prototype.draw=function(t){var e=t.gl,n=t.frameProgram;t.attachProgram(n),n.setProjection(e,t.camera.matrix),n.setInnerRect(e,this.innerRect),n.setColor(e,this.color),n.setThickness(e,this.thickness),n.draw(e)},t}();n.Frame=o},{"gl2d/struct/point":19,"gl2d/struct/rect":20}],52:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){this.frame=t,this.target=e}return t.prototype.setTarget=function(t){this.target=t,t?this.frame.innerRect.set(t.measureBoundaries()):this.frame.innerRect.setScalar(0)},t.prototype.contains=function(t){return this.target&&this.frame.contains(t)},t.prototype.draw=function(t){this.frame.draw(t),this.target.draw(t)},t}();n.FramedDrawable=i},{}],53:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("./shape"),o=t("gl2d/struct/mat2d"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.setFromPointToPoint=function(t,e,n){this.matrix.setTranslate$(0,-.5);var i=t.distance(e),r=n;this.matrix.postScale(i,r);var s=i,a=e.x-t.x,c=(e.y-t.y)/s,u=a/s;this.matrix.postConcat(o.Mat2d.sinCos(c,u)),this.matrix.postTranslate(t)},e.prototype.measureControl=function(){return this.convertPointToWorldSpace(this.mesh.bounds.centerLeft())},e.prototype.measurePivot=function(){return this.convertPointToWorldSpace(this.mesh.bounds.centerRight())},e}(r.Shape);n.Line=s},{"./shape":55,"gl2d/struct/mat2d":17}],54:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./shape"),r=t("./ellipse"),o=t("./frame"),s=t("gl2d/struct/mat2d"),a=function(){function t(t,e,n){this.frame=t,this.pivot=e,this.control=n}return t.create=function(e,n,i,a,c){return new t(new o.Frame(e,n),new r.Ellipse({mesh:i,fillColor:a,matrix:s.Mat2dStruct.stretch(c)}),new r.Ellipse({mesh:i,fillColor:a,matrix:s.Mat2dStruct.stretch(c)}))},t.prototype.setTarget=function(t){if(this.target=t,t){var e=t.measureBoundaries();this.frame.innerRect.set(e),this.pivot.offsetTo(this.getPivot()),this.control.offsetTo(this.getControl())}else this.frame.innerRect.setScalar(0)},t.prototype.contains=function(t){return this.target&&(this.frame.contains(t)||this.pivot.contains(t)||this.control.contains(t))},t.prototype.offset=function(t){this.target.offset(t),this.frame.innerRect.offset(t),this.pivot.offset(t),this.control.offset(t)},t.prototype.scale=function(t){var e=this.target,n=this.frame.innerRect;e.transform(t),t.mapRect(n,n),this.pivot.offsetTo(this.getPivot()),this.control.offsetTo(this.getControl())},t.prototype.transform=function(t){var e=this.target;this.target.transform(t),this.frame.innerRect.set(e.measureBoundaries());var n=this.pivot.measureCenter();t.map(n,n),this.pivot.offsetTo(n);var i=this.control.measureCenter();t.map(i,i),this.control.offsetTo(i)},t.prototype.getPivot=function(){return this.target instanceof i.Shape?this.target.measurePivot():this.frame.innerRect.centerTop()},t.prototype.getControl=function(){return this.target instanceof i.Shape?this.target.measureControl():this.frame.innerRect.centerBottom()},t.prototype.draw=function(t){this.frame.draw(t),this.pivot.draw(t),this.control.draw(t)},t}();n.Selection=a},{"./ellipse":49,"./frame":51,"./shape":55,"gl2d/struct/mat2d":17}],55:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("../database/conversion"),o=t("gl2d/drawable/shape"),s=t("gl2d/struct/mat2d"),a=function(t){function e(e){var n=t.call(this,e.mesh,e.matrix)||this;return n.fillColor=e.fillColor,n.strokeColor=e.strokeColor,n.lineWidth=e.lineWidth||0,n.zIndex=e.zIndex,n.id=e.id,n}return i(e,t),e.prototype.mapToRect=function(e,n,i){if(void 0===i&&(i=!1),i){var r=i?this.measureBoundaries():this.mesh.bounds,o=s.Mat2d.rectToRect(r,e,n);this.transform(o)}else t.prototype.mapToRect.call(this,e,n)},e.prototype.draw=function(t){var e=this,n=e.fillColor,i=e.mesh,r=e.matrix,o=e.strokeColor,s=e.lineWidth,a=t.gl,c=t.ext,u=t.shapeProgram,h=t.shapeOutlineProgram;if(!n.isTransparent())if(t.attachProgram(u),u.setProjection(a,t.camera.matrix),u.setColor(a,n),u.setVertices(a,i),u.setMatrices(a,r),i.triangleIndices){var l=i.triangleIndices.data.length,f=i.elementBufferOffset;c.drawElementsInstancedANGLE(a.TRIANGLES,l,a.UNSIGNED_SHORT,f,1)}else{l=i.vertices.capacity();c.drawArraysInstancedANGLE(a.TRIANGLES,0,l,1)}if(s){t.attachProgram(h),h.setProjection(a,t.camera.matrix),h.setMatrices(a,r),h.setColor(a,o),h.setVertices(a,i),h.setMiters(a,i),h.setLineWidth(a,s);var l=i.strokeElementCount,f=i.strokeElementBufferOffset;c.drawElementsInstancedANGLE(a.TRIANGLE_STRIP,l,a.UNSIGNED_SHORT,f,1)}},e.prototype.save=function(t,e){var n=this,i=this,o=i.zIndex,s=i.fillColor,a=i.strokeColor,c=i.lineWidth,u=i.matrix,h=i.mesh;t.getTypeId(h.id).then(function(i){t.shapes.add({typeId:i,zIndex:o,canvasId:e,lineWidth:c,fillColor:r.convertFromColorF(s),strokeColor:r.convertFromColorF(a),matrix:u.data.buffer}).then(function(t){return n.id=t})})},e.prototype.delete=function(t){t.shapes.delete(this.id)},e.prototype.saveFillColor=function(t){t.shapes.update(this.id,{fillColor:r.convertFromColorF(this.fillColor)})},e.prototype.saveStrokeColor=function(t){t.shapes.update(this.id,{strokeColor:r.convertFromColorF(this.strokeColor)})},e.prototype.saveLineWidth=function(t){t.shapes.update(this.id,{lineWidth:this.lineWidth})},e.prototype.saveZindex=function(t){t.shapes.update(this.id,{zIndex:this.zIndex})},e.prototype.savePosition=function(t){t.shapes.update(this.id,{matrix:this.matrix.data.buffer})},e}(o.Shape);n.Shape=a},{"../database/conversion":47,"gl2d/drawable/shape":6,"gl2d/struct/mat2d":17}],56:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("gl2d/struct/mat2d"),r=t("gl2d/struct/point"),o=t("gl2d/struct/rect"),s=t("gl2d/struct/vec2"),a=t("../database/conversion"),c=t("./shape"),u=function(){function t(t){this.mesh=t.mesh,this.fillColor=t.fillColor,this.matrices=t.matrices,this.zIndex=t.zIndex,this.id=t.id}return t.prototype.add=function(t,e){var n=this.mesh.bounds,i=o.Rect.unionOfPoints([t]);i.inset$(-e,-e),this.matrices.setRectToRect(n,i,0),this.matrices.moveToNext()},t.prototype.addAcrossLine=function(t,e){c.Shape.stretchAcrossLine(this.matrices,this.mesh,t,e),this.matrices.moveToNext()},t.prototype.addLine=function(t,e,n){var i=r.Point.create(t),o=s.Vec2.fromPointToPoint(t,e),a=o.length()/n,c=a>>>0;o.divScalar(a);for(var u=i,h=r.Point.create(i);c--&&this.matrices.hasValidPosition();)h.add(o),this.addAcrossLine(u,h),u.set(h);return u},t.prototype.measureBoundaries=function(){var t=null,e=this.matrices,n=this.mesh.vertices;if(e.moveToFirst()&&n.moveToFirst())for(t=c.Shape.measureBoundaries(e,n);e.moveToNext();)t.union(c.Shape.measureBoundaries(e,n));return t},t.prototype.offset=function(t){var e=this.matrices;for(e.moveToPosition(-1);e.moveToNext();)e.postTranslate(t)},t.prototype.transform=function(t){var e=this.matrices;for(e.moveToPosition(-1);e.moveToNext();)e.postConcat(t)},t.prototype.contains=function(t){var e=this.mesh,n=this.matrices,o=new i.Mat2d,s=new r.Point;for(n.moveToPosition(-1);n.moveToNext();)if(o.setInverse(n),o.map(t,s),e.contains(s))return!0;return!1},t.prototype.draw=function(t){var e=this,n=e.fillColor,i=e.matrices,r=e.mesh,o=t.gl,s=t.ext,a=t.shapeProgram,c=i.capacity();if(t.attachProgram(a),a.setProjection(o,t.camera.matrix),a.setVertices(o,r),a.setMatrices(o,i),a.setColor(o,n),r.triangleIndices){var u=r.triangleIndices.data.length,h=r.elementBufferOffset;s.drawElementsInstancedANGLE(o.TRIANGLES,u,o.UNSIGNED_SHORT,h,c)}else{u=r.vertices.capacity();s.drawArraysInstancedANGLE(o.TRIANGLES,0,u,c)}},t.prototype.save=function(t,e){var n=this,i=this,r=i.zIndex,o=i.fillColor,s=i.matrices,c=i.mesh;t.getTypeId(c.id).then(function(i){t.shapeBatches.add({typeId:i,zIndex:r,canvasId:e,fillColor:a.convertFromColorF(o),matrices:s.data.buffer}).then(function(t){return n.id=t})})},t.prototype.delete=function(t){t.shapeBatches.delete(this.id)},t.prototype.saveFillColor=function(t){t.shapeBatches.update(this.id,{fillColor:a.convertFromColorF(this.fillColor)})},t.prototype.saveZindex=function(t){t.shapeBatches.update(this.id,{zIndex:this.zIndex})},t.prototype.savePosition=function(t){t.shapeBatches.update(this.id,{matrices:this.matrices.data.buffer})},t}();n.ShapeBatch=u},{"../database/conversion":47,"./shape":55,"gl2d/struct/mat2d":17,"gl2d/struct/point":19,"gl2d/struct/rect":20,"gl2d/struct/vec2":22}],57:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("gl2d/drawable/graphic"),o=t("gl2d/math/miter"),s=t("gl2d/struct/point"),a=t("gl2d/struct/rect"),c=t("gl2d/struct/vec2"),u=t("../database/conversion"),h=t("./shape"),l=function(t){function e(e){var n=t.call(this,e.matrix)||this;return n.fillColor=e.fillColor,n.vertices=e.vertices,n.zIndex=e.zIndex,n.id=e.id,n}return i(e,t),e.prototype.measureBoundaries=function(t){void 0===t&&(t=new a.Rect);var e=this,n=e.matrix,i=e.vertices;return h.Shape.measureBoundaries(n,i)},e.prototype.contains=function(t,e){var n=this.vertices,i=this.convertPointToModelSpace(t,e),r=n.capacity();if(r>3)for(var o=3;o<r;o+=2)if(n.indexedContains(i,[o-3,o-2,o,o-1]))return!0;return!1},e.prototype.moveTo=function(t,e){var n=t.x,i=t.y,r=this.vertices,o=.5*e;r.moveToFirst()&&(r.rset$(n,i+o),r.rset$(n,i-o))},e.prototype.lineTo=function(t,e){var n,i,r,a=this.vertices,u=a.position(),h=.5*e,l=h*h,f=a.aget(u-2),d=a.aget(u-1),p=s.Point.midpoint(f,d),g=c.Vec2.fromPointToPoint(p,t);if(u>=4){var v=a.aget(u-4),m=a.aget(u-3),y=s.Point.midpoint(v,m);n=c.Vec2.fromPointToPoint(y,p),g.length2()<l&&n.length2()<l&&(u-=2,f=v,d=m,p=y,g=c.Vec2.fromPointToPoint(p,t),n=null,u>=4&&(v=a.aget(u-4),m=a.aget(u-3),y=s.Point.midpoint(v,m),n=c.Vec2.fromPointToPoint(y,p)))}(r=c.Vec2.create(g)).normalize(),r.rotateRight(),r.mulScalar(h),i=n&&!n.epsilonEqualsScalar(0,h/8)?o.measureMiter(n,g,h,e):r,a.moveToPosition(u-2),a.set(p),a.add(i),a.moveToNext(),a.set(p),a.subtract(i),a.moveToNext(),a.set(t),a.add(r),a.moveToNext(),a.set(t),a.subtract(r),a.moveToNext()},e.prototype.close=function(t){var e,n=this.vertices,i=n.position();if(!(i<6)){n.moveToPosition(i-4);var r=s.Point.midpoint(n.rget(),n.rget()),a=s.Point.midpoint(n.rget(),n.rget()),u=c.Vec2.fromPointToPoint(r,a);n.moveToFirst();var h=s.Point.midpoint(n.rget(),n.rget()),l=c.Vec2.fromPointToPoint(a,h),f=s.Point.midpoint(n.rget(),n.rget()),d=c.Vec2.fromPointToPoint(h,f);e=o.measureMiter(u,l,.5*t,1.5*t),n.moveToPosition(i-2),n.set(a),n.add(e),n.moveToNext(),n.set(a),n.subtract(e),n.moveToNext(),e=o.measureMiter(l,d,.5*t,1.5*t);var p=s.Point.create(h);p.add(e);var g=s.Point.create(h);g.subtract(e),n.rset(p),n.rset(g),n.aset(0,p),n.aset(1,g)}},e.prototype.draw=function(t){var e=this,n=e.fillColor,i=e.vertices,r=e.matrix,o=t.gl,s=t.ext,a=t.shapeProgram,c=i.capacity();t.attachProgram(a),a.setProjection(o,t.camera.matrix),a.setColor(o,n),a.setVertices(o,i),a.setMatrices(o,r),s.drawArraysInstancedANGLE(o.TRIANGLE_STRIP,0,c,1)},e.prototype.save=function(t,e){var n=this,i=this,r=i.zIndex,o=i.fillColor,s=i.vertices,a=i.matrix;t.strokes.add({zIndex:r,canvasId:e,fillColor:u.convertFromColorF(o),vertices:s.data.buffer,matrix:a.data.buffer}).then(function(t){return n.id=t})},e.prototype.delete=function(t){t.strokes.delete(this.id)},e.prototype.saveFillColor=function(t){t.strokes.update(this.id,{fillColor:u.convertFromColorF(this.fillColor)})},e.prototype.saveZindex=function(t){t.strokes.update(this.id,{zIndex:this.zIndex})},e.prototype.savePosition=function(t){t.strokes.update(this.id,{matrix:this.matrix.data.buffer})},e}(r.Graphic);n.Stroke=l},{"../database/conversion":47,"./shape":55,"gl2d/drawable/graphic":4,"gl2d/math/miter":8,"gl2d/struct/point":19,"gl2d/struct/rect":20,"gl2d/struct/vec2":22}],58:[function(t,e,n){"use strict";function i(t){k!==t&&(k===F&&F.onDetach(D),k=t)}function r(t){I.fillColor.val=t.toArgbString(),D.setFillColor(t)}function o(t){I.strokeColor.val=t.toArgbString(),D.setStrokeColor(t)}function s(){D.undoLastAction()&&F.onDetach(D)}function a(){D.redoLastUndo()&&F.onDetach(D)}function c(){D.resize(),D.onAnimationFrame(),requestAnimationFrame(c)}Object.defineProperty(n,"__esModule",{value:!0});var u=t("./tool/shapeAspect"),h=t("./rendering/surface"),l=t("./setter/color"),f=t("./setter/other"),d=t("./setter/cursor"),p=t("./setter/mesh"),g=t("./setter/tool"),v=t("./tool/line"),m=t("gl2d/tool/wheelZoom"),y=t("./tool/edit"),b=t("./tool/shape"),_=t("./tool/shapeLine"),w=t("./tool/shapeSpray"),x=t("./tool/shapeStroke"),T=t("./tool/stroke"),P=t("./tool/navigation"),C=t("gl2d/tool/pan"),E=t("gl2d/tool/pinchZoom"),S=t("./option/option"),A=t("jquery"),O=t("tether");window.jQuery=A,window.Tether=O,t("bootstrap");var k,I={tool:S.Option.str("tool","shape"),cursor:S.Option.str("cursor",null),mesh:S.Option.str("mesh","triangle"),fillColor:S.Option.str("fillColor","#ff274e13"),strokeColor:S.Option.str("strokeColor","#ff000000"),lineWidth:S.Option.num("line-width",50,0,100),zoomSpeed:S.Option.num("zoom-speed",50,1,100)},D=h.Surface.create(),M=new m.WheelZoomTool(1.5,5),j=new E.PinchZoomTool,L=new P.NavigationTool,R={shape:new b.ShapeTool,shapeAspect:new u.ShapeAspectTool,line:new v.LineTool,shapeSpray:new w.ShapeSprayTool,shapeLine:new _.ShapeLineTool,shapeStroke:new x.ShapeStrokeTool,stroke:new T.StrokeTool},N=new C.PanTool,F=new y.EditTool,B=l.ColorSetter.create("fill-color",I.fillColor.val,r),H=l.ColorSetter.create("stroke-color",I.strokeColor.val,o);p.MeshSetter.create(I.mesh.val,function(t){I.mesh.val=t,D.setMesh(t)});var W=g.ToolSetter.create(I.tool.val,function(t){I.tool.val=t,i(R[t])}),q=d.CursorSetter.create(I.cursor.val,function(t){switch(I.cursor.val=t,t){case"pan":return i(N);case"edit":return i(F);default:return i(R[I.tool.val])}});W.onMenuOpen=function(){q.disableCursor()},f.OtherSetter.create(I.lineWidth.val,I.zoomSpeed.val,function(t){I.lineWidth.val=t,D.setLineWidth(t/1e3)},function(t){I.zoomSpeed.val=t,M.scaleFactor=1+t/100}),A("#undo").click(s),A("#redo").click(a),D.onWheelEvent(function(t){M.onSurfaceEvent(t)}),D.onMouseEvent(function(t){switch(t.src.button){case 0:L.onSurfaceEvent(t),k.onSurfaceEvent(t);break;case 1:return N.onSurfaceEvent(t);case 2:return}}),D.onTouchEvent(function(t){t.pointers.length<2?(L.onSurfaceEvent(t),k.onSurfaceEvent(t)):j.onSurfaceEvent(t)}),c();var V;A(document).on("keydown",function(t){V=String.fromCharCode(t.which)}).on("keyup",function(t){if(V){if(t.metaKey||t.ctrlKey)switch(V){case"Z":s();break;case"Y":a()}else switch(V){case"R":B.setRandomColor();break;case"T":H.setRandomColor()}V=null}if(46===t.which){var e=D.renderer.selection.target;e&&(D.removeDrawable(e),F.onDetach(D),D.requestRender())}})},{"./option/option":59,"./rendering/surface":66,"./setter/color":67,"./setter/cursor":68,"./setter/mesh":69,"./setter/other":70,"./setter/tool":71,"./tool/edit":72,"./tool/line":73,"./tool/navigation":74,"./tool/shape":75,"./tool/shapeAspect":76,"./tool/shapeLine":77,"./tool/shapeSpray":78,"./tool/shapeStroke":79,"./tool/stroke":80,bootstrap:2,"gl2d/tool/pan":25,"gl2d/tool/pinchZoom":26,"gl2d/tool/wheelZoom":27,jquery:31,tether:34}],59:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){this.key=t,this.value=e}return t.get=function(t){return localStorage?localStorage.getItem(t):null},t.bool=function(e,n){var i,r=t.get(e);return i="true"===r||"false"!==r&&n,new t(e,i)},t.num=function(e,n,i,r){var o=parseInt(t.get(e));return(isNaN(o)||o<i||o>r)&&(o=n),new t(e,o)},t.str=function(e,n){var i=t.get(e);return new t(e,i||n)},Object.defineProperty(t.prototype,"val",{get:function(){return this.value},set:function(t){this.value=t,localStorage&&localStorage.setItem(this.key,t?t.toString():null)},enumerable:!0,configurable:!0}),t}();n.Option=i},{}],60:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("./program"),o=t("gl2d/drawable/mesh"),s=t("gl2d/rendering/util"),a=t("../../res/build/shader/ellipse"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mesh=o.Mesh.fromSpecification({id:"circle",vertices:[-1,1,-1,-1,1,-1,1,1]}),e}return i(e,t),e.create=function(t){var n=new e;return n.location=s.createProgramFromSources(t,a.vertex,a.fragment),n.uniforms=s.getUniformLocations(t,n.location,a.UniformRenaming),n.attribs=s.getAttributeLocations(t,n.location,a.AttributeRenaming),n.positionBuffer=s.createArrayBuffer(t,n.mesh.vertices.data),n.matrixBuffer=t.createBuffer(),n},e.prototype.onAttach=function(t){var e=t.gl,n=t.ext,i=this.attribs.model,r=i+1,o=this.attribs.offset;e.enable(e.BLEND),e.bindBuffer(e.ARRAY_BUFFER,this.positionBuffer),e.enableVertexAttribArray(this.attribs.position),e.vertexAttribPointer(this.attribs.position,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this.matrixBuffer),e.enableVertexAttribArray(i),e.enableVertexAttribArray(r),e.enableVertexAttribArray(o),n.vertexAttribDivisorANGLE(i,1),n.vertexAttribDivisorANGLE(r,1),n.vertexAttribDivisorANGLE(o,1)},e.prototype.onDetach=function(t){var e=t.ext,n=this.attribs.model,i=n+1,r=this.attribs.offset;e.vertexAttribDivisorANGLE(n,0),e.vertexAttribDivisorANGLE(i,0),e.vertexAttribDivisorANGLE(r,0)},e.prototype.setProjection=function(t,e){t.uniformMatrix4fv(this.uniforms.projection,!1,e.data)},e.prototype.setMatrices=function(t,e){var n=this.attribs.model,i=n+1,r=this.attribs.offset;t.bufferData(t.ARRAY_BUFFER,e.data,t.DYNAMIC_DRAW),t.vertexAttribPointer(n,2,t.FLOAT,!1,24,0),t.vertexAttribPointer(i,2,t.FLOAT,!1,24,8),t.vertexAttribPointer(r,2,t.FLOAT,!1,24,16)},e.prototype.setFillColor=function(t,e){t.uniform4fv(this.uniforms.fillColor,e.data)},e.prototype.setStrokeColor=function(t,e){t.uniform4fv(this.uniforms.strokeColor,e.data)},e.prototype.setLineWidth=function(t,e){t.uniform1f(this.uniforms.lineWidth,e)},e}(r.Program);n.EllipseProgram=c},{"../../res/build/shader/ellipse":36,"./program":63,"gl2d/drawable/mesh":5,"gl2d/rendering/util":13}],61:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("./program"),o=t("../../res/build/shader/frame"),s=t("gl2d/rendering/util"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.create=function(t){var n=new e;return n.location=s.createProgramFromSources(t,o.vertex,o.fragment),n.uniforms=s.getUniformLocations(t,n.location,o.UniformRenaming),n.attribs=s.getAttributeLocations(t,n.location,o.AttributeRenaming),n.positionBuffer=s.createArrayBuffer(t,new Float32Array([0,1,0,0,1,0,1,1])),n},e.prototype.onAttach=function(t){var e=t.gl;e.enable(e.BLEND),e.bindBuffer(e.ARRAY_BUFFER,this.positionBuffer),e.enableVertexAttribArray(this.attribs.basisCoord),e.vertexAttribPointer(this.attribs.basisCoord,2,e.FLOAT,!1,0,0)},e.prototype.onDetach=function(t){},e.prototype.setProjection=function(t,e){t.uniformMatrix4fv(this.uniforms.projection,!1,e.data)},e.prototype.setColor=function(t,e){t.uniform4fv(this.uniforms.color,e.data)},e.prototype.setInnerRect=function(t,e){t.uniform4fv(this.uniforms.innerRect,e.data)},e.prototype.setThickness=function(t,e){t.uniform1f(this.uniforms.thickness,e)},e.prototype.draw=function(t){t.drawArrays(t.TRIANGLE_FAN,0,4)},e}(r.Program);n.FrameProgram=a},{"../../res/build/shader/frame":37,"./program":63,"gl2d/rendering/util":13}],62:[function(t,e,n){"use strict";function i(t,e){for(var n=0,i=0,r=e;i<r.length;i++)n+=(l=r[i]).vertices.data.byteLength,n+=l.miters.data.byteLength;for(var o,s=u.createArrayBuffer(t,n,t.STATIC_DRAW),a=0,c=0,h=e;c<h.length;c++){var l=h[c];l.miterBufferOffset=a,a+=l.vertices.data.byteLength,o=l.miters.data,t.bufferSubData(t.ARRAY_BUFFER,a,o),a+=o.byteLength}return s}function r(t,e){for(var n=0,i=0,r=e;i<r.length;i++)n+=(f=r[i]).vertices.data.byteLength,n+=f.miters.data.byteLength;for(var o=u.createArrayBuffer(t,n,t.STATIC_DRAW),s=0,h=0,l=e;h<l.length;h++){var f=l[h],d=f.vertices.data;if(t.bufferSubData(t.ARRAY_BUFFER,s,d),f.strokeVertexBufferOffset=s,s+=d.byteLength,f instanceof c.MultiPolygonMesh){for(var p=a.VertexBuffer.create(f.miters.capacity()),g=0,v=f.polygonIndices;g<v.length;g++)for(var m=0,y=v[g];m<y.length;m++){var b=y[m];f.vertices.moveToPosition(b),p.rset(f.vertices)}d=p.data}t.bufferSubData(t.ARRAY_BUFFER,s,d),s+=d.byteLength}return o}function o(t,e){for(var n=0,i=0,r=e;i<r.length;i++){if((p=r[i])instanceof c.MultiPolygonMesh){p.strokeElementCount=2*(p.polygonIndices.length-1);for(var o=0,s=p.polygonIndices;o<s.length;o++){var a=s[o];p.strokeElementCount+=2*(a.length+1)}}else p.strokeElementCount=2*(p.vertices.capacity()+1);n+=p.strokeElementCount}for(var h=new Uint16Array(n),l=0,f=0,d=e;f<d.length;f++){var p=d[f];p.strokeElementBufferOffset=2*l;var g=p.vertices.capacity();if(p instanceof c.MultiPolygonMesh)for(var v=p.polygonIndices,m=0;m<v.length;m++){for(var y=v[m],b=g,_=0,w=y;_<w.length;_++){var x=w[_];h[l++]=g++,h[l++]=x}h[l++]=b,h[l++]=y[0],v[m+1]&&(h[l++]=y[0],h[l++]=g)}else{for(m=0;m<g;m++)h[l++]=m+g,h[l++]=m;h[l++]=g,h[l++]=0}}return u.createElementBuffer(t,h,t.STATIC_DRAW)}var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("gl2d/struct/vertex"),c=t("gl2d/drawable/mesh"),u=t("gl2d/rendering/util"),h=t("../../res/build/shader/outline"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.create=function(t,n){n=n.filter(function(t){return t.miters});var s=new e;return s.location=u.createProgramFromSources(t,h.vertex,h.fragment),s.uniforms=u.getUniformLocations(t,s.location,h.UniformRenaming),s.attribs=u.getAttributeLocations(t,s.location,h.AttributeRenaming),s.elementBuffer=o(t,n),s.positionBuffer=r(t,n),s.miterBuffer=i(t,n),s.matrixBuffer=t.createBuffer(),s.dynamicBuffer=t.createBuffer(),s},e.prototype.onAttach=function(e){t.prototype.onAttach.call(this,e),e.gl.enableVertexAttribArray(this.attribs.miter)},e.prototype.setVertices=function(t,e){t.bindBuffer(t.ARRAY_BUFFER,this.positionBuffer),t.vertexAttribPointer(this.attribs.position,2,t.FLOAT,!1,0,e.strokeVertexBufferOffset)},e.prototype.setMiters=function(t,e){t.bindBuffer(t.ARRAY_BUFFER,this.miterBuffer),t.vertexAttribPointer(this.attribs.miter,2,t.FLOAT,!1,0,e.miterBufferOffset)},e.prototype.setLineWidth=function(t,e){t.uniform1f(this.uniforms.lineWidth,e)},e}(t("./shape").ShapeProgram);n.OutlineProgram=l},{"../../res/build/shader/outline":38,"./shape":64,"gl2d/drawable/mesh":5,"gl2d/rendering/util":13,"gl2d/struct/vertex":23}],63:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t("gl2d/rendering/program").Program);n.Program=r},{"gl2d/rendering/program":10}],64:[function(t,e,n){"use strict";function i(t){return!!t.vertices}function r(t,e){for(var n=0,i=0,r=e;i<r.length;i++)n+=(h=r[i]).vertices.data.byteLength;for(var o=c.createArrayBuffer(t,n,t.STATIC_DRAW),s=0,a=0,u=e;a<u.length;a++){var h=u[a],l=h.vertices.data;t.bufferSubData(t.ARRAY_BUFFER,s,l),h.vertexBufferOffset=s,s+=l.byteLength}return o}function o(t,e){for(var n=0,i=0,r=e;i<r.length;i++)n+=(h=r[i]).triangleIndices.data.byteLength;for(var o=c.createElementBuffer(t,n,t.STATIC_DRAW),s=0,a=0,u=e;a<u.length;a++){var h=u[a],l=h.triangleIndices.data;t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,s,l),h.elementBufferOffset=s,s+=l.byteLength}return o}var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=t("./program"),c=t("gl2d/rendering/util"),u=t("../../res/build/shader/shape"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.create=function(t,n){var i=new e;return i.location=c.createProgramFromSources(t,u.vertex,u.fragment),i.uniforms=c.getUniformLocations(t,i.location,u.UniformRenaming),i.attribs=c.getAttributeLocations(t,i.location,u.AttributeRenaming),i.elementBuffer=o(t,n),i.positionBuffer=r(t,n),i.matrixBuffer=t.createBuffer(),i.dynamicBuffer=t.createBuffer(),i},e.prototype.onAttach=function(t){var e=t.gl,n=t.ext,i=this.attribs.model,r=i+1,o=this.attribs.offset;e.enable(e.BLEND),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.elementBuffer),e.enableVertexAttribArray(this.attribs.position),e.enableVertexAttribArray(i),e.enableVertexAttribArray(r),e.enableVertexAttribArray(o),n.vertexAttribDivisorANGLE(i,1),n.vertexAttribDivisorANGLE(r,1),n.vertexAttribDivisorANGLE(o,1)},e.prototype.onDetach=function(t){var e=t.ext,n=this.attribs.model,i=n+1,r=this.attribs.offset;e.vertexAttribDivisorANGLE(n,0),e.vertexAttribDivisorANGLE(i,0),e.vertexAttribDivisorANGLE(r,0)},e.prototype.setProjection=function(t,e){t.uniformMatrix4fv(this.uniforms.projection,!1,e.data)},e.prototype.setColor=function(t,e){t.uniform4fv(this.uniforms.color,e.data)},e.prototype.setVertices=function(t,e){i(e)?(t.bindBuffer(t.ARRAY_BUFFER,this.positionBuffer),t.vertexAttribPointer(this.attribs.position,2,t.FLOAT,!1,0,e.vertexBufferOffset)):(t.bindBuffer(t.ARRAY_BUFFER,this.dynamicBuffer),t.bufferData(t.ARRAY_BUFFER,e.data,t.DYNAMIC_DRAW),t.vertexAttribPointer(this.attribs.position,2,t.FLOAT,!1,0,0))},e.prototype.setMatrices=function(t,e){var n=this.attribs.model,i=n+1,r=this.attribs.offset;t.bindBuffer(t.ARRAY_BUFFER,this.matrixBuffer),t.bufferData(t.ARRAY_BUFFER,e.data,t.DYNAMIC_DRAW),t.vertexAttribPointer(n,2,t.FLOAT,!1,24,0),t.vertexAttribPointer(i,2,t.FLOAT,!1,24,8),t.vertexAttribPointer(r,2,t.FLOAT,!1,24,16)},e}(a.Program);n.ShapeProgram=h},{"../../res/build/shader/shape":39,"./program":63,"gl2d/rendering/util":13}],65:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("gl2d/drawable/mesh"),o=t("gl2d/rendering/renderer"),s=t("gl2d/struct/colorf"),a=t("gl2d/struct/mat2d"),c=t("gl2d/struct/rect"),u=t("../../res/build/mesh/specifications"),h=t("../drawable/frame"),l=t("../drawable/framed"),f=t("../drawable/selection"),d=t("../drawable/shape"),p=t("../program/ellipse"),g=t("../program/frame"),v=t("../program/outline"),m=t("../program/shape"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.drawables=[],e}return i(e,t),e.prototype.onSurfaceCreated=function(){var t=this.gl;t.clearColor(1,1,1,1),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),this.meshes=u.MeshSpecifications.map(function(t){return r.Mesh.fromSpecification(t)}),this.shapeProgram=m.ShapeProgram.create(t,this.meshes),this.shapeOutlineProgram=v.OutlineProgram.create(t,this.meshes),this.ellipseProgram=p.EllipseProgram.create(t),this.meshes.push(this.ellipseProgram.mesh),this.frameProgram=g.FrameProgram.create(t),this.foreground=new h.Frame(s.ColorFStruct.create$(.6,.6,.6,1),10,this.camera.target);var e=s.ColorFStruct.create$(0,.2,.9,.9),n=s.ColorFStruct.create$(0,.3,1,.6),i=s.ColorFStruct.create$(1,0,0,.9),o=this.ellipseProgram.mesh;this.selection=f.Selection.create(e,.08,o,i,.05),this.selectionHover=new l.FramedDrawable(new h.Frame(n,.08));var y=s.ColorFStruct.create$(0,0,0,1),b=this.meshes.find(function(t){return"arrow"===t.id}),_=this.meshes.find(function(t){return"x"===t.id});this.navigateLeft=new d.Shape({mesh:b,fillColor:y,strokeColor:s.ColorFStruct.create$(0,0,0,.5),lineWidth:.025,matrix:a.Mat2dStruct.rotate(-Math.PI/2)}),this.navigateRight=new d.Shape({mesh:b,fillColor:y,strokeColor:s.ColorFStruct.create$(0,0,0,.5),lineWidth:.025,matrix:a.Mat2dStruct.rotate(Math.PI/2)}),this.addCanvas=new d.Shape({mesh:_,fillColor:y,strokeColor:s.ColorFStruct.create$(0,0,0,.5),lineWidth:.025,matrix:a.Mat2dStruct.rotate(Math.PI/4)}),this.removeCanvas=new d.Shape({mesh:_,fillColor:y,strokeColor:s.ColorFStruct.create$(0,0,0,.5),lineWidth:.025});var w=c.Rect.lrbt(-1.75,-1.25,-1,1),x=c.Rect.lrbt(1.25,1.75,-1,1),T=c.Rect.lrbt(-1,1,-1.75,-1.25),P=c.Rect.lrbt(-1,1,1.25,1.75);this.navigateLeft.mapToRect(w,0,!0),this.navigateRight.mapToRect(x,0,!0),this.addCanvas.mapToRect(P,0,!0),this.removeCanvas.mapToRect(T,0,!1)},e.prototype.onDrawFrame=function(){var t=this.gl;t.clear(t.COLOR_BUFFER_BIT);for(var e=0,n=this.drawables;e<n.length;e++)n[e].draw(this);this.temp&&this.temp.draw(this),this.foreground.draw(this),this.navigateLeft.draw(this),this.navigateRight.draw(this),this.addCanvas.draw(this),this.removeCanvas.draw(this),this.selection.target&&this.selection.draw(this),this.selectionHover.target&&this.selectionHover.draw(this),t.colorMask(!1,!1,!1,!0),t.clear(t.COLOR_BUFFER_BIT),t.colorMask(!0,!0,!0,!0)},e}(o.Renderer);n.Renderer=y},{"../../res/build/mesh/specifications":35,"../drawable/frame":51,"../drawable/framed":52,"../drawable/selection":54,"../drawable/shape":55,"../program/ellipse":60,"../program/frame":61,"../program/outline":62,"../program/shape":64,"gl2d/drawable/mesh":5,"gl2d/rendering/renderer":11,"gl2d/struct/colorf":15,"gl2d/struct/mat2d":17,"gl2d/struct/rect":20}],66:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("../action/setFillColor"),o=t("../action/addDrawable"),s=t("../action/stack"),a=t("../action/removeDrawable"),c=t("../action/transformDrawable"),u=t("../database/database"),h=t("../drawable/ellipse"),l=t("../drawable/ellipseBatch"),f=t("../drawable/line"),d=t("../drawable/shape"),p=t("../drawable/shapeBatch"),g=t("../drawable/stroke"),v=t("./renderer"),m=t("gl2d/rendering/camera"),y=t("gl2d/rendering/surface"),b=t("gl2d/struct/color"),_=t("gl2d/struct/colorf"),w=t("gl2d/struct/mat2d"),x=t("gl2d/struct/rect"),T=t("gl2d/struct/vertex"),P=t("lodash.lastindexof"),C=t("../option/option"),E=t("../database/conversion"),S=t("../action/setStrokeColor"),A=t("../action/setLineWidth"),O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fillColor=new _.ColorFStruct,e.strokeColor=new _.ColorFStruct,e.zIndex=1,e.actionStack=new s.ActionStack,e.database=new u.Database,e.canvasId=C.Option.num("canvasId",1,1,4294967295),e.buffer=new Float32Array(25e3),e}return i(e,t),e.create=function(){var t=document.getElementById("canvas"),n=t.getContext("webgl",{alpha:!1}),i=new m.Camera(x.RectStruct.create$(-1,1,1,-1),.5,1e3),r=new v.Renderer(n,i);r.ext=n.getExtension("ANGLE_instanced_arrays");var o=new e(t,r),s=o.canvasId.val,a=o.database;return a.getCanvas(s).then(function(t){t?o.importCanvas(t.id):a.createCanvas().then(function(t){o.canvasId.val=t})}),o},e.prototype.importCanvas=function(t){var e=this;this.canvasId.val=t;var n=this.database;this.clear(),n.types.toArray().then(function(i){n.transaction("rw",n.types,n.shapes,n.shapeBatches,n.strokes,n.canvases,function(){n.shapes.where("canvasId").equals(t).each(function(t){var n=i.find(function(e){return e.id===t.typeId}),r={mesh:e.getMesh(n.name),fillColor:E.convertToColorF(t.fillColor),strokeColor:E.convertToColorF(t.strokeColor),lineWidth:t.lineWidth,matrix:E.convertToMat2d(t.matrix),zIndex:t.zIndex,id:t.id},o="circle"===n.name?new h.Ellipse(r):new d.Shape(r);e.addDrawableToSortedStack(o),e.requestRender()}),n.shapeBatches.where("canvasId").equals(t).each(function(t){var n=i.find(function(e){return e.id===t.typeId}),r={mesh:e.getMesh(n.name),fillColor:E.convertToColorF(t.fillColor),matrices:E.convertToMat2dBuffer(t.matrices),zIndex:t.zIndex,id:t.id},o="circle"===n.name?new l.EllipseBatch(r):new p.ShapeBatch(r);e.addDrawableToSortedStack(o),e.requestRender()}),n.strokes.where("canvasId").equals(t).each(function(t){var n=new g.Stroke({fillColor:E.convertToColorF(t.fillColor),matrix:E.convertToMat2d(t.matrix),vertices:E.convertToVertexBuffer(t.vertices),zIndex:t.zIndex,id:t.id});e.addDrawableToSortedStack(n),e.requestRender()}),n.canvases.update(t,{lastAccessTime:Date.now()})}).then(function(){var t=e.renderer.drawables;t.length>0&&(e.zIndex=t[t.length-1].zIndex)})})},e.prototype.importCanvasOnLeft=function(){var t=this,e=this,n=e.canvasId;return e.database.canvases.where("id").below(n.val).last().then(function(e){return e&&t.importCanvas(e.id),e})},e.prototype.importCanvasOnRight=function(){var t=this,e=this,n=e.canvasId;return e.database.canvases.where("id").above(n.val).first().then(function(e){return e&&t.importCanvas(e.id),e})},e.prototype.addCanvas=function(){var t=this,e=this,n=e.canvasId;e.database.createCanvas().then(function(e){n.val=e,t.clear(),t.requestRender()})},e.prototype.removeCanvas=function(){var t=this;this.clear();var e=this,n=e.canvasId;e.database.removeCanvas(n.val).then(function(){t.importCanvasOnLeft().then(function(e){e||t.importCanvasOnRight().then(function(e){e||t.addCanvas()})})})},e.prototype.clear=function(){this.renderer.drawables.length=0,this.actionStack.clear()},e.prototype.addDrawableToSortedStack=function(t){for(var e=this.renderer.drawables,n=e.length;--n>=0&&!(t.zIndex>e[n].zIndex););e.splice(n+1,0,t)},e.prototype.getDrawableContaining=function(t){for(var e=this.renderer.drawables,n=e.length-1;n>=0;n--){var i=e[n];if(i.contains(t))return i}return null},e.prototype.getTempLine=function(){var t=this.renderer,e=t.temp;return e||(t.temp=e=new f.Line({mesh:this.getMesh("square"),fillColor:this.copyFillColor(),zIndex:this.zIndex})),e},e.prototype.getTempShape=function(){var t=this.renderer,e=t.temp;if(!e){var n=this,i=n.mesh,r=n.zIndex,o=n.lineWidth,s={mesh:i,fillColor:this.copyFillColor(),strokeColor:this.copyStrokeColor(),zIndex:r,lineWidth:o};t.temp=e="circle"===this.mesh.id?new h.Ellipse(s):new d.Shape(s)}return e},e.prototype.getTempShapeBatch=function(){var t=this.renderer,e=t.temp;if(!e){var n=new w.Mat2dBuffer(this.buffer);n.capacity=n.position;var i={mesh:this.mesh,fillColor:this.copyFillColor(),matrices:n,zIndex:this.zIndex};t.temp=e="circle"===this.mesh.id?new l.EllipseBatch(i):new p.ShapeBatch(i)}return e},e.prototype.getTempStroke=function(){var t=this,e=t.renderer,n=t.buffer,i=e.temp;if(!i){var r=new T.VertexBuffer(n);r.capacity=r.position,e.temp=i=new g.Stroke({fillColor:this.copyFillColor(),vertices:r,zIndex:this.zIndex})}return i},e.prototype.getMesh=function(t){return this.renderer.meshes.find(function(e){return e.id===t})},e.prototype.setMesh=function(t){this.mesh=this.getMesh(t)},e.prototype.copyFillColor=function(){return _.ColorFStruct.create(this.fillColor)},e.prototype.copyStrokeColor=function(){return _.ColorFStruct.create(this.strokeColor)},e.prototype.setFillColor=function(t){var e=this,n=e.fillColor,i=e.renderer.selection.target;if(n.setFromColor(t),i){var o=b.ColorStruct.create(t),s=b.ColorStruct.create(t),a=new r.SetFillColorAction(i,o,s);this.actionStack.push(a),a.redo(this),this.requestRender()}},e.prototype.setStrokeColor=function(t){var e=this,n=e.strokeColor,i=e.renderer.selection.target;if(n.setFromColor(t),i&&i.saveStrokeColor){var r=b.ColorStruct.create(t),o=b.ColorStruct.create(t),s=new S.SetStrokeColorAction(i,r,o);this.actionStack.push(s),s.redo(this),this.requestRender()}},e.prototype.setLineWidth=function(t){this.lineWidth=t;var e=this.renderer.selection.target;if(e&&e.saveLineWidth){var n=new A.SetLineWidthAction(e,e.lineWidth,t);this.actionStack.push(n),n.redo(this),this.requestRender()}},e.prototype.addTempDrawable=function(){var t=this,e=t.renderer,n=t.actionStack,i=e.temp,r=e.drawables,s=e.camera;if(i&&s.target.intersects(i.measureBoundaries())){var a=r.length,c=new o.AddDrawableAction(i,a);c.redo(this),n.push(c),this.zIndex++}e.temp=null},e.prototype.addTempShapeBatch=function(){var t=this.renderer,e=t.temp;if(e){var n=e.matrices,i=n.position();i>0?(n.moveToFirst(),e.matrices=w.Mat2dBuffer.create(i),e.matrices.rsetFromBuffer(n,i),this.addTempDrawable()):t.temp=null}},e.prototype.addTempStroke=function(){var t=this.renderer,e=t.temp;if(e){var n=e.vertices,i=n.position();i>3?(n.moveToFirst(),e.vertices=T.VertexBuffer.create(i),e.vertices.rsetFromBuffer(n,i),this.addTempDrawable()):t.temp=null}},e.prototype.transformDrawable=function(t,e){if(t&&e&&!e.isIdentity()){var n=new c.TransformDrawableAction(t,e);this.actionStack.push(n),t.savePosition(this.database)}},e.prototype.removeDrawable=function(t){var e=this,n=e.renderer,i=e.actionStack,r=P(n.drawables,t),o=new a.RemoveDrawableAction(t,r);o.redo(this),i.push(o)},e.prototype.undoLastAction=function(){var t=this,e=t.renderer,n=t.actionStack,i=e.drawables,r=n.pop();if(!r&&i.length>0){var s=i.length-1;r=new o.AddDrawableAction(i[s],s)}return r&&(r.undo(this),n.redos.push(r)),r},e.prototype.redoLastUndo=function(){var t,e=this.actionStack,n=e.undos,i=e.redos;return i.length>0&&(t=i.pop()),t&&(t.redo(this),n.push(t)),t},e.prototype.zoomIn=function(e){var n=t.prototype.zoomIn.call(this,e);return this.scaleFramesAndControlPoints(1/n),n},e.prototype.zoomOut=function(e){var n=t.prototype.zoomOut.call(this,e);return this.scaleFramesAndControlPoints(1/n),n},e.prototype.zoomToPoint=function(e,n){var i=t.prototype.zoomToPoint.call(this,e,n);return this.scaleFramesAndControlPoints(1/i.scaleFactor),i},e.prototype.scaleFramesAndControlPoints=function(t){this.renderer.selectionHover.frame.thickness*=t,this.renderer.selection.frame.thickness*=t,this.renderer.selection.pivot.stretch(t),this.renderer.selection.control.stretch(t)},e}(y.Surface);n.Surface=O},{"../action/addDrawable":40,"../action/removeDrawable":41,"../action/setFillColor":42,"../action/setLineWidth":43,"../action/setStrokeColor":44,"../action/stack":45,"../action/transformDrawable":46,"../database/conversion":47,"../database/database":48,"../drawable/ellipse":49,"../drawable/ellipseBatch":50,"../drawable/line":53,"../drawable/shape":55,"../drawable/shapeBatch":56,"../drawable/stroke":57,"../option/option":59,"./renderer":65,"gl2d/rendering/camera":9,"gl2d/rendering/surface":12,"gl2d/struct/color":14,"gl2d/struct/colorf":15,"gl2d/struct/mat2d":17,"gl2d/struct/rect":20,"gl2d/struct/vertex":23,"lodash.lastindexof":32}],67:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("gl2d/struct/color"),r=t("jquery");t("spectrum-colorpicker");var o=function(){function t(t,e,n){this.input=t,this.onColorSet=e,this.alpha=n,this.unconfirmedAlpha=n}return t.create=function(e,n,o){var s=r("#"+e),a=i.Color.fromArgbString(n),c=new t(s,o,a.a/255);return s.spectrum({color:n,flat:!1,showInput:!1,showInitial:!1,allowEmpty:!1,showAlpha:!0,disabled:!1,showPalette:!0,showPaletteOnly:!0,togglePaletteOnly:!0,showSelectionPalette:!1,clickoutFiresChange:!0,hideAfterPaletteSelect:!0,preferredFormat:"rgb",palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]],change:function(t){if(t){c.confirmAlpha(),t.setAlpha(c.alpha);var e=t.toHex8String(),n=i.Color.fromArgbString(e);c.setColor(n)}},hide:function(t){c.denyAlpha()}}),s.on("dragstop.spectrum",function(t,e){c.unconfirmedAlpha=e.getAlpha()}),o(a),c},t.prototype.confirmAlpha=function(){this.alpha=this.unconfirmedAlpha},t.prototype.denyAlpha=function(){this.unconfirmedAlpha=this.alpha},t.prototype.setRandomColor=function(){var t=i.Color.random();t.a=255*this.alpha|0,this.setColor(t)},t.prototype.setColor=function(t){var e=this,n=e.input,i=e.onColorSet;n.spectrum("set",t.toArgbString()),i(t)},t}();n.ColorSetter=o},{"gl2d/struct/color":14,jquery:31,"spectrum-colorpicker":33}],68:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("jquery"),r=function(){function t(t,e){this.cursor=t,this.onCursorSet=e}return t.create=function(e,n){var r=new t(e,n);return i("#cursor-settings > button").click(function(){var t=i(this).attr("id");r.toggleCursor(t)}),r.toggleCursor(e),r},t.prototype.disableCursor=function(){var t=this.cursor;t&&(i("#"+t).children("i").addClass("md-inactive"),this.cursor=null),this.onCursorSet(null)},t.prototype.toggleCursor=function(t){var e=this.cursor;if(e&&t!==e&&i("#"+e).children("i").addClass("md-inactive"),t){var n=i("#"+t).children("i");n.toggleClass("md-inactive"),n.hasClass("md-inactive")&&(t=null)}this.cursor=t,this.onCursorSet(t)},t}();n.CursorSetter=r},{jquery:31}],69:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("jquery"),r=function(){function t(t,e){this.mesh=t,this.onMeshSet=e}return t.create=function(e,n){var r=new t(e,n);return i("#mesh-settings > a").click(function(){var t=i(this).attr("id");r.setMesh(t)}),r.setMesh(e),r},t.prototype.setMesh=function(t){var e=i("#mesh-button > i"),n=this.mesh;n&&e.removeClass("icon-"+n),e.addClass("icon-"+t),this.mesh=t,this.onMeshSet(t)},t}();n.MeshSetter=r},{jquery:31}],70:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("bootstrap-slider"),r=function(){function t(t,e){this.onLineWidthSet=t,this.onZoomSpeedSet=e}return t.create=function(e,n,r,o){var s=new t(r,o),a=new i("input[name=line-width]",{min:0,max:100,step:1,value:e,tooltip:"show"});a.on("slideStop",function(){var t=a.getValue();s.onLineWidthSet(t)});var c=new i("input[name=zoom-speed]",{min:1,max:100,step:1,value:n,tooltip:"show"});return c.on("slideStop",function(){var t=c.getValue();s.onZoomSpeedSet(t)}),r(e),o(n),s},t}();n.OtherSetter=r},{"bootstrap-slider":1}],71:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("jquery"),r=function(){function t(t,e,n){this.tool=t,this.onToolSet=e,this.onMenuOpen=n}return t.create=function(e,n,r){var o=new t(e,n,r);return i("#tool-button").click(function(){o.onMenuOpen&&o.onMenuOpen()}),i("#tool-settings > a").click(function(){var t=i(this).attr("id");o.setTool(t)}),o.setTool(e),o},t.prototype.setTool=function(t){var e=i("#tool-button > i"),n=this.tool;n&&e.remove("icon-"+n),e.addClass("icon-"+t),this.tool=t,this.onToolSet(t)},t}();n.ToolSetter=r},{jquery:31}],72:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("gl2d/struct/mat2d"),o=t("gl2d/struct/vec2"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragCount=0,e.reselected=!1,e}return i(e,t),e.prototype.onSurfaceEvent=function(t){var e=this.getPrimaryPointer(t);switch(t.status){case 1:return void this.onMove(t,e);case 0:this.dragCount=0,this.onStart(t,e);break;case 2:this.dragCount++,this.onDrag(t,e);break;case 4:this.onEnd(t,e)}this.previous=e},e.prototype.onMove=function(t,e){var n=t.target,i=n.renderer,r=i.selection,o=i.selectionHover;if(!r.contains(e)){var s=n.getDrawableContaining(e);s!==o.target&&(o.setTarget(s),n.requestRender())}},e.prototype.onStart=function(t,e){var n=t.target,i=n.renderer,o=i.selection,s=i.selectionHover;this.reselected=o.contains(e),this.reselected?this.transform=this.getTransformType(e,o):s.contains(e)?(o.setTarget(s.target),s.setTarget(null),this.transform=1):(o.setTarget(n.getDrawableContaining(e)),this.transform=o.target?1:0),0!==this.transform&&(this.matrix=r.Mat2d.identity()),n.requestRender()},e.prototype.onDrag=function(t,e){if(this.matrix){var n=t.target,i=n.renderer.selection,s=this.matrix;switch(this.transform){case 1:var a=o.Vec2.fromPointToPoint(this.previous,e);i.offset(a),s.postTranslate(a);break;case 3:var c=r.Mat2d.scaleToPoint(this.previous,e,this.pivot);i.scale(c),s.postConcat(c);break;case 2:var u=r.Mat2d.stretchRotateToPoint(this.control.measureCenter(),e,this.pivot);i.transform(u),s.postConcat(u)}n.requestRender()}},e.prototype.onEnd=function(t,e){var n=t.target,i=n.renderer.selection;n.transformDrawable(i.target,this.matrix),this.matrix=null,this.reselected&&this.dragCount<5&&i.contains(e)&&this.onDetach(n)},e.prototype.onDetach=function(t){var e=t.renderer,n=e.selection,i=e.selectionHover;n.setTarget(null),i.setTarget(null),this.transform=0,this.reselected=!1,this.dragCount=0,this.previous=null,this.control=null,this.pivot=null,this.matrix=null,t.requestRender()},e.prototype.getTransformType=function(t,e){var n=e.pivot,i=e.control,r=e.frame;return e.target&&e.contains(t)?n.contains(t)?(this.control=n,this.pivot=i.measureCenter(),2):i.contains(t)?(this.control=i,this.pivot=n.measureCenter(),2):r.innerRect.contains(t)?(this.pivot=null,1):(this.pivot=r.getVertexOpposite(t),3):0},e}(t("gl2d/tool/mouseOrTouch").MouseOrTouchTool);n.EditTool=s},{"gl2d/struct/mat2d":17,"gl2d/struct/vec2":22,"gl2d/tool/mouseOrTouch":24}],73:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onSurfaceEvent=function(t){switch(t.status){case 0:return this.onStart(t);case 2:return this.onDrag(t);case 4:return this.onEnd(t)}},e.prototype.onStart=function(t){this.start=this.getPrimaryPointer(t)},e.prototype.onDrag=function(t){if(this.start){var e=t.target,n=e.getTempLine(),i=this.start,r=this.getPrimaryPointer(t);n.setFromPointToPoint(i,r,e.lineWidth),e.requestRender()}},e.prototype.onEnd=function(t){this.start=null;var e=t.target;e.addTempDrawable(),e.requestRender()},e}(t("gl2d/tool/mouseOrTouch").MouseOrTouchTool);n.LineTool=r},{"gl2d/tool/mouseOrTouch":24}],74:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onSurfaceEvent=function(t){switch(t.status){case 1:return this.onMove(t);case 0:return this.onStart(t);case 4:return this.onEnd(t)}},e.prototype.onMove=function(t){for(var e=t.target,n=e.renderer,i=n.navigateLeft,r=n.navigateRight,o=n.addCanvas,s=n.removeCanvas,a=this.getPrimaryPointer(t),c=0,u=[i,r,o,s];c<u.length;c++){var h=u[c];if(h.contains(a))return void(h!==this.previousButton&&(h.strokeColor.set$(0,.3,1,.6),this.resetHover(),this.previousButton=h,e.requestRender()))}this.resetHover(),e.requestRender()},e.prototype.onStart=function(t){this.onMove(t)},e.prototype.onEnd=function(t){if(this.previousButton){var e=t.target,n=e.renderer,i=n.navigateLeft,r=n.navigateRight,o=n.addCanvas,s=n.removeCanvas,a=this.getPrimaryPointer(t);i.contains(a)?e.importCanvasOnLeft():r.contains(a)?e.importCanvasOnRight():o.contains(a)?e.addCanvas():s.contains(a)&&e.removeCanvas(),this.resetHover()}},e.prototype.resetHover=function(){this.previousButton&&(this.previousButton.strokeColor.set$(0,0,0,.5),this.previousButton=null)},e}(t("gl2d/tool/mouseOrTouch").MouseOrTouchTool);n.NavigationTool=r},{"gl2d/tool/mouseOrTouch":24}],75:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=t("gl2d/struct/rect"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onSurfaceEvent=function(t){switch(t.status){case 0:return this.onStart(t);case 2:return this.onDrag(t);case 4:return this.onEnd(t)}},e.prototype.onStart=function(t){this.start=this.getPrimaryPointer(t)},e.prototype.onDrag=function(t){if(this.start){var e=t.target,n=e.getTempShape(),i=this.start,o=this.getPrimaryPointer(t),s=r.Rect.unionOfPoints([i,o]);n.mapToRect(s,2),e.requestRender()}},e.prototype.onEnd=function(t){this.start=null;var e=t.target;e.addTempDrawable(),e.requestRender()},e}(t("gl2d/tool/mouseOrTouch").MouseOrTouchTool);n.ShapeTool=o},{"gl2d/struct/rect":20,"gl2d/tool/mouseOrTouch":24}],76:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onDrag=function(t){if(this.start){var e=t.target,n=e.getTempShape(),i=this.start,r=this.getPrimaryPointer(t);n.stretchAcrossLine(i,r),e.requestRender()}},e}(t("./shape").ShapeTool);n.ShapeAspectTool=r},{"./shape":75}],77:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onSurfaceEvent=function(t){switch(t.status){case 0:return this.onStart(t);case 2:return this.onDrag(t);case 4:return this.onEnd(t)}},e.prototype.onStart=function(t){this.start=this.getPrimaryPointer(t)},e.prototype.onDrag=function(t){if(this.start){var e=t.target,n=this.start,i=this.getPrimaryPointer(t),r=e.getTempShapeBatch();r.matrices.moveToFirst(),r.addLine(n,i,e.lineWidth),e.requestRender()}},e.prototype.onEnd=function(t){this.start=null;var e=t.target;e.addTempShapeBatch(),e.requestRender()},e}(t("gl2d/tool/mouseOrTouch").MouseOrTouchTool);n.ShapeLineTool=r},{"gl2d/tool/mouseOrTouch":24}],78:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onSurfaceEvent=function(t){switch(t.status){case 2:return this.onDrag(t);case 4:return this.onEnd(t)}},e.prototype.onDrag=function(t){var e=t.target,n=e.getTempShapeBatch();if(n.matrices.hasValidPosition()){var i=this.getPrimaryPointer(t),r=e.lineWidth/2;n.add(i,r),e.requestRender()}},e.prototype.onEnd=function(t){var e=t.target;e.addTempShapeBatch(),e.requestRender()},e}(t("gl2d/tool/mouseOrTouch").MouseOrTouchTool);n.ShapeSprayTool=r},{"gl2d/tool/mouseOrTouch":24}],79:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onSurfaceEvent=function(t){switch(t.status){case 0:return this.onStart(t);case 2:return this.onDrag(t);case 4:return this.onEnd(t)}},e.prototype.onStart=function(t){this.previous=this.getPrimaryPointer(t)},e.prototype.onDrag=function(t){if(this.previous){var e=t.target,n=e.getTempShapeBatch(),i=e.lineWidth,r=this.getPrimaryPointer(t),o=this.previous;r.distance2(o)>i*i&&(this.previous=n.addLine(o,r,i),e.requestRender())}},e.prototype.onEnd=function(t){var e=t.target;e.addTempShapeBatch(),e.requestRender()},e}(t("gl2d/tool/mouseOrTouch").MouseOrTouchTool);n.ShapeStrokeTool=r},{"gl2d/tool/mouseOrTouch":24}],80:[function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onSurfaceEvent=function(t){switch(t.status){case 0:return this.onStart(t);case 2:return this.onDrag(t);case 4:return this.onEnd(t)}},e.prototype.onStart=function(t){var e=t.target,n=e.lineWidth,i=this.getPrimaryPointer(t);e.getTempStroke().moveTo(i,n),e.requestRender()},e.prototype.onDrag=function(t){var e=t.target,n=e.lineWidth,i=this.getPrimaryPointer(t),r=e.getTempStroke();r.vertices.hasValidPosition()&&(r.lineTo(i,n),e.requestRender())},e.prototype.onEnd=function(t){var e=t.target;e.addTempStroke(),e.requestRender()},e}(t("gl2d/tool/mouseOrTouch").MouseOrTouchTool);n.StrokeTool=r},{"gl2d/tool/mouseOrTouch":24}]},{},[58]);
