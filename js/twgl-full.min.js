"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};!function(r,e){"function"==typeof define&&define.amd&&define([],e),"undefined"!=typeof module&&module.exports?module.exports=e():r.twgl=e()}(void 0,function(){var r,e,t;return function(n){function i(r,e){return g.call(r,e)}function o(r,e){var t,n,i,o,a,u,f,s,c,l,m,p=e&&e.split("/"),d=E.map,h=d&&d["*"]||{};if(r&&"."===r.charAt(0))if(e){for(r=r.split("/"),a=r.length-1,E.nodeIdCompat&&b.test(r[a])&&(r[a]=r[a].replace(b,"")),r=p.slice(0,p.length-1).concat(r),c=0;c<r.length;c+=1)if(m=r[c],"."===m)r.splice(c,1),c-=1;else if(".."===m){if(1===c&&(".."===r[2]||".."===r[0]))break;c>0&&(r.splice(c-1,2),c-=2)}r=r.join("/")}else 0===r.indexOf("./")&&(r=r.substring(2));if((p||h)&&d){for(t=r.split("/"),c=t.length;c>0;c-=1){if(n=t.slice(0,c).join("/"),p)for(l=p.length;l>0;l-=1)if(i=d[p.slice(0,l).join("/")],i&&(i=i[n])){o=i,u=c;break}if(o)break;!f&&h&&h[n]&&(f=h[n],s=c)}!o&&f&&(o=f,u=s),o&&(t.splice(0,u,o),r=t.join("/"))}return r}function a(r,e){return function(){var t=T.call(arguments,0);return"string"!=typeof t[0]&&1===t.length&&t.push(null),p.apply(n,t.concat([r,e]))}}function u(r){return function(e){return o(e,r)}}function f(r){return function(e){v[r]=e}}function s(r){if(i(y,r)){var e=y[r];delete y[r],A[r]=!0,m.apply(n,e)}if(!i(v,r)&&!i(A,r))throw new Error("No "+r);return v[r]}function c(r){var e,t=r?r.indexOf("!"):-1;return t>-1&&(e=r.substring(0,t),r=r.substring(t+1,r.length)),[e,r]}function l(r){return function(){return E&&E.config&&E.config[r]||{}}}var m,p,d,h,v={},y={},E={},A={},g=Object.prototype.hasOwnProperty,T=[].slice,b=/\.js$/;d=function(r,e){var t,n=c(r),i=n[0];return r=n[1],i&&(i=o(i,e),t=s(i)),i?r=t&&t.normalize?t.normalize(r,u(e)):o(r,e):(r=o(r,e),n=c(r),i=n[0],r=n[1],i&&(t=s(i))),{f:i?i+"!"+r:r,n:r,pr:i,p:t}},h={notrequirebecasebrowserifymessesup:function(r){return a(r)},exports:function(r){var e=v[r];return"undefined"!=typeof e?e:v[r]={}},module:function(r){return{id:r,uri:"",exports:v[r],config:l(r)}}},m=function(r,e,t,o){var u,c,l,m,p,E,g=[],T="undefined"==typeof t?"undefined":_typeof(t);if(o=o||r,"undefined"===T||"function"===T){for(e=!e.length&&t.length?["notrequirebecasebrowserifymessesup","exports","module"]:e,p=0;p<e.length;p+=1)if(m=d(e[p],o),c=m.f,"notrequirebecasebrowserifymessesup"===c)g[p]=h.notrequirebecasebrowserifymessesup(r);else if("exports"===c)g[p]=h.exports(r),E=!0;else if("module"===c)u=g[p]=h.module(r);else if(i(v,c)||i(y,c)||i(A,c))g[p]=s(c);else{if(!m.p)throw new Error(r+" missing "+c);m.p.load(m.n,a(o,!0),f(c),{}),g[p]=v[c]}l=t?t.apply(v[r],g):void 0,r&&(u&&u.exports!==n&&u.exports!==v[r]?v[r]=u.exports:l===n&&E||(v[r]=l))}else r&&(v[r]=t)},r=e=p=function(r,e,t,i,o){if("string"==typeof r)return h[r]?h[r](e):s(d(r,e).f);if(!r.splice){if(E=r,E.deps&&p(E.deps,E.callback),!e)return;e.splice?(r=e,e=t,t=null):r=n}return e=e||function(){},"function"==typeof t&&(t=i,i=o),i?m(n,r,e,t):setTimeout(function(){m(n,r,e,t)},4),p},p.config=function(r){return p(r)},r._defined=v,t=function(r,e,t){if("string"!=typeof r)throw new Error("See almond README: incorrect module build, no module name");e.splice||(t=e,e=[]),i(v,r)||i(y,r)||(y[r]=[r,e,t])},t.amd={jQuery:!0}}(),t("node_modules/almond/almond.js",function(){}),t("twgl/typedarrays",[],function(){function r(r){if(r instanceof Int8Array)return n;if(r instanceof Uint8Array)return i;if(r instanceof Uint8ClampedArray)return i;if(r instanceof Int16Array)return o;if(r instanceof Uint16Array)return a;if(r instanceof Int32Array)return u;if(r instanceof Uint32Array)return f;if(r instanceof Float32Array)return s;throw"unsupported typed array type"}function e(r){switch(r){case n:return Int8Array;case i:return Uint8Array;case o:return Int16Array;case a:return Uint16Array;case u:return Int32Array;case f:return Uint32Array;case s:return Float32Array;default:throw"unknown gl type"}}function t(r){return r&&r.buffer&&r.buffer instanceof ArrayBuffer}var n=5120,i=5121,o=5122,a=5123,u=5124,f=5125,s=5126;return{getGLTypeForTypedArray:r,getTypedArrayTypeForGLType:e,isArrayBuffer:t}}),t("twgl/utils",[],function(){function r(r){var e={};return Object.keys(r).forEach(function(t){e[t]=r[t]}),e}function e(r,e,t){r.forEach(function(r){var n=e[r];void 0!==n&&(t[r]=n)})}function t(r,e){Object.keys(e).forEach(function(t){e.hasOwnProperty(t)&&r.hasOwnProperty(t)&&(e[t]=r[t])})}function n(r){return parseFloat(r.getParameter(r.VERSION).substr(6))}function i(r){return 0===r.getParameter(r.VERSION).indexOf("WebGL 2.0")}function o(r){var e=n(r);return 1>=e&&e>0}var a=window.console&&window.console.error&&"function"==typeof window.console.error?window.console.error.bind(window.console):function(){},u=window.console&&window.console.warn&&"function"==typeof window.console.warn?window.console.warn.bind(window.console):function(){};return{copyExistingProperties:t,copyNamedProperties:e,shallowCopy:r,isWebGL1:o,isWebGL2:i,error:a,warn:u}}),t("twgl/attributes",["./typedarrays","./utils"],function(r,e){function t(r){E.attribPrefix=r}function n(r){e.copyExistingProperties(r,E)}function i(r,e,t,n,i){r.bindBuffer(e,t),r.bufferData(e,n,i||r.STATIC_DRAW)}function o(r,e,t,n){if(e instanceof WebGLBuffer)return e;t=t||r.ARRAY_BUFFER;var o=r.createBuffer();return i(r,t,o,e,n),o}function a(r){return"indices"===r}function u(r){return r instanceof Int8Array?!0:r instanceof Uint8Array?!0:!1}function f(r){return r.length?r:r.data}function s(r,e){var t;if(t=A.test(r)?2:g.test(r)?4:3,e%t>0)throw"Can not guess numComponents for attribute '"+r+"'. Tried "+t+" but "+e+" values is not evenly divisible by "+t+". You should specify it.";return t}function c(r,e){return r.numComponents||r.size||s(e,f(r).length)}function l(e,t){if(r.isArrayBuffer(e))return e;if(r.isArrayBuffer(e.data))return e.data;Array.isArray(e)&&(e={data:e});var n=e.type;return n||(n=a(t)?Uint16Array:Float32Array),new n(e.data)}function m(e,t){var n={};return Object.keys(t).forEach(function(i){if(!a(i)){var f=t[i],s=f.attrib||f.name||f.attribName||E.attribPrefix+i,m=l(f,i);n[s]={buffer:o(e,m,void 0,f.drawType),numComponents:c(f,i),type:r.getGLTypeForTypedArray(m),normalize:void 0!==f.normalize?f.normalize:u(m),stride:f.stride||0,offset:f.offset||0,drawType:f.drawType}}}),n}function p(r,e,t,n){t=l(t),n?(r.bindBuffer(r.ARRAY_BUFFER,e.buffer),r.bufferSubData(r.ARRAY_BUFFER,n,t)):i(r,r.ARRAY_BUFFER,e.buffer,t,e.drawType)}function d(e,t){var n={attribs:m(e,t)},i=t.indices;return i?(i=l(i,"indices"),n.indices=o(e,i,e.ELEMENT_ARRAY_BUFFER),n.numElements=i.length,n.elementType=r.getGLTypeForTypedArray(i)):n.numElements=T(t),n}function h(r,e,t){var n="indices"===t?r.ELEMENT_ARRAY_BUFFER:r.ARRAY_BUFFER,i=l(e,t);return o(r,i,n)}function v(r,e){var t={};return Object.keys(e).forEach(function(n){t[n]=h(r,e[n],n)}),t}function y(r,e,t){var n=r.createVertexArray();return r.bindVertexArray(n),e.length||(e=[e]),e.forEach(function(e){twgl.setBuffersAndAttributes(r,e,t)}),r.bindVertexArray(null),{numElements:t.numElements,elementType:t.elementType,vertexArrayObject:n}}var E={attribPrefix:""},A=/coord|texture/i,g=/color|colour/i,T=function(){var r=["position","positions","a_position"];return function(e){for(var t,n=0;n<r.length&&(t=r[n],!(t in e));++n);n===r.length&&(t=Object.keys(e)[0]);var i=e[t],o=f(i).length,a=c(i,t),u=o/a;if(o%a>0)throw"numComponents "+a+" not correct for length "+o;return u}}();return{createAttribsFromArrays:m,createBuffersFromArrays:v,createBufferFromArray:h,createBufferFromTypedArray:o,createBufferInfoFromArrays:d,setAttribInfoBufferFromArray:p,createVertexArrayInfo:y,setAttributePrefix:t,setDefaults_:n,getNumComponents_:c,getArray_:f}}),t("twgl/programs",["./utils"],function(r){function e(r,e){return zr[e].bindPoint}function t(r,e){return function(t){r.uniform1f(e,t)}}function n(r,e){return function(t){r.uniform1fv(e,t)}}function i(r,e){return function(t){r.uniform2fv(e,t)}}function o(r,e){return function(t){r.uniform3fv(e,t)}}function a(r,e){return function(t){r.uniform4fv(e,t)}}function u(r,e){return function(t){r.uniform1i(e,t)}}function f(r,e){return function(t){r.uniform1iv(e,t)}}function s(r,e){return function(t){r.uniform2iv(e,t)}}function c(r,e){return function(t){r.uniform3iv(e,t)}}function l(r,e){return function(t){r.uniform4iv(e,t)}}function m(r,e){return function(t){r.uniform1ui(e,t)}}function p(r,e){return function(t){r.uniform1uiv(e,t)}}function d(r,e){return function(t){r.uniform2uiv(e,t)}}function h(r,e){return function(t){r.uniform3uiv(e,t)}}function v(r,e){return function(t){r.uniform4uiv(e,t)}}function y(r,e){return function(t){r.uniformMatrix2fv(e,!1,t)}}function E(r,e){return function(t){r.uniformMatrix3fv(e,!1,t)}}function A(r,e){return function(t){r.uniformMatrix4fv(e,!1,t)}}function g(r,e){return function(t){r.uniformMatrix2x3fv(e,!1,t)}}function T(r,e){return function(t){r.uniformMatrix3x2fv(e,!1,t)}}function b(r,e){return function(t){r.uniformMatrix2x4fv(e,!1,t)}}function _(r,e){return function(t){r.uniformMatrix4x2fv(e,!1,t)}}function w(r,e){return function(t){r.uniformMatrix3x4fv(e,!1,t)}}function x(r,e){return function(t){r.uniformMatrix4x3fv(e,!1,t)}}function R(r,t,n,i){var o=e(r,t);return function(e){r.uniform1i(i,n),r.activeTexture(r.TEXTURE0+n),r.bindTexture(o,e)}}function U(r,t,n,i,o){for(var a=e(r,t),u=new Int32Array(o),f=0;o>f;++f)u[f]=n+f;return function(e){r.uniform1iv(i,u),e.forEach(function(e,t){r.activeTexture(r.TEXTURE0+u[t]),r.bindTexture(a,e)})}}function P(r,e){return e=e||0,++e,r.split("\n").map(function(r,t){return t+e+": "+r}).join("\n")}function B(r,e,t,n){var i=n||H,o=r.createShader(t),a=0;Gr.test(e)&&(a=1,e=e.replace(Gr,"")),r.shaderSource(o,e),r.compileShader(o);var u=r.getShaderParameter(o,r.COMPILE_STATUS);if(!u){var f=r.getShaderInfoLog(o);return i(P(e,a)+"\n*** Error compiling shader: "+f),r.deleteShader(o),null}return o}function I(r,e,t,n,i){"function"==typeof n&&(i=n,n=void 0),"function"==typeof t&&(i=t,t=void 0);var o=i||H,a=r.createProgram();e.forEach(function(e){r.attachShader(a,e)}),t&&t.forEach(function(e,t){r.bindAttribLocation(a,n?n[t]:t,e)}),r.linkProgram(a);var u=r.getProgramParameter(a,r.LINK_STATUS);if(!u){var f=r.getProgramInfoLog(a);return o("Error in program linking:"+f),r.deleteProgram(a),null}return a}function S(r,e,t,n){var i,o="",a=document.getElementById(e);if(!a)throw"*** Error: unknown script element"+e;if(o=a.text,!t)if("x-shader/x-vertex"===a.type)i=r.VERTEX_SHADER;else if("x-shader/x-fragment"===a.type)i=r.FRAGMENT_SHADER;else if(i!==r.VERTEX_SHADER&&i!==r.FRAGMENT_SHADER)throw"*** Error: unknown shader type";return B(r,o,t?t:i,n)}function F(r,e,t,n,i){for(var o=[],a=0;a<e.length;++a){var u=S(r,e[a],r[Vr[a]],i);if(!u)return null;o.push(u)}return I(r,o,t,n,i)}function M(r,e,t,n,i){for(var o=[],a=0;a<e.length;++a){var u=B(r,e[a],r[Vr[a]],i);if(!u)return null;o.push(u)}return I(r,o,t,n,i)}function C(r,e){function t(e,t){var i=r.getUniformLocation(e,t.name),o=t.size>1&&"[0]"===t.name.substr(-3),a=t.type,u=zr[a];if(!u)throw"unknown type: 0x"+a.toString(16);if(u.bindPoint){var f=n;return n+=t.size,o?u.arraySetter(r,a,f,i,t.size):u.setter(r,a,f,i,t.size)}return u.arraySetter&&o?u.arraySetter(r,i):u.setter(r,i)}for(var n=0,i={},o=r.getProgramParameter(e,r.ACTIVE_UNIFORMS),a=0;o>a;++a){var u=r.getActiveUniform(e,a);if(!u)break;var f=u.name;"[0]"===f.substr(-3)&&(f=f.substr(0,f.length-3));var s=t(e,u);i[f]=s}return i}function O(r,e){for(var t=r.getProgramParameter(e,r.ACTIVE_UNIFORMS),n=[],i=[],o=0;t>o;++o){i.push(o),n.push({});var a=r.getActiveUniform(e,o);if(!a)break;n[o].name=a.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(t){var o=t[0],a=t[1];r.getActiveUniforms(e,i,r[o]).forEach(function(r,e){n[e][a]=r})});var u={},f=r.getProgramParameter(e,r.ACTIVE_UNIFORM_BLOCKS);for(o=0;f>o;++o){var s=r.getActiveUniformBlockName(e,o),c={index:o,usedByVertexShader:r.getActiveUniformBlockParameter(e,o,r.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:r.getActiveUniformBlockParameter(e,o,r.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:r.getActiveUniformBlockParameter(e,o,r.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:r.getActiveUniformBlockParameter(e,o,r.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};c.used=c.usedByVertexSahder||c.usedByFragmentShader,u[s]=c}return{blockSpecs:u,uniformData:n}}function N(r,e,t,n){var i=t.blockSpecs,o=t.uniformData,a=i[n];if(!a)return K("no uniform block object named:",n),{name:n,uniforms:{}};var u=new ArrayBuffer(a.size),f=r.createBuffer(),s=a.index;r.bindBuffer(r.UNIFORM_BUFFER,f),r.uniformBlockBinding(e,a.index,s);var c=n+".";kr.test(c)&&(c=c.replace(kr,"."));var l={};return a.uniformIndices.forEach(function(r){var e=o[r],t=zr[e.type],n=t.Type,i=e.size*t.size,a=e.name;a.substr(0,c.length)===c&&(a=a.substr(c.length)),l[a]=new n(u,e.offset,i/n.BYTES_PER_ELEMENT)}),{name:n,array:u,asFloat:new Float32Array(u),buffer:f,uniforms:l}}function D(r,e,t){return N(r,e.program,e.uniformBlockSpec,t)}function L(r,e,t){var n=e.uniformBlockSpec||e,i=n.blockSpecs[t.name];if(i){var o=i.index;return r.bindBufferRange(r.UNIFORM_BUFFER,o,t.buffer,t.offset||0,t.array.byteLength),!0}return!1}function z(r,e,t){L(r,e,t)&&r.bufferData(r.UNIFORM_BUFFER,t.array,r.DYNAMIC_DRAW)}function X(r,e){var t=r.uniforms;for(var n in e){var i=t[n];if(i){var o=e[n];o.length?i.set(o):i[0]=o}}}function G(r,e){for(var t=r.uniformSetters||r,n=arguments.length,i=1;n>i;++i){var o=arguments[i];if(Array.isArray(o))for(var a=o.length,u=0;a>u;++u)G(t,o[u]);else for(var f in o){var s=t[f];s&&s(o[f])}}}function V(r,e){function t(e){return function(t){r.bindBuffer(r.ARRAY_BUFFER,t.buffer),r.enableVertexAttribArray(e),r.vertexAttribPointer(e,t.numComponents||t.size,t.type||r.FLOAT,t.normalize||!1,t.stride||0,t.offset||0)}}function n(e,t){var n=t.size,i=t.count;return function(t){r.bindBuffer(r.ARRAY_BUFFER,t.buffer);for(var o=t.size||t.numComponents||n,a=o/i,u=t.type||r.FLOAT,f=zr[u],s=f.size*o,c=t.normalize||!1,l=t.offset||0,m=s/i,p=0;i>p;++p)r.enableVertexAttribArray(e+p),r.vertexAttribPointer(e+p,a,u,c,s,l+m*p)}}for(var i={},o=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES),a=0;o>a;++a){var u=r.getActiveAttrib(e,a);if(!u)break;var f=r.getAttribLocation(e,u.name),s=Xr[u.type];i[u.name]=s?n(f,s):t(f)}return i}function k(r,e){for(var t in e){var n=r[t];n&&n(e[t])}}function Y(r,e,t){t.vertexArrayObject?r.bindVertexArray(t.vertexArrayObject):(k(e.attribSetters||e,t.attribs),t.indices&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indices))}function W(e,t){var n=C(e,t),i=V(e,t),o={program:t,uniformSetters:n,attribSetters:i};return r.isWebGL2(e)&&(o.uniformBlockSpec=O(e,t)),o}function j(r,e,t,n,i){"function"==typeof n&&(i=n,n=void 0),"function"==typeof t&&(i=t,t=void 0);var o=i||H,a=!0;if(e=e.map(function(r){if(r.indexOf("\n")<0){var e=document.getElementById(r);e?r=e.text:(o("no element with id: "+r),a=!1)}return r}),!a)return null;var u=M(r,e,t,n,i);return u?W(r,u):null}var H=r.error,K=r.warn,q=5126,Z=35664,Q=35665,$=35666,J=5124,rr=35667,er=35668,tr=35669,nr=35670,ir=35671,or=35672,ar=35673,ur=35674,fr=35675,sr=35676,cr=35678,lr=35680,mr=35679,pr=35682,dr=35685,hr=35686,vr=35687,yr=35688,Er=35689,Ar=35690,gr=36289,Tr=36292,br=36293,_r=5125,wr=36294,xr=36295,Rr=36296,Ur=36298,Pr=36299,Br=36300,Ir=36303,Sr=36306,Fr=36307,Mr=36308,Cr=36311,Or=3553,Nr=34067,Dr=32879,Lr=35866,zr={};zr[q]={Type:Float32Array,size:4,setter:t,arraySetter:n},zr[Z]={Type:Float32Array,size:8,setter:i},zr[Q]={Type:Float32Array,size:12,setter:o},zr[$]={Type:Float32Array,size:16,setter:a},zr[J]={Type:Int32Array,size:4,setter:u,arraySetter:f},zr[rr]={Type:Int32Array,size:8,setter:s},zr[er]={Type:Int32Array,size:12,setter:c},zr[tr]={Type:Int32Array,size:16,setter:l},zr[_r]={Type:Uint32Array,size:4,setter:m,arraySetter:p},zr[wr]={Type:Uint32Array,size:8,setter:d},zr[xr]={Type:Uint32Array,size:12,setter:h},zr[Rr]={Type:Uint32Array,size:16,setter:v},zr[nr]={Type:Uint32Array,size:4,setter:u,arraySetter:f},zr[ir]={Type:Uint32Array,size:8,setter:s},zr[or]={Type:Uint32Array,size:12,setter:c},zr[ar]={Type:Uint32Array,size:16,setter:l},zr[ur]={Type:Float32Array,size:16,setter:y},zr[fr]={Type:Float32Array,size:36,setter:E},zr[sr]={Type:Float32Array,size:64,setter:A},zr[dr]={Type:Float32Array,size:24,setter:g},zr[hr]={Type:Float32Array,size:32,setter:b},zr[vr]={Type:Float32Array,size:24,setter:T},zr[yr]={Type:Float32Array,size:48,setter:w},zr[Er]={Type:Float32Array,size:32,setter:_},zr[Ar]={Type:Float32Array,size:48,setter:x},zr[cr]={Type:null,size:0,setter:R,arraySetter:U,bindPoint:Or},zr[lr]={Type:null,size:0,setter:R,arraySetter:U,bindPoint:Nr},zr[mr]={Type:null,size:0,setter:R,arraySetter:U,bindPoint:Dr},zr[pr]={Type:null,size:0,setter:R,arraySetter:U,bindPoint:Or},zr[gr]={Type:null,size:0,setter:R,arraySetter:U,bindPoint:Lr},zr[Tr]={Type:null,size:0,setter:R,arraySetter:U,bindPoint:Lr},zr[br]={Type:null,size:0,setter:R,arraySetter:U,bindPoint:Nr},zr[Ur]={Type:null,size:0,setter:R,arraySetter:U,bindPoint:Or},zr[Pr]={Type:null,size:0,setter:R,arraySetter:U,bindPoint:Dr},zr[Br]={Type:null,size:0,setter:R,arraySetter:U,bindPoint:Nr},zr[Ir]={Type:null,size:0,setter:R,arraySetter:U,bindPoint:Lr},zr[Sr]={Type:null,size:0,setter:R,arraySetter:U,bindPoint:Or},zr[Fr]={Type:null,size:0,setter:R,arraySetter:U,bindPoint:Dr},zr[Mr]={Type:null,size:0,setter:R,arraySetter:U,bindPoint:Nr},zr[Cr]={Type:null,size:0,setter:R,arraySetter:U,bindPoint:Lr};var Xr={};Xr[ur]={size:4,count:2},Xr[fr]={size:9,count:3},Xr[sr]={size:16,count:4};var Gr=/^[ \t]*\n/,Vr=["VERTEX_SHADER","FRAGMENT_SHADER"],kr=/\[\d+\]\.$/;return{createAttributeSetters:V,createProgram:I,createProgramFromScripts:F,createProgramFromSources:M,createProgramInfo:j,createProgramInfoFromProgram:W,createUniformSetters:C,createUniformBlockSpecFromProgram:O,createUniformBlockInfoFromProgram:N,createUniformBlockInfo:D,setAttributes:k,setBuffersAndAttributes:Y,setUniforms:G,setUniformBlock:z,setBlockUniforms:X,bindUniformBlock:L}}),t("twgl/draw",["./programs"],function(r){function e(r,e,t,n,i){t=void 0===t?r.TRIANGLES:t;var o=e.indices,a=e.elementType,u=void 0===n?e.numElements:n;i=void 0===i?0:i,a||o?r.drawElements(t,u,void 0===a?r.UNSIGNED_SHORT:e.elementType,i):r.drawArrays(t,i,u)}function t(t,n){var i=null,o=null;n.forEach(function(n){if(n.active!==!1){var a=n.programInfo,u=n.vertexArrayInfo||n.bufferInfo,f=!1,s=void 0===n.type?t.TRIANGLES:n.type;a!==i&&(i=a,t.useProgram(a.program),f=!0),(f||u!==o)&&(o&&o.vertexArrayObject&&!u.vertexArrayObject&&t.bindVertexArray(null),o=u,r.setBuffersAndAttributes(t,a,u)),r.setUniforms(a,n.uniforms),e(t,u,s,n.count,n.offset)}}),o.vertexArrayObject&&t.bindVertexArray(null)}return{drawBufferInfo:e,drawObjectList:t}}),t("twgl/textures",["./typedarrays","./utils"],function(r,e){function t(r){R.textureColor=new Uint8Array([255*r[0],255*r[1],255*r[2],255*r[3]])}function n(r){e.copyExistingProperties(r,R),r.textureColor&&t(r.textureColor)}function i(r,e){void 0!==e.colorspaceConversion&&(C.colorspaceConversion=r.getParameter(r.UNPACK_COLORSPACE_CONVERSION_WEBGL),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.colorspaceConversion)),void 0!==e.premultiplyAlpha&&(C.premultiplyAlpha=r.getParameter(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha)),void 0!==e.flipY&&(C.flipY=r.getParameter(r.UNPACK_FLIP_Y_WEBGL),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,e.flipY))}function o(r,e){void 0!==e.colorspaceConversion&&r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,C.colorspaceConversion),void 0!==e.premultiplyAlpha&&r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,C.premultiplyAlpha),void 0!==e.flipY&&r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,C.flipY)}function a(r,e,t){var n=t.target||r.TEXTURE_2D;r.bindTexture(n,e),t.min&&r.texParameteri(n,r.TEXTURE_MIN_FILTER,t.min),t.mag&&r.texParameteri(n,r.TEXTURE_MAG_FILTER,t.mag),t.wrap&&(r.texParameteri(n,r.TEXTURE_WRAP_S,t.wrap),r.texParameteri(n,r.TEXTURE_WRAP_T,t.wrap),n===r.TEXTURE_3D&&r.texParameteri(n,r.TEXTURE_WRAP_R,t.wrap)),t.wrapR&&r.texParameteri(n,r.TEXTURE_WRAP_R,t.wrapR),t.wrapS&&r.texParameteri(n,r.TEXTURE_WRAP_S,t.wrapS),t.wrapT&&r.texParameteri(n,r.TEXTURE_WRAP_T,t.wrapT),t.minLod&&r.texParameteri(n,r.TEXTURE_MIN_LOD,t.minLod),t.maxLod&&r.texParameteri(n,r.TEXTURE_MAX_LOD,t.maxLod),t.baseLevel&&r.texParameteri(n,r.TEXTURE_BASE_LEVEL,t.baseLevel),t.maxLevel&&r.texParameteri(n,r.TEXTURE_MAX_LEVEL,t.maxLevel)}function u(r){return r=r||R.textureColor,U(r)?r:new Uint8Array([255*r[0],255*r[1],255*r[2],255*r[3]])}function f(r){return 0===(r&r-1)}function s(r,e,t,n,i){t=t||R.textureOptions;var o=t.target||r.TEXTURE_2D;n=n||t.width,i=i||t.height,r.bindTexture(o,e),f(n)&&f(i)?r.generateMipmap(o):(r.texParameteri(o,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(o,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(o,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE))}function c(r,e){return e=e||{},e.cubeFaceOrder||[r.TEXTURE_CUBE_MAP_POSITIVE_X,r.TEXTURE_CUBE_MAP_NEGATIVE_X,r.TEXTURE_CUBE_MAP_POSITIVE_Y,r.TEXTURE_CUBE_MAP_NEGATIVE_Y,r.TEXTURE_CUBE_MAP_POSITIVE_Z,r.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function l(r,e){var t=c(r,e),n=t.map(function(r,e){return{face:r,ndx:e}});return n.sort(function(r,e){return r.face-e.face}),n}function m(){}function p(r,t,n){function i(){u.removeEventListener("error",o),u.removeEventListener("load",a),u=null}function o(){var t="couldn't load image: "+r;e.error(t),n(t,u),i()}function a(){n(null,u),i()}n=n||m;var u=new Image;return t=void 0!==t?t:R.crossOrigin,void 0!==t&&(u.crossOrigin=t),u.addEventListener("error",o),u.addEventListener("load",a),u.src=r,u}function d(r,e,t){t=t||R.textureOptions;var n=t.target||r.TEXTURE_2D;if(r.bindTexture(n,e),t.color!==!1){var i=u(t.color);if(n===r.TEXTURE_CUBE_MAP)for(var o=0;6>o;++o)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,i);else n===r.TEXTURE_3D?r.texImage3D(n,0,r.RGBA,1,1,1,0,r.RGBA,r.UNSIGNED_BYTE,i):r.texImage2D(n,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,i)}}function h(r,t,n,i){i=i||m,n=n||R.textureOptions,d(r,t,n),n=e.shallowCopy(n);var o=p(n.src,n.crossOrigin,function(e,o){e?i(e,t,o):(O(r,t,o,n),i(null,t,o))});return o}function v(r,t,n,a){function u(e){return function(u,f){--y,u?E.push(u):f.width!==f.height?E.push("cubemap face img is not a square: "+f.src):(i(r,n),r.bindTexture(h,t),5===y?c(r).forEach(function(e){r.texImage2D(e,0,s,s,l,f)}):r.texImage2D(e,0,s,s,l,f),o(r,n),r.generateMipmap(h)),0===y&&a(E.length?E:void 0,v,t)}}a=a||m;var f=n.src;if(6!==f.length)throw"there must be 6 urls for a cubemap";var s=n.format||r.RGBA,l=n.type||r.UNSIGNED_BYTE,h=n.target||r.TEXTURE_2D;if(h!==r.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";d(r,t,n),n=e.shallowCopy(n);var v,y=6,E=[],A=c(r,n);v=f.map(function(r,e){return p(r,n.crossOrigin,u(A[e]))})}function y(r){switch(r){case P:case S:return 1;case F:return 2;case B:return 3;case I:return 4;default:throw"unknown type: "+r}}function E(e,t){return U(t)?r.getGLTypeForTypedArray(t):e.UNSIGNED_BYTE}function A(r,e,t,n,i){if(i%1!==0)throw"can't guess dimensions";if(t||n){if(n){if(!t&&(t=i/n,t%1))throw"can't guess dimensions"}else if(n=i/t,n%1)throw"can't guess dimensions"}else{var o=Math.sqrt(i/(e===r.TEXTURE_CUBE_MAP?6:1));o%1===0?(t=o,n=o):(t=i,n=1)}return{width:t,height:n}}function g(e,t,n,a){a=a||R.textureOptions;var u=a.target||e.TEXTURE_2D;e.bindTexture(u,t);var f=a.width,s=a.height,c=a.depth,m=a.format||e.RGBA,p=a.internalFormat||m,d=a.type||E(e,n),h=y(m),v=n.length/h;if(v%1)throw"length wrong size for format: "+M(e,m);var g;if(u===e.TEXTURE_3D)if(f||s||c)!f||s&&c?!s||f&&c?(g=A(e,u,f,s,v/c),f=g.width,s=g.height):(g=A(e,u,f,c,v/s),f=g.width,c=g.height):(g=A(e,u,s,c,v/f),s=g.width,c=g.height);else{var T=Math.cbrt(v);if(T%1!==0)throw"can't guess cube size of array of numElements: "+v;f=T,s=T,c=T}else g=A(e,u,f,s,v),f=g.width,s=g.height;if(U(n))n instanceof Uint8ClampedArray&&(n=new Uint8Array(n.buffer));else{var b=r.getTypedArrayTypeForGLType(d);n=new b(n)}if(e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment||1),i(e,a),u===e.TEXTURE_CUBE_MAP){var _=v/6*h;l(e,a).forEach(function(r){var t=_*r.ndx,i=n.subarray(t,t+_);e.texImage2D(r.face,0,p,f,s,0,m,d,i)})}else u===e.TEXTURE_3D?e.texImage3D(u,0,p,f,s,c,0,m,d,n):e.texImage2D(u,0,p,f,s,0,m,d,n);return o(e,a),{width:f,height:s,depth:c}}function T(r,e,t){var n=t.target||r.TEXTURE_2D;r.bindTexture(n,e);var a=t.format||r.RGBA,u=t.internalFormat||a,f=t.type||r.UNSIGNED_BYTE;if(i(r,t),n===r.TEXTURE_CUBE_MAP)for(var s=0;6>s;++s)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,u,t.width,t.height,0,a,f,null);else n===r.TEXTURE_3D?r.texImage3D(n,0,u,t.width,t.height,t.depth,0,a,f,null):r.texImage2D(n,0,u,t.width,t.height,0,a,f,null);o(r,t)}function b(r,e,t){t=t||m,e=e||R.textureOptions;var n=r.createTexture(),i=e.target||r.TEXTURE_2D,o=e.width||1,u=e.height||1;r.bindTexture(i,n),i===r.TEXTURE_CUBE_MAP&&(r.texParameteri(i,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(i,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE));var f=e.src;if(f)if("function"==typeof f&&(f=f(r,e)),"string"==typeof f)h(r,n,e,t);else if(U(f)||Array.isArray(f)&&("number"==typeof f[0]||Array.isArray(f[0])||U(f[0]))){var c=g(r,n,f,e);o=c.width,u=c.height}else if(Array.isArray(f)&&"string"==typeof f[0])v(r,n,e,t);else{if(!(f instanceof HTMLElement))throw"unsupported src type";O(r,n,f,e),o=f.width,u=f.height}else T(r,n,e);return e.auto!==!1&&s(r,n,e,o,u),a(r,n,e),n}function _(r,e,t,n,i){n=n||t.width,i=i||t.height;var o=t.target||r.TEXTURE_2D;r.bindTexture(o,e);var a,u=t.format||r.RGBA,f=t.src;if(a=f&&(U(f)||Array.isArray(f)&&"number"==typeof f[0])?t.type||E(r,f):t.type||r.UNSIGNED_BYTE,o===r.TEXTURE_CUBE_MAP)for(var s=0;6>s;++s)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,u,n,i,0,u,a,null);else r.texImage2D(o,0,u,n,i,0,u,a,null)}function w(r){return"string"==typeof r||Array.isArray(r)&&"string"==typeof r[0]}function x(r,e,t){function n(){0===i&&setTimeout(function(){t(o.length?o:void 0,a,u)},0)}t=t||m;var i=0,o=[],a={},u={};return Object.keys(e).forEach(function(t){var f,s=e[t];w(s.src)&&(f=function(r,e,a){u[t]=a,--i,r&&o.push(r),n()},++i),a[t]=b(r,s,f)}),n(),a}var R={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},U=r.isArrayBuffer,P=6406,B=6407,I=6408,S=6409,F=6410,M=function(){function r(r){e||(e={},Object.keys(r).forEach(function(t){"number"==typeof r[t]&&(e[r[t]]=t)}))}var e;return function(t,n){return r(),e[n]||"0x"+n.toString(16)}}(),C={},O=function(){var r=document.createElement("canvas").getContext("2d");return function(e,t,n,u){u=u||R.textureOptions;var f=u.target||e.TEXTURE_2D,c=n.width,m=n.height,p=u.format||e.RGBA,d=u.internalFormat||p,h=u.type||e.UNSIGNED_BYTE;if(i(e,u),e.bindTexture(f,t),f===e.TEXTURE_CUBE_MAP){var v,y,E=n.width,A=n.height;if(E/6===A)v=A,y=[0,0,1,0,2,0,3,0,4,0,5,0];else if(A/6===E)v=E,y=[0,0,0,1,0,2,0,3,0,4,0,5];else if(E/3===A/2)v=E/3,y=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(E/2!==A/3)throw"can't figure out cube map from element: "+(n.src?n.src:n.nodeName);v=E/2,y=[0,0,1,0,0,1,1,1,0,2,1,2]}r.canvas.width=v,r.canvas.height=v,c=v,m=v,l(e,u).forEach(function(t){var i=y[2*t.ndx+0]*v,o=y[2*t.ndx+1]*v;r.drawImage(n,i,o,v,v,0,0,v,v),e.texImage2D(t.face,0,d,p,h,r.canvas)}),r.canvas.width=1,r.canvas.height=1}else if(f===e.TEXTURE_3D){var g=Math.min(n.width,n.height),T=Math.max(n.width,n.height),b=T/g;if(b%1!==0)throw"can not compute 3D dimensions of element";var _=n.width===T?1:0,w=n.height===T?1:0;e.texImage3D(f,0,d,g,g,g,0,p,h,null),r.canvas.width=g,r.canvas.height=g;for(var x=0;b>x;++x){var U=x*g*_,P=x*g*w,B=g,I=g,S=0,F=0,M=g,C=g;r.drawImage(n,U,P,B,I,S,F,M,C),e.texSubImage3D(f,0,0,0,x,p,h,r.canvas)}r.canvas.width=0,r.canvas.height=0}else e.texImage2D(f,0,d,p,h,n);o(e,u),u.auto!==!1&&s(e,t,u,c,m),a(e,t,u)}}();return{setDefaults_:n,createTexture:b,setEmptyTexture:T,setTextureFromArray:g,loadTextureFromUrl:h,setTextureFromElement:O,setTextureFilteringForSize:s,setTextureParameters:a,setDefaultTextureColor:t,createTextures:x,resizeTexture:_,getNumComponentsForFormat:y}}),t("twgl/framebuffers",["./textures","./utils"],function(r,e){function t(r){return w[r]}function n(r){return x[r]}function i(i,o,a,u){var f=i.FRAMEBUFFER,s=i.createFramebuffer();i.bindFramebuffer(f,s),a=a||i.drawingBufferWidth,u=u||i.drawingBufferHeight,o=o||_;var c=0,l={framebuffer:s,attachments:[],width:a,height:u};return o.forEach(function(o){var s=o.attachment,m=o.format,p=t(m);if(p||(p=y+c++),!s)if(n(m))s=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,s),i.renderbufferStorage(i.RENDERBUFFER,m,a,u);else{var d=e.shallowCopy(o);d.width=a,d.height=u,void 0===d.auto&&(d.auto=!1,d.min=d.min||i.LINEAR,d.mag=d.mag||i.LINEAR,d.wrapS=d.wrapS||d.wrap||i.CLAMP_TO_EDGE,d.wrapT=d.wrapT||d.wrap||i.CLAMP_TO_EDGE),s=r.createTexture(i,d)}if(s instanceof WebGLRenderbuffer)i.framebufferRenderbuffer(f,p,i.RENDERBUFFER,s);else{if(!(s instanceof WebGLTexture))throw"unknown attachment type";i.framebufferTexture2D(f,p,o.texTarget||i.TEXTURE_2D,s,o.level||0)}l.attachments.push(s)}),l}function o(e,t,n,i,o){i=i||e.drawingBufferWidth,o=o||e.drawingBufferHeight,t.width=i,t.height=o,n=n||_,n.forEach(function(n,a){var u=t.attachments[a],f=n.format;if(u instanceof WebGLRenderbuffer)e.bindRenderbuffer(e.RENDERBUFFER,u),e.renderbufferStorage(e.RENDERBUFFER,f,i,o);else{if(!(u instanceof WebGLTexture))throw"unknown attachment type";r.resizeTexture(e,u,n,i,o)}})}function a(r,e,t){t=t||r.FRAMEBUFFER,e?(r.bindFramebuffer(t,e.framebuffer),r.viewport(0,0,e.width,e.height)):(r.bindFramebuffer(t,null),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight))}var u=5121,f=6402,s=6408,c=32854,l=32855,m=36194,p=33189,d=6401,h=36168,v=34041,y=36064,E=36096,A=36128,g=33306,T=33071,b=9729,_=[{format:s,type:u,min:b,wrap:T},{format:v}],w={};w[v]=g,w[d]=A,w[h]=A,w[f]=E,w[p]=E;var x={};return x[c]=!0,x[l]=!0,x[m]=!0,x[v]=!0,x[p]=!0,x[d]=!0,x[h]=!0,{bindFramebufferInfo:a,createFramebufferInfo:i,resizeFramebufferInfo:o}}),t("twgl/twgl",["./attributes","./draw","./framebuffers","./programs","./textures","./typedarrays","./utils"],function(r,e,t,n,i,o,a){function u(e){a.copyExistingProperties(e,v),r.setDefaults_(e),i.setDefaults_(e)}function f(r){if(r&&v.enableVertexArrayObjects&&a.isWebGL1(r)){var e=r.getExtension("OES_vertex_array_object");e&&(r.createVertexArray=function(){return e.createVertexArrayOES()},r.deleteVertexArray=function(r){e.deleteVertexArrayOES(r)},r.isVertexArray=function(r){return e.isVertexArrayOES(r)},r.bindVertexArray=function(r){e.bindVertexArrayOES(r)},r.VERTEX_ARRAY_BINDING=e.VERTEX_ARRAY_BINDING_OES)}}function s(r,e){for(var t=["webgl","experimental-webgl"],n=null,i=0;i<t.length;++i){try{n=r.getContext(t[i],e)}catch(o){}if(n)break}return n}function c(r,e){var t=s(r,e);return f(t),t}function l(r,e){for(var t=["webgl2","experimental-webgl2","webgl","experimental-webgl"],n=null,i=0;i<t.length;++i){try{n=r.getContext(t[i],e)}catch(o){}if(n)break}return n}function m(r,e){var t=l(r,e);return f(t),t}function p(r,e){e=e||1,e=Math.max(1,e);var t=r.clientWidth*e|0,n=r.clientHeight*e|0;return r.width!==t||r.height!==n?(r.width=t,r.height=n,!0):!1}function d(r){return"_"!==r[r.length-1]}function h(r,e){return Object.keys(r).filter(d).forEach(function(t){e[t]=r[t]}),e}var v={enableVertexArrayObjects:!0},y={getContext:m,getWebGLContext:c,isWebGL1:a.isWebGL1,isWebGL2:a.isWebGL2,resizeCanvasToDisplaySize:p,setDefaults:u},E={attributes:r,draw:e,framebuffers:t,programs:n,textures:i,typedArrays:o};return Object.keys(E).forEach(function(r){var e=E[r];h(e,y),y[r]=h(e,{})}),y}),t("twgl/v3",[],function(){function r(r){var e=v;return v=r,e}function e(r,e,t){var n=new v(3);return r&&(n[0]=r),e&&(n[1]=e),t&&(n[2]=t),n}function t(r,e,t){return t=t||new v(3),t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t}function n(r,e,t){return t=t||new v(3),t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t}function i(r,e,t,n){return n=n||new v(3),n[0]=(1-t)*r[0]+t*e[0],n[1]=(1-t)*r[1]+t*e[1],
n[2]=(1-t)*r[2]+t*e[2],n}function o(r,e,t){return t=t||new v(3),t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t}function a(r,e,t){return t=t||new v(3),t[0]=r[0]/e,t[1]=r[1]/e,t[2]=r[2]/e,t}function u(r,e,t){return t=t||new v(3),t[0]=r[1]*e[2]-r[2]*e[1],t[1]=r[2]*e[0]-r[0]*e[2],t[2]=r[0]*e[1]-r[1]*e[0],t}function f(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}function s(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2])}function c(r){return r[0]*r[0]+r[1]*r[1]+r[2]*r[2]}function l(r,e){e=e||new v(3);var t=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],n=Math.sqrt(t);return n>1e-5?(e[0]=r[0]/n,e[1]=r[1]/n,e[2]=r[2]/n):(e[0]=0,e[1]=0,e[2]=0),e}function m(r,e){return e=e||new v(3),e[0]=-r[0],e[1]=-r[1],e[2]=-r[2],e}function p(r,e){return e=e||new v(3),e[0]=r[0],e[1]=r[1],e[2]=r[2],e}function d(r,e,t){return t=t||new v(3),t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t}function h(r,e,t){return t=t||new v(3),t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t}var v=Float32Array;return{add:t,copy:p,create:e,cross:u,divide:h,divScalar:a,dot:f,lerp:i,length:s,lengthSq:c,mulScalar:o,multiply:d,negate:m,normalize:l,setDefaultType:r,subtract:n}}),t("twgl/m4",["./v3"],function(r){function e(r){var e=S;return S=r,e}function t(r,e){return e=e||new S(16),e[0]=-r[0],e[1]=-r[1],e[2]=-r[2],e[3]=-r[3],e[4]=-r[4],e[5]=-r[5],e[6]=-r[6],e[7]=-r[7],e[8]=-r[8],e[9]=-r[9],e[10]=-r[10],e[11]=-r[11],e[12]=-r[12],e[13]=-r[13],e[14]=-r[14],e[15]=-r[15],e}function n(r,e){return e=e||new S(16),e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}function i(r){return r=r||new S(16),r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function o(r,e){if(e=e||new S(16),e===r){var t;return t=r[1],r[1]=r[4],r[4]=t,t=r[2],r[2]=r[8],r[8]=t,t=r[3],r[3]=r[12],r[12]=t,t=r[6],r[6]=r[9],r[9]=t,t=r[7],r[7]=r[13],r[13]=t,t=r[11],r[11]=r[14],r[14]=t,e}var n=r[0],i=r[1],o=r[2],a=r[3],u=r[4],f=r[5],s=r[6],c=r[7],l=r[8],m=r[9],p=r[10],d=r[11],h=r[12],v=r[13],y=r[14],E=r[15];return e[0]=n,e[1]=u,e[2]=l,e[3]=h,e[4]=i,e[5]=f,e[6]=m,e[7]=v,e[8]=o,e[9]=s,e[10]=p,e[11]=y,e[12]=a,e[13]=c,e[14]=d,e[15]=E,e}function a(r,e){e=e||new S(16);var t=r[0],n=r[1],i=r[2],o=r[3],a=r[4],u=r[5],f=r[6],s=r[7],c=r[8],l=r[9],m=r[10],p=r[11],d=r[12],h=r[13],v=r[14],y=r[15],E=m*y,A=v*p,g=f*y,T=v*s,b=f*p,_=m*s,w=i*y,x=v*o,R=i*p,U=m*o,P=i*s,B=f*o,I=c*h,F=d*l,M=a*h,C=d*u,O=a*l,N=c*u,D=t*h,L=d*n,z=t*l,X=c*n,G=t*u,V=a*n,k=E*u+T*l+b*h-(A*u+g*l+_*h),Y=A*n+w*l+U*h-(E*n+x*l+R*h),W=g*n+x*u+P*h-(T*n+w*u+B*h),j=_*n+R*u+B*l-(b*n+U*u+P*l),H=1/(t*k+a*Y+c*W+d*j);return e[0]=H*k,e[1]=H*Y,e[2]=H*W,e[3]=H*j,e[4]=H*(A*a+g*c+_*d-(E*a+T*c+b*d)),e[5]=H*(E*t+x*c+R*d-(A*t+w*c+U*d)),e[6]=H*(T*t+w*a+B*d-(g*t+x*a+P*d)),e[7]=H*(b*t+U*a+P*c-(_*t+R*a+B*c)),e[8]=H*(I*s+C*p+O*y-(F*s+M*p+N*y)),e[9]=H*(F*o+D*p+X*y-(I*o+L*p+z*y)),e[10]=H*(M*o+L*s+G*y-(C*o+D*s+V*y)),e[11]=H*(N*o+z*s+V*p-(O*o+X*s+G*p)),e[12]=H*(M*m+N*v+F*f-(O*v+I*f+C*m)),e[13]=H*(z*v+I*i+L*m-(D*m+X*v+F*i)),e[14]=H*(D*f+V*v+C*i-(G*v+M*i+L*f)),e[15]=H*(G*m+O*i+X*f-(z*f+V*m+N*i)),e}function u(r,e,t){t=t||new S(16);var n=r[0],i=r[1],o=r[2],a=r[3],u=r[4],f=r[5],s=r[6],c=r[7],l=r[8],m=r[9],p=r[10],d=r[11],h=r[12],v=r[13],y=r[14],E=r[15],A=e[0],g=e[1],T=e[2],b=e[3],_=e[4],w=e[5],x=e[6],R=e[7],U=e[8],P=e[9],B=e[10],I=e[11],F=e[12],M=e[13],C=e[14],O=e[15];return t[0]=n*A+u*g+l*T+h*b,t[1]=i*A+f*g+m*T+v*b,t[2]=o*A+s*g+p*T+y*b,t[3]=a*A+c*g+d*T+E*b,t[4]=n*_+u*w+l*x+h*R,t[5]=i*_+f*w+m*x+v*R,t[6]=o*_+s*w+p*x+y*R,t[7]=a*_+c*w+d*x+E*R,t[8]=n*U+u*P+l*B+h*I,t[9]=i*U+f*P+m*B+v*I,t[10]=o*U+s*P+p*B+y*I,t[11]=a*U+c*P+d*B+E*I,t[12]=n*F+u*M+l*C+h*O,t[13]=i*F+f*M+m*C+v*O,t[14]=o*F+s*M+p*C+y*O,t[15]=a*F+c*M+d*C+E*O,t}function f(r,e,t){return t=t||i(),r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11]),t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function s(e,t){return t=t||r.create(),t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function c(e,t,n){n=n||r.create();var i=4*t;return n[0]=e[i+0],n[1]=e[i+1],n[2]=e[i+2],n}function l(r,e,t,i){i!==r&&(i=n(r,i));var o=4*t;return i[o+0]=e[0],i[o+1]=e[1],i[o+2]=e[2],i}function m(r,e,t,n,i){i=i||new S(16);var o=Math.tan(.5*Math.PI-.5*r),a=1/(t-n);return i[0]=o/e,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=o,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(t+n)*a,i[11]=-1,i[12]=0,i[13]=0,i[14]=t*n*a*2,i[15]=0,i}function p(r,e,t,n,i,o,a){return a=a||new S(16),a[0]=2/(e-r),a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2/(n-t),a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=-1/(o-i),a[11]=0,a[12]=(e+r)/(r-e),a[13]=(n+t)/(t-n),a[14]=-i/(i-o),a[15]=1,a}function d(r,e,t,n,i,o,a){a=a||new S(16);var u=e-r,f=n-t,s=i-o;return a[0]=2*i/u,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*i/f,a[6]=0,a[7]=0,a[8]=(r+e)/u,a[9]=(n+t)/f,a[10]=o/s,a[11]=-1,a[12]=0,a[13]=0,a[14]=i*o/s,a[15]=0,a}function h(e,t,n,i){i=i||new S(16);var o=F,a=M,u=C;return r.normalize(r.subtract(e,t,u),u),r.normalize(r.cross(n,u,o),o),r.normalize(r.cross(u,o,a),a),i[0]=o[0],i[1]=o[1],i[2]=o[2],i[3]=0,i[4]=a[0],i[5]=a[1],i[6]=a[2],i[7]=0,i[8]=u[0],i[9]=u[1],i[10]=u[2],i[11]=0,i[12]=e[0],i[13]=e[1],i[14]=e[2],i[15]=1,i}function v(r,e){return e=e||new S(16),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function y(r,e,t){t=t||new S(16);var n=e[0],i=e[1],o=e[2],a=r[0],u=r[1],f=r[2],s=r[3],c=r[4],l=r[5],m=r[6],p=r[7],d=r[8],h=r[9],v=r[10],y=r[11],E=r[12],A=r[13],g=r[14],T=r[15];return r!==t&&(t[0]=a,t[1]=u,t[2]=f,t[3]=s,t[4]=c,t[5]=l,t[6]=m,t[7]=p,t[8]=d,t[9]=h,t[10]=v,t[11]=y),t[12]=a*n+c*i+d*o+E,t[13]=u*n+l*i+h*o+A,t[14]=f*n+m*i+v*o+g,t[15]=s*n+p*i+y*o+T,t}function E(r,e){e=e||new S(16);var t=Math.cos(r),n=Math.sin(r);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function A(r,e,t){t=t||new S(16);var n=r[4],i=r[5],o=r[6],a=r[7],u=r[8],f=r[9],s=r[10],c=r[11],l=Math.cos(e),m=Math.sin(e);return t[4]=l*n+m*u,t[5]=l*i+m*f,t[6]=l*o+m*s,t[7]=l*a+m*c,t[8]=l*u-m*n,t[9]=l*f-m*i,t[10]=l*s-m*o,t[11]=l*c-m*a,r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t}function g(r,e){e=e||new S(16);var t=Math.cos(r),n=Math.sin(r);return e[0]=t,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function T(r,e,t){t=t||new S(16);var n=r[0],i=r[1],o=r[2],a=r[3],u=r[8],f=r[9],s=r[10],c=r[11],l=Math.cos(e),m=Math.sin(e);return t[0]=l*n-m*u,t[1]=l*i-m*f,t[2]=l*o-m*s,t[3]=l*a-m*c,t[8]=l*u+m*n,t[9]=l*f+m*i,t[10]=l*s+m*o,t[11]=l*c+m*a,r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t}function b(r,e){e=e||new S(16);var t=Math.cos(r),n=Math.sin(r);return e[0]=t,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _(r,e,t){t=t||new S(16);var n=r[0],i=r[1],o=r[2],a=r[3],u=r[4],f=r[5],s=r[6],c=r[7],l=Math.cos(e),m=Math.sin(e);return t[0]=l*n+m*u,t[1]=l*i+m*f,t[2]=l*o+m*s,t[3]=l*a+m*c,t[4]=l*u-m*n,t[5]=l*f-m*i,t[6]=l*s-m*o,t[7]=l*c-m*a,r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t}function w(r,e,t){t=t||new S(16);var n=r[0],i=r[1],o=r[2],a=Math.sqrt(n*n+i*i+o*o);n/=a,i/=a,o/=a;var u=n*n,f=i*i,s=o*o,c=Math.cos(e),l=Math.sin(e),m=1-c;return t[0]=u+(1-u)*c,t[1]=n*i*m+o*l,t[2]=n*o*m-i*l,t[3]=0,t[4]=n*i*m-o*l,t[5]=f+(1-f)*c,t[6]=i*o*m+n*l,t[7]=0,t[8]=n*o*m+i*l,t[9]=i*o*m-n*l,t[10]=s+(1-s)*c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function x(r,e,t,n){n=n||new S(16);var i=e[0],o=e[1],a=e[2],u=Math.sqrt(i*i+o*o+a*a);i/=u,o/=u,a/=u;var f=i*i,s=o*o,c=a*a,l=Math.cos(t),m=Math.sin(t),p=1-l,d=f+(1-f)*l,h=i*o*p+a*m,v=i*a*p-o*m,y=i*o*p-a*m,E=s+(1-s)*l,A=o*a*p+i*m,g=i*a*p+o*m,T=o*a*p-i*m,b=c+(1-c)*l,_=r[0],w=r[1],x=r[2],R=r[3],U=r[4],P=r[5],B=r[6],I=r[7],F=r[8],M=r[9],C=r[10],O=r[11];return n[0]=d*_+h*U+v*F,n[1]=d*w+h*P+v*M,n[2]=d*x+h*B+v*C,n[3]=d*R+h*I+v*O,n[4]=y*_+E*U+A*F,n[5]=y*w+E*P+A*M,n[6]=y*x+E*B+A*C,n[7]=y*R+E*I+A*O,n[8]=g*_+T*U+b*F,n[9]=g*w+T*P+b*M,n[10]=g*x+T*B+b*C,n[11]=g*R+T*I+b*O,r!==n&&(n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15]),n}function R(r,e){return e=e||new S(16),e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=r[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function U(r,e,t){t=t||new S(16);var n=e[0],i=e[1],o=e[2];return t[0]=n*r[0],t[1]=n*r[1],t[2]=n*r[2],t[3]=n*r[3],t[4]=i*r[4],t[5]=i*r[5],t[6]=i*r[6],t[7]=i*r[7],t[8]=o*r[8],t[9]=o*r[9],t[10]=o*r[10],t[11]=o*r[11],r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t}function P(e,t,n){n=n||r.create();var i=t[0],o=t[1],a=t[2],u=i*e[3]+o*e[7]+a*e[11]+e[15];return n[0]=(i*e[0]+o*e[4]+a*e[8]+e[12])/u,n[1]=(i*e[1]+o*e[5]+a*e[9]+e[13])/u,n[2]=(i*e[2]+o*e[6]+a*e[10]+e[14])/u,n}function B(e,t,n){n=n||r.create();var i=t[0],o=t[1],a=t[2];return n[0]=i*e[0]+o*e[4]+a*e[8],n[1]=i*e[1]+o*e[5]+a*e[9],n[2]=i*e[2]+o*e[6]+a*e[10],n}function I(e,t,n){n=n||r.create();var i=a(e),o=t[0],u=t[1],f=t[2];return n[0]=o*i[0]+u*i[1]+f*i[2],n[1]=o*i[4]+u*i[5]+f*i[6],n[2]=o*i[8]+u*i[9]+f*i[10],n}var S=Float32Array,F=r.create(),M=r.create(),C=r.create();return{axisRotate:x,axisRotation:w,create:i,copy:n,frustum:d,getAxis:c,getTranslation:s,identity:i,inverse:a,lookAt:h,multiply:u,negate:t,ortho:p,perspective:m,rotateX:A,rotateY:T,rotateZ:_,rotateAxis:x,rotationX:E,rotationY:g,rotationZ:b,scale:U,scaling:R,setAxis:l,setDefaultType:e,setTranslation:f,transformDirection:B,transformNormal:I,transformPoint:P,translate:y,translation:v,transpose:o}}),t("twgl/primitives",["./attributes","./twgl","./utils","./m4","./v3"],function(r,e,t,n,i){function o(r,e){var t=0;return r.push=function(){for(var e=0;e<arguments.length;++e){var n=arguments[e];if(n instanceof Array||n.buffer&&n.buffer instanceof ArrayBuffer)for(var i=0;i<n.length;++i)r[t++]=n[i];else r[t++]=n}},r.reset=function(r){t=r||0},r.numComponents=e,Object.defineProperty(r,"numElements",{get:function(){return this.length/this.numComponents|0}}),r}function a(r,e,t){var n=t||Float32Array;return o(new n(r*e),r)}function u(r){return"indices"!==r}function f(r){function e(e){for(var o=r[e],u=o.numComponents,f=a(u,i,o.constructor),s=0;i>s;++s)for(var c=t[s],l=c*u,m=0;u>m;++m)f.push(o[l+m]);n[e]=f}var t=r.indices,n={},i=t.length;return Object.keys(r).filter(u).forEach(e),n}function s(r){if(r.indices)throw"can't flatten normals of indexed vertices. deindex them first";for(var e=r.normal,t=e.length,n=0;t>n;n+=9){var i=e[n+0],o=e[n+1],a=e[n+2],u=e[n+3],f=e[n+4],s=e[n+5],c=e[n+6],l=e[n+7],m=e[n+8],p=i+u+c,d=o+f+l,h=a+s+m,v=Math.sqrt(p*p+d*d+h*h);p/=v,d/=v,h/=v,e[n+0]=p,e[n+1]=d,e[n+2]=h,e[n+3]=p,e[n+4]=d,e[n+5]=h,e[n+6]=p,e[n+7]=d,e[n+8]=h}return r}function c(r,e,t){for(var n=r.length,i=new Float32Array(3),o=0;n>o;o+=3)t(e,[r[o],r[o+1],r[o+2]],i),r[o]=i[0],r[o+1]=i[1],r[o+2]=i[2]}function l(r,e,t){t=t||i.create();var n=e[0],o=e[1],a=e[2];return t[0]=n*r[0]+o*r[1]+a*r[2],t[1]=n*r[4]+o*r[5]+a*r[6],t[2]=n*r[8]+o*r[9]+a*r[10],t}function m(r,e){return c(r,e,n.transformDirection),r}function p(r,e){return c(r,n.inverse(e),l),r}function d(r,e){return c(r,e,n.transformPoint),r}function h(r,e){return Object.keys(r).forEach(function(t){var n=r[t];t.indexOf("pos")>=0?d(n,e):t.indexOf("tan")>=0||t.indexOf("binorm")>=0?m(n,e):t.indexOf("norm")>=0&&p(n,e)}),r}function v(r,e,t){return r=r||2,e=e||0,t=t||0,r*=.5,{position:{numComponents:2,data:[e+-1*r,t+-1*r,e+1*r,t+-1*r,e+-1*r,t+1*r,e+1*r,t+1*r]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function y(r,e,t,i,o){r=r||1,e=e||1,t=t||1,i=i||1,o=o||n.identity();for(var u=(t+1)*(i+1),f=a(3,u),s=a(3,u),c=a(2,u),l=0;i>=l;l++)for(var m=0;t>=m;m++){var p=m/t,d=l/i;f.push(r*p-.5*r,0,e*d-.5*e),s.push(0,1,0),c.push(p,d)}for(var v=t+1,y=a(3,t*i*2,Uint16Array),l=0;i>l;l++)for(var m=0;t>m;m++)y.push((l+0)*v+m,(l+1)*v+m,(l+0)*v+m+1),y.push((l+1)*v+m,(l+1)*v+m+1,(l+0)*v+m+1);var E=h({position:f,normal:s,texcoord:c,indices:y},o);return E}function E(r,e,t,n,i,o,u){if(0>=e||0>=t)throw Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,i=i||Math.PI,o=o||0,u=u||2*Math.PI;for(var f=i-n,s=u-o,c=(e+1)*(t+1),l=a(3,c),m=a(3,c),p=a(2,c),d=0;t>=d;d++)for(var h=0;e>=h;h++){var v=h/e,y=d/t,E=s*v,A=f*y,g=Math.sin(E),T=Math.cos(E),b=Math.sin(A),_=Math.cos(A),w=T*b,x=_,R=g*b;l.push(r*w,r*x,r*R),m.push(w,x,R),p.push(1-v,y)}for(var U=e+1,P=a(3,e*t*2,Uint16Array),h=0;e>h;h++)for(var d=0;t>d;d++)P.push((d+0)*U+h,(d+0)*U+h+1,(d+1)*U+h),P.push((d+1)*U+h,(d+0)*U+h+1,(d+1)*U+h+1);return{position:l,normal:m,texcoord:p,indices:P}}function A(r){r=r||1;for(var e=r/2,t=[[-e,-e,-e],[+e,-e,-e],[-e,+e,-e],[+e,+e,-e],[-e,-e,+e],[+e,-e,+e],[-e,+e,+e],[+e,+e,+e]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],i=[[1,0],[0,0],[0,1],[1,1]],o=24,u=a(3,o),f=a(3,o),s=a(2,o),c=a(3,12,Uint16Array),l=0;6>l;++l){for(var m=D[l],p=0;4>p;++p){var d=t[m[p]],h=n[l],v=i[p];u.push(d),f.push(h),s.push(v)}var y=4*l;c.push(y+0,y+1,y+2),c.push(y+0,y+2,y+3)}return{position:u,normal:f,texcoord:s,indices:c}}function g(r,e,t,n,i,o,u){if(3>n)throw Error("radialSubdivisions must be 3 or greater");if(1>i)throw Error("verticalSubdivisions must be 1 or greater");for(var f=void 0===o?!0:o,s=void 0===u?!0:u,c=(f?2:0)+(s?2:0),l=(n+1)*(i+1+c),m=a(3,l),p=a(3,l),d=a(2,l),h=a(3,n*(i+c)*2,Uint16Array),v=n+1,y=Math.atan2(r-e,t),E=Math.cos(y),A=Math.sin(y),g=f?-2:0,T=i+(s?2:0),b=g;T>=b;++b){var _,w=b/i,x=t*w;0>b?(x=0,w=1,_=r):b>i?(x=t,w=1,_=e):_=r+(e-r)*(b/i),(-2===b||b===i+2)&&(_=0,w=0),x-=t/2;for(var R=0;v>R;++R){var U=Math.sin(R*Math.PI*2/n),P=Math.cos(R*Math.PI*2/n);m.push(U*_,x,P*_),p.push(0>b||b>i?0:U*E,0>b?-1:b>i?1:A,0>b||b>i?0:P*E),d.push(R/n,1-w)}}for(var b=0;i+c>b;++b)for(var R=0;n>R;++R)h.push(v*(b+0)+0+R,v*(b+0)+1+R,v*(b+1)+1+R),h.push(v*(b+0)+0+R,v*(b+1)+1+R,v*(b+1)+0+R);return{position:m,normal:p,texcoord:d,indices:h}}function T(r,e){e=e||[];for(var t=[],n=0;n<r.length;n+=4){var i=r[n],o=r.slice(n+1,n+4);o.push.apply(o,e);for(var a=0;i>a;++a)t.push.apply(t,o)}return t}function b(){var r=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],e=[.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0],t=T([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),n=T([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),i=r.length/3,o={position:a(3,i),texcoord:a(2,i),normal:a(3,i),color:a(4,i,Uint8Array),indices:a(3,i/3,Uint16Array)};o.position.push(r),o.texcoord.push(e),o.normal.push(t),o.color.push(n);for(var u=0;i>u;++u)o.indices.push(u);return o}function _(r,e,t,n,o,u,f){function s(r,e,t){return r+(e-r)*t}function c(e,t,a,f,c,l){for(var d=0;o>=d;d++){var E=t/(m-1),A=d/o,g=2*(E-.5),T=(u+A*p)*Math.PI,b=Math.sin(T),_=Math.cos(T),w=s(r,e,b),x=g*n,R=_*r,U=b*w;h.push(x,R,U);var P=i.add(i.multiply([0,b,_],a),f);v.push(P),y.push(E*c+l,A)}}function l(r,e){for(var t=0;o>t;++t)g.push(r+t+0,r+t+1,e+t+0),g.push(r+t+1,e+t+1,e+t+0)}if(0>=o)throw Error("subdivisionDown must be > 0");u=u||0,f=f||1;for(var m=2,p=f-u,d=2*(o+1)*(2+m),h=a(3,d),v=a(3,d),y=a(2,d),E=0;m>E;E++){var A=2*(E/(m-1)-.5);c(e,E,[1,1,1],[0,0,0],1,0),c(e,E,[0,0,0],[A,0,0],0,0),c(t,E,[1,1,1],[0,0,0],1,0),c(t,E,[0,0,0],[A,0,0],0,1)}var g=a(3,2*o*(2+m),Uint16Array),T=o+1;return l(0*T,4*T),l(5*T,7*T),l(6*T,2*T),l(3*T,1*T),{position:h,normal:v,texcoord:y,indices:g}}function w(r,e,t,n,i,o){return g(r,r,e,t,n,i,o)}function x(r,e,t,n,i,o){if(3>t)throw Error("radialSubdivisions must be 3 or greater");if(3>n)throw Error("verticalSubdivisions must be 3 or greater");i=i||0,o=o||2*Math.PI,range=o-i;for(var u=t+1,f=n+1,s=u*f,c=a(3,s),l=a(3,s),m=a(2,s),p=a(3,t*n*2,Uint16Array),d=0;f>d;++d)for(var h=d/n,v=h*Math.PI*2,y=Math.sin(v),E=r+y*e,A=Math.cos(v),g=A*e,T=0;u>T;++T){var b=T/t,_=i+b*range,w=Math.sin(_),x=Math.cos(_),R=w*E,U=x*E,P=w*y,B=x*y;c.push(R,g,U),l.push(P,A,B),m.push(b,1-h)}for(var d=0;n>d;++d)for(var T=0;t>T;++T){var I=1+T,S=1+d;p.push(u*d+T,u*S+T,u*d+I),p.push(u*S+T,u*S+I,u*d+I)}return{position:c,normal:l,texcoord:m,indices:p}}function R(r,e,t,n,i){if(3>e)throw Error("divisions must be at least 3");t=t?t:1,i=i?i:1,n=n?n:0;for(var o=(e+1)*(t+1),u=a(3,o),f=a(3,o),s=a(2,o),c=a(3,t*e*2,Uint16Array),l=0,m=r-n,p=e+1,d=0;t>=d;++d){for(var h=n+m*Math.pow(d/t,i),v=0;e>=v;++v){var y=2*Math.PI*v/e,E=h*Math.cos(y),A=h*Math.sin(y);if(u.push(E,0,A),f.push(0,1,0),s.push(1-v/e,d/t),d>0&&v!==e){var g=l+(v+1),T=l+v,b=l+v-p,_=l+(v+1)-p;c.push(g,T,b),c.push(g,b,_)}}l+=e+1}return{position:u,normal:f,texcoord:s,indices:c}}function U(r){return Math.random()*r|0}function P(r,e){e=e||{};var t=r.position.numElements,n=a(4,t,Uint8Array),i=e.rand||function(r,e){return 3>e?U(256):255};if(r.color=n,r.indices)for(var o=0;t>o;++o)n.push(i(o,0),i(o,1),i(o,2),i(o,3));else for(var u=e.vertsPerColor||3,f=t/u,o=0;f>o;++o)for(var s=[i(o,0),i(o,1),i(o,2),i(o,3)],c=0;u>c;++c)n.push(s);return r}function B(r){return function(t){var n=r.apply(this,Array.prototype.slice.call(arguments,1));return e.createBuffersFromArrays(t,n)}}function I(r){return function(t){var n=r.apply(null,Array.prototype.slice.call(arguments,1));return e.createBufferInfoFromArrays(t,n)}}function S(r,e,t,n){n=n||0;for(var i=r.length,o=0;i>o;++o)e[t+o]=r[o]+n}function F(r,e){var n=O(r),i=new n.constructor(e),a=i;return n.numComponents&&n.numElements&&o(i,n.numComponents),r.data&&(a={data:i},t.copyNamedProperties(L,r,a)),a}function M(r){function e(e){for(var t,n=0,i=0;i<r.length;++i){var o=r[i],a=o[e],u=O(a);n+=u.length,(!t||a.data)&&(t=a)}return{length:n,spec:t}}function t(e,t,n){for(var i=0,o=0,a=0;a<r.length;++a){var u=r[a],f=u[e],s=O(f);"indices"===e?(S(s,n,o,i),i+=t[a]):S(s,n,o),o+=s.length}}for(var n,i={},o=0;o<r.length;++o){var a=r[o];Object.keys(a).forEach(function(r){i[r]||(i[r]=[]),n||"indices"===r||(n=r);var e=a[r],t=N(e,r),o=O(e),u=o.length/t;i[r].push(u)})}var u=i[n],f={};return Object.keys(i).forEach(function(r){var n=e(r),i=F(n.spec,n.length);t(r,u,O(i)),f[r]=i}),f}function C(r){var e={};return Object.keys(r).forEach(function(t){var n=r[t],i=O(n),o=F(n,i.length);S(i,O(o),0),e[t]=o}),e}var O=r.getArray_,N=r.getNumComponents_,D=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]],L=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];return{create3DFBufferInfo:I(b),create3DFBuffers:B(b),create3DFVertices:b,createAugmentedTypedArray:a,createCubeBufferInfo:I(A),createCubeBuffers:B(A),createCubeVertices:A,createPlaneBufferInfo:I(y),createPlaneBuffers:B(y),createPlaneVertices:y,createSphereBufferInfo:I(E),createSphereBuffers:B(E),createSphereVertices:E,createTruncatedConeBufferInfo:I(g),createTruncatedConeBuffers:B(g),createTruncatedConeVertices:g,createXYQuadBufferInfo:I(v),createXYQuadBuffers:B(v),createXYQuadVertices:v,createCresentBufferInfo:I(_),createCresentBuffers:B(_),createCresentVertices:_,createCylinderBufferInfo:I(w),createCylinderBuffers:B(w),createCylinderVertices:w,createTorusBufferInfo:I(x),createTorusBuffers:B(x),createTorusVertices:x,createDiscBufferInfo:I(R),createDiscBuffers:B(R),createDiscVertices:R,deindexVertices:f,flattenNormals:s,makeRandomVertexColors:P,reorientDirections:m,reorientNormals:p,reorientPositions:d,reorientVertices:h,concatVertices:M,duplicateVertices:C}}),t("main",["twgl/twgl","twgl/m4","twgl/v3","twgl/primitives"],function(r,e,t,n){return r.m4=e,r.v3=t,r.primitives=n,r}),e(["main"],function(r){return r},void 0,!0),t("build/js/twgl-includer-full",function(){}),e("main")});