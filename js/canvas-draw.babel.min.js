"use strict";$(function(){var d=$("#canvas")[0];var q=d.getContext("2d");$(d).css("border","1px solid #000");var p=new DragDetector(d,i,l,e,k);var n={FillRect:0,StretchRotate:1};var f=[Mesh.nGon(5),Mesh.nGon(6),Mesh.nStar(2,0.5,1),Mesh.nStar(5,0.4,1),Mesh.bat()];var m=$("#selectDrawMode").val();var b=f[$("#selectShape").val()];var g=$("#pickFillColor").val();var o=$("#pickStrokeColor").val();var a=6;$("#selectDrawMode").change(function(){m=$(this).find("option:selected").val()});$("#selectShape").change(function(){b=f[$(this).val()]});$("#pickFillColor").change(function(){g=$(this).val()});$("#pickStrokeColor").change(function(){o=$(this).val()});q.font="16px sans-serif";q.fillText("Click and drag to draw shape.",10,50);var c=new Rect(0,0,0,0);var j=new Rect(0,0,0,0);j.lineWidth=4;j.strokeColor="blue";j.fillColor="lightBlue";var r=Path.withCapacity(2);r.lineWidth=4;r.strokeColor="red";var h=void 0;function i(s){h=s;c=new Shape(b,g);c.lineWidth=a;c.strokeColor=o}function l(s){if(m==n.FillRect){var t=Rect.fromLBRT(h.x,h.y,s.x,s.y);c.setBounds(t,ScaleToFit.Fill);j.set(t)}else{if(m==n.StretchRotate){c.setEndPoints(h,s);r.setPoint(h,0);r.setPoint(s,1)}}d.draw()}function e(){if(m==n.FillRect){j.setEmpty()}else{if(m==n.StretchRotate){r.data.fill(0)}}d.draw()}function k(){e()}d.draw=function(){q.clearRect(0,0,d.offsetWidth,d.offsetHeight);if(m==n.FillRect){j.draw(q);c.draw(q)}else{if(m==n.StretchRotate){c.draw(q);r.draw(q)}}}});