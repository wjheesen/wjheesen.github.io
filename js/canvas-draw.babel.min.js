"use strict";$(function(){var e=$("#canvas")[0];var r=e.getContext("2d");function a(){e.style.width="100%";e.width=e.offsetWidth}a();$(e).css("border","1px solid #000");window.onresize=function(){a();e.draw()};var q=new DragDetector(e,j,m,f,l);var o={FillRect:0,StretchRotate:1};var g=[Mesh.nGon(5),Mesh.nGon(6),Mesh.nStar(2,0.5,1),Mesh.nStar(5,0.4,1),Mesh.bat()];var n=$("#selectDrawMode").val();var c=g[$("#selectShape").val()];var h=$("#pickFillColor").val();var p=$("#pickStrokeColor").val();var b=6;$("#selectDrawMode").change(function(){n=$(this).find("option:selected").val()});$("#selectShape").change(function(){c=g[$(this).val()]});$("#pickFillColor").change(function(){h=$(this).val()});$("#pickStrokeColor").change(function(){p=$(this).val()});r.font="16px sans-serif";r.fillText("Click and drag to draw shape.",10,50);var d=new Rect(0,0,0,0);var k=new Rect(0,0,0,0);k.lineWidth=4;k.strokeColor="blue";k.fillColor="lightBlue";var s=Path.withCapacity(2);s.lineWidth=4;s.strokeColor="red";var i=void 0;function j(t){i=t;d=new Shape(c,h);d.lineWidth=b;d.strokeColor=p}function m(t){if(n==o.FillRect){var u=Rect.fromLBRT(i.x,i.y,t.x,t.y);d.setBounds(u,ScaleToFit.Fill);k.set(u)}else{if(n==o.StretchRotate){d.setEndPoints(i,t);s.setPoint(i,0);s.setPoint(t,1)}}e.draw()}function f(){if(n==o.FillRect){k.setEmpty()}else{if(n==o.StretchRotate){s.data.fill(0)}}e.draw()}function l(){f()}e.draw=function(){r.clearRect(0,0,e.offsetWidth,e.offsetHeight);if(n==o.FillRect){k.draw(r);d.draw(r)}else{if(n==o.StretchRotate){d.draw(r);s.draw(r)}}}});