/**
 * @license twgl.js 2.1.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/twgl.js for details
 */
/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */
(function(n,t){typeof define=="function"&&define.amd&&define([],t);typeof module!="undefined"&&module.exports?module.exports=t():n.twgl=t()})(this,function(){
/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */
var i,t,n;return function(r){function e(n,t){return k.call(n,t)}function l(n,t){var o,s,r,u,h,y,c,b,i,l,w,e=t&&t.split("/"),a=f.map,v=a&&a["*"]||{};if(n&&n.charAt(0)===".")if(t){for(n=n.split("/"),h=n.length-1,f.nodeIdCompat&&p.test(n[h])&&(n[h]=n[h].replace(p,"")),n=e.slice(0,e.length-1).concat(n),i=0;i<n.length;i+=1)if(w=n[i],w===".")n.splice(i,1),i-=1;else if(w==="..")if(i===1&&(n[2]===".."||n[0]===".."))break;else i>0&&(n.splice(i-1,2),i-=2);n=n.join("/")}else n.indexOf("./")===0&&(n=n.substring(2));if((e||v)&&a){for(o=n.split("/"),i=o.length;i>0;i-=1){if(s=o.slice(0,i).join("/"),e)for(l=e.length;l>0;l-=1)if(r=a[e.slice(0,l).join("/")],r&&(r=r[s],r)){u=r;y=i;break}if(u)break;!c&&v&&v[s]&&(c=v[s],b=i)}!u&&c&&(u=c,y=b);u&&(o.splice(0,y,u),n=o.join("/"))}return n}function w(n,t){return function(){var i=d.call(arguments,0);return typeof i[0]!="string"&&i.length===1&&i.push(null),o.apply(r,i.concat([n,t]))}}function g(n){return function(t){return l(t,n)}}function nt(n){return function(t){u[n]=t}}function a(n){if(e(h,n)){var t=h[n];delete h[n];y[n]=!0;c.apply(r,t)}if(!e(u,n)&&!e(y,n))throw new Error("No "+n);return u[n]}function b(n){var i,t=n?n.indexOf("!"):-1;return t>-1&&(i=n.substring(0,t),n=n.substring(t+1,n.length)),[i,n]}function tt(n){return function(){return f&&f.config&&f.config[n]||{}}}var c,o,v,s,u={},h={},f={},y={},k=Object.prototype.hasOwnProperty,d=[].slice,p=/\.js$/;v=function(n,t){var r,u=b(n),i=u[0];return n=u[1],i&&(i=l(i,t),r=a(i)),i?n=r&&r.normalize?r.normalize(n,g(t)):l(n,t):(n=l(n,t),u=b(n),i=u[0],n=u[1],i&&(r=a(i))),{f:i?i+"!"+n:n,n:n,pr:i,p:r}};s={notrequirebecasebrowserifymessesup:function(n){return w(n)},exports:function(n){var t=u[n];return typeof t!="undefined"?t:u[n]={}},module:function(n){return{id:n,uri:"",exports:u[n],config:tt(n)}}};c=function(n,t,i,f){var p,o,k,b,c,l=[],d=typeof i,g;if(f=f||n,d==="undefined"||d==="function"){for(t=!t.length&&i.length?["notrequirebecasebrowserifymessesup","exports","module"]:t,c=0;c<t.length;c+=1)if(b=v(t[c],f),o=b.f,o==="notrequirebecasebrowserifymessesup")l[c]=s.notrequirebecasebrowserifymessesup(n);else if(o==="exports")l[c]=s.exports(n),g=!0;else if(o==="module")p=l[c]=s.module(n);else if(e(u,o)||e(h,o)||e(y,o))l[c]=a(o);else if(b.p)b.p.load(b.n,w(f,!0),nt(o),{}),l[c]=u[o];else throw new Error(n+" missing "+o);k=i?i.apply(u[n],l):undefined;n&&(p&&p.exports!==r&&p.exports!==u[n]?u[n]=p.exports:k===r&&g||(u[n]=k))}else n&&(u[n]=i)};i=t=o=function(n,t,i,u,e){if(typeof n=="string")return s[n]?s[n](t):a(v(n,t).f);if(!n.splice){if(f=n,f.deps&&o(f.deps,f.callback),!t)return;t.splice?(n=t,t=i,i=null):n=r}return t=t||function(){},typeof i=="function"&&(i=u,u=e),u?c(r,n,t,i):setTimeout(function(){c(r,n,t,i)},4),o};o.config=function(n){return o(n)};i._defined=u;n=function(n,t,i){if(typeof n!="string")throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]);e(u,n)||e(h,n)||(h[n]=[n,t,i])};n.amd={jQuery:!0}}(),n("node_modules/almond/almond.js",function(){}),n("twgl/typedarrays",[],function(){function o(o){if(o instanceof Int8Array)return t;if(o instanceof Uint8Array||o instanceof Uint8ClampedArray)return n;if(o instanceof Int16Array)return i;if(o instanceof Uint16Array)return r;if(o instanceof Int32Array)return u;if(o instanceof Uint32Array)return f;if(o instanceof Float32Array)return e;throw"unsupported typed array type";}function s(o){switch(o){case t:return Int8Array;case n:return Uint8Array;case i:return Int16Array;case r:return Uint16Array;case u:return Int32Array;case f:return Uint32Array;case e:return Float32Array;default:throw"unknown gl type";}}function h(n){return n&&n.buffer&&n.buffer instanceof ArrayBuffer}var c=undefined,t=5120,n=5121,i=5122,r=5123,u=5124,f=5125,e=5126;return{getGLTypeForTypedArray:o,getTypedArrayTypeForGLType:s,isArrayBuffer:h}}),n("twgl/utils",[],function(){function n(n){var t={};return Object.keys(n).forEach(function(i){t[i]=n[i]}),t}function t(n,t,i){n.forEach(function(n){var r=t[n];r!==undefined&&(i[n]=r)})}function i(n,t){Object.keys(t).forEach(function(i){t.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(t[i]=n[i])})}function r(n){return parseFloat(n.getParameter(n.VERSION).substr(6))}function u(n){return n.getParameter(n.VERSION).indexOf("WebGL 2.0")===0}function f(n){var t=r(n);return t<=1&&t>0}var e=window.console&&window.console.error&&typeof window.console.error=="function"?window.console.error.bind(window.console):function(){},o=window.console&&window.console.warn&&typeof window.console.warn=="function"?window.console.warn.bind(window.console):function(){};return{copyExistingProperties:i,copyNamedProperties:t,shallowCopy:n,isWebGL1:f,isWebGL2:u,error:e,warn:o}}),n("twgl/attributes",["./typedarrays","./utils",],function(n,t){function l(n){u.attribPrefix=n}function a(n){t.copyExistingProperties(n,u)}function o(n,t,i,r,u){n.bindBuffer(t,i);n.bufferData(t,r,u||n.STATIC_DRAW)}function i(n,t,i,r){if(t instanceof WebGLBuffer)return t;i=i||n.ARRAY_BUFFER;var u=n.createBuffer();return o(n,i,u,t,r),u}function s(n){return n==="indices"}function v(n){return n instanceof Int8Array?!0:n instanceof Uint8Array?!0:!1}function f(n){return n.length?n:n.data}function w(n,t){var i;if(i=y.test(n)?2:p.test(n)?4:3,t%i>0)throw"Can not guess numComponents for attribute '"+n+"'. Tried "+i+" but "+t+" values is not evenly divisible by "+i+". You should specify it.";return i}function e(n,t){return n.numComponents||n.size||w(t,f(n).length)}function r(t,i){if(n.isArrayBuffer(t))return t;if(n.isArrayBuffer(t.data))return t.data;Array.isArray(t)&&(t={data:t});var r=t.type;return r||(r=s(i)?Uint16Array:Float32Array),new r(t.data)}function h(t,f){var o={};return Object.keys(f).forEach(function(h){if(!s(h)){var c=f[h],a=c.attrib||c.name||c.attribName||u.attribPrefix+h,l=r(c,h);o[a]={buffer:i(t,l,undefined,c.drawType),numComponents:e(c,h),type:n.getGLTypeForTypedArray(l),normalize:c.normalize!==undefined?c.normalize:v(l),stride:c.stride||0,offset:c.offset||0,drawType:c.drawType}}}),o}function b(n,t,i,u){i=r(i);u?(n.bindBuffer(n.ARRAY_BUFFER,t.buffer),n.bufferSubData(n.ARRAY_BUFFER,u,i)):o(n,n.ARRAY_BUFFER,t.buffer,i,t.drawType)}function d(t,u){var e={attribs:h(t,u)},f=u.indices;return f?(f=r(f,"indices"),e.indices=i(t,f,t.ELEMENT_ARRAY_BUFFER),e.numElements=f.length,e.elementType=n.getGLTypeForTypedArray(f)):e.numElements=k(u),e}function c(n,t,u){var f=u==="indices"?n.ELEMENT_ARRAY_BUFFER:n.ARRAY_BUFFER,e=r(t,u);return i(n,e,f)}function g(n,t){var i={};return Object.keys(t).forEach(function(r){i[r]=c(n,t[r],r)}),i}function nt(n,t,i){var r=n.createVertexArray();return n.bindVertexArray(r),t.length||(t=[t]),t.forEach(function(t){twgl.setBuffersAndAttributes(n,t,i)}),n.bindVertexArray(null),{numElements:i.numElements,elementType:i.elementType,vertexArrayObject:r}}var tt=undefined,u={attribPrefix:""},y=/coord|texture/i,p=/color|colour/i,k=function(){var n=["position","positions","a_position"];return function(t){for(var i,r=0;r<n.length;++r)if(i=n[r],i in t)break;r===n.length&&(i=Object.keys(t)[0]);var s=t[i],u=f(s).length,o=e(s,i),h=u/o;if(u%o>0)throw"numComponents "+o+" not correct for length "+u;return h}}();return{createAttribsFromArrays:h,createBuffersFromArrays:g,createBufferFromArray:c,createBufferFromTypedArray:i,createBufferInfoFromArrays:d,setAttribInfoBufferFromArray:b,createVertexArrayInfo:nt,setAttributePrefix:l,setDefaults_:a,getNumComponents_:e,getArray_:f}}),n("twgl/programs",["./utils",],function(n){function b(n,i){return t[i].bindPoint}function vt(n,t){return function(i){n.uniform1f(t,i)}}function yt(n,t){return function(i){n.uniform1fv(t,i)}}function pt(n,t){return function(i){n.uniform2fv(t,i)}}function wt(n,t){return function(i){n.uniform3fv(t,i)}}function bt(n,t){return function(i){n.uniform4fv(t,i)}}function k(n,t){return function(i){n.uniform1i(t,i)}}function d(n,t){return function(i){n.uniform1iv(t,i)}}function g(n,t){return function(i){n.uniform2iv(t,i)}}function nt(n,t){return function(i){n.uniform3iv(t,i)}}function tt(n,t){return function(i){n.uniform4iv(t,i)}}function kt(n,t){return function(i){n.uniform1ui(t,i)}}function dt(n,t){return function(i){n.uniform1uiv(t,i)}}function gt(n,t){return function(i){n.uniform2uiv(t,i)}}function ni(n,t){return function(i){n.uniform3uiv(t,i)}}function ti(n,t){return function(i){n.uniform4uiv(t,i)}}function ii(n,t){return function(i){n.uniformMatrix2fv(t,!1,i)}}function ri(n,t){return function(i){n.uniformMatrix3fv(t,!1,i)}}function ui(n,t){return function(i){n.uniformMatrix4fv(t,!1,i)}}function fi(n,t){return function(i){n.uniformMatrix2x3fv(t,!1,i)}}function ei(n,t){return function(i){n.uniformMatrix3x2fv(t,!1,i)}}function oi(n,t){return function(i){n.uniformMatrix2x4fv(t,!1,i)}}function si(n,t){return function(i){n.uniformMatrix4x2fv(t,!1,i)}}function hi(n,t){return function(i){n.uniformMatrix3x4fv(t,!1,i)}}function ci(n,t){return function(i){n.uniformMatrix4x3fv(t,!1,i)}}function i(n,t,i,r){var u=b(n,t);return function(t){n.uniform1i(r,i);n.activeTexture(n.TEXTURE0+i);n.bindTexture(u,t)}}function r(n,t,i,r,u){for(var o=b(n,t),e=new Int32Array(u),f=0;f<u;++f)e[f]=i+f;return function(t){n.uniform1iv(r,e);t.forEach(function(t,i){n.activeTexture(n.TEXTURE0+e[i]);n.bindTexture(o,t)})}}function ai(n,t){return t=t||0,++t,n.split("\n").map(function(n,i){return i+t+": "+n}).join("\n")}function it(n,t,i,r){var h=r||s,u=n.createShader(i),f=0,e,o;return(c.test(t)&&(f=1,t=t.replace(c,"")),n.shaderSource(u,t),n.compileShader(u),e=n.getShaderParameter(u,n.COMPILE_STATUS),!e)?(o=n.getShaderInfoLog(u),h(ai(t,f)+"\n*** Error compiling shader: "+o),n.deleteShader(u),null):u}function l(n,t,i,r,u){var e,f,o,h;return(typeof r=="function"&&(u=r,r=undefined),typeof i=="function"&&(u=i,i=undefined),e=u||s,f=n.createProgram(),t.forEach(function(t){n.attachShader(f,t)}),i&&i.forEach(function(t,i){n.bindAttribLocation(f,r?r[i]:i,t)}),n.linkProgram(f),o=n.getProgramParameter(f,n.LINK_STATUS),!o)?(h=n.getProgramInfoLog(f),e("Error in program linking:"+h),n.deleteProgram(f),null):f}function vi(n,t,i,r){var e="",u,f=document.getElementById(t);if(!f)throw"*** Error: unknown script element"+t;if(e=f.text,!i)if(f.type==="x-shader/x-vertex")u=n.VERTEX_SHADER;else if(f.type==="x-shader/x-fragment")u=n.FRAGMENT_SHADER;else if(u!==n.VERTEX_SHADER&&u!==n.FRAGMENT_SHADER)throw"*** Error: unknown shader type";return it(n,e,i?i:u,r)}function yi(n,t,i,r,u){for(var e,o=[],f=0;f<t.length;++f){if(e=vi(n,t[f],n[a[f]],u),!e)return null;o.push(e)}return l(n,o,i,r,u)}function rt(n,t,i,r,u){for(var e,o=[],f=0;f<t.length;++f){if(e=it(n,t[f],n[a[f]],u),!e)return null;o.push(e)}return l(n,o,i,r,u)}function ut(n,i){function h(i,r){var f=n.getUniformLocation(i,r.name),h=r.size>1&&r.name.substr(-3)==="[0]",o=r.type,u=t[o],s;if(!u)throw"unknown type: 0x"+o.toString(16);return u.bindPoint?(s=e,e+=r.size,h?u.arraySetter(n,o,s,f,r.size):u.setter(n,o,s,f,r.size)):u.arraySetter&&h?u.arraySetter(n,f):u.setter(n,f)}for(var u,r,s,e=0,o={},c=n.getProgramParameter(i,n.ACTIVE_UNIFORMS),f=0;f<c;++f){if(u=n.getActiveUniform(i,f),!u)break;r=u.name;r.substr(-3)==="[0]"&&(r=r.substr(0,r.length-3));s=h(i,u);o[r]=s}return o}function ft(n,t){for(var f,e,s,h,r,c=n.getProgramParameter(t,n.ACTIVE_UNIFORMS),u=[],o=[],i=0;i<c;++i){if(o.push(i),u.push({}),f=n.getActiveUniform(t,i),!f)break;u[i].name=f.name}for([["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset",],].forEach(function(i){var r=i[0],f=i[1];n.getActiveUniforms(t,o,n[r]).forEach(function(n,t){u[t][f]=n})}),e={},s=n.getProgramParameter(t,n.ACTIVE_UNIFORM_BLOCKS),i=0;i<s;++i)h=n.getActiveUniformBlockName(t,i),r={index:i,usedByVertexShader:n.getActiveUniformBlockParameter(t,i,n.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:n.getActiveUniformBlockParameter(t,i,n.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:n.getActiveUniformBlockParameter(t,i,n.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:n.getActiveUniformBlockParameter(t,i,n.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)},r.used=r.usedByVertexSahder||r.usedByFragmentShader,e[h]=r;return{blockSpecs:e,uniformData:u}}function et(n,i,r,u){var c=r.blockSpecs,l=r.uniformData,e=c[u],f,s;if(!e)return at("no uniform block object named:",u),{name:u,uniforms:{}};var o=new ArrayBuffer(e.size),h=n.createBuffer(),a=e.index;return n.bindBuffer(n.UNIFORM_BUFFER,h),n.uniformBlockBinding(i,e.index,a),f=u+".",v.test(f)&&(f=f.replace(v,".")),s={},e.uniformIndices.forEach(function(n){var i=l[n],u=t[i.type],e=u.Type,h=i.size*u.size,r=i.name;r.substr(0,f.length)===f&&(r=r.substr(f.length));s[r]=new e(o,i.offset,h/e.BYTES_PER_ELEMENT)}),{name:u,array:o,asFloat:new Float32Array(o),buffer:h,uniforms:s}}function pi(n,t,i){return et(n,t.program,t.uniformBlockSpec,i)}function ot(n,t,i){var f=t.uniformBlockSpec||t,r=f.blockSpecs[i.name],u;return r?(u=r.index,n.bindBufferRange(n.UNIFORM_BUFFER,u,i.buffer,i.offset||0,i.array.byteLength),!0):!1}function wi(n,t,i){ot(n,t,i)&&n.bufferData(n.UNIFORM_BUFFER,i.array,n.DYNAMIC_DRAW)}function bi(n,t){var f=n.uniforms,u,i,r;for(u in t)i=f[u],i&&(r=t[u],r.length?i.set(r):i[0]=r)}function st(n){for(var t,o,i,u,f,e=n.uniformSetters||n,s=arguments.length,r=1;r<s;++r)if(t=arguments[r],Array.isArray(t))for(o=t.length,i=0;i<o;++i)st(e,t[i]);else for(u in t)f=e[u],f&&f(t[u])}function ht(n,i){function h(t){return function(i){n.bindBuffer(n.ARRAY_BUFFER,i.buffer);n.enableVertexAttribArray(t);n.vertexAttribPointer(t,i.numComponents||i.size,i.type||n.FLOAT,i.normalize||!1,i.stride||0,i.offset||0)}}function c(i,r){var f=r.size,u=r.count;return function(r){var e;n.bindBuffer(n.ARRAY_BUFFER,r.buffer);var o=r.size||r.numComponents||f,c=o/u,s=r.type||n.FLOAT,l=t[s],h=l.size*o,a=r.normalize||!1,v=r.offset||0,y=h/u;for(e=0;e<u;++e)n.enableVertexAttribArray(i+e),n.vertexAttribPointer(i+e,c,s,a,h,v+y*e)}}for(var r,e,o,s={},l=n.getProgramParameter(i,n.ACTIVE_ATTRIBUTES),f=0;f<l;++f){if(r=n.getActiveAttrib(i,f),!r)break;e=n.getAttribLocation(i,r.name);o=u[r.type];s[r.name]=o?c(e,o):h(e)}return s}function ct(n,t){var i,r;for(i in t)r=n[i],r&&r(t[i])}function ki(n,t,i){i.vertexArrayObject?n.bindVertexArray(i.vertexArrayObject):(ct(t.attribSetters||t,i.attribs),i.indices&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,i.indices))}function lt(t,i){var u=ut(t,i),f=ht(t,i),r={program:i,uniformSetters:u,attribSetters:f};return n.isWebGL2(t)&&(r.uniformBlockSpec=ft(t,i)),r}function di(n,t,i,r,u){var o,f,e;return(typeof r=="function"&&(u=r,r=undefined),typeof i=="function"&&(u=i,i=undefined),o=u||s,f=!0,t=t.map(function(n){if(n.indexOf("\n")<0){var t=document.getElementById(n);t?n=t.text:(o("no element with id: "+n),f=!1)}return n}),!f)?null:(e=rt(n,t,i,r,u),!e)?null:lt(n,e)}var s=n.error,at=n.warn,y=35674,p=35675,w=35676,f=3553,e=34067,h=32879,o=35866,t={},u,li,c,a,v;return t[5126]={Type:Float32Array,size:4,setter:vt,arraySetter:yt},t[35664]={Type:Float32Array,size:8,setter:pt},t[35665]={Type:Float32Array,size:12,setter:wt},t[35666]={Type:Float32Array,size:16,setter:bt},t[5124]={Type:Int32Array,size:4,setter:k,arraySetter:d},t[35667]={Type:Int32Array,size:8,setter:g},t[35668]={Type:Int32Array,size:12,setter:nt},t[35669]={Type:Int32Array,size:16,setter:tt},t[5125]={Type:Uint32Array,size:4,setter:kt,arraySetter:dt},t[36294]={Type:Uint32Array,size:8,setter:gt},t[36295]={Type:Uint32Array,size:12,setter:ni},t[36296]={Type:Uint32Array,size:16,setter:ti},t[35670]={Type:Uint32Array,size:4,setter:k,arraySetter:d},t[35671]={Type:Uint32Array,size:8,setter:g},t[35672]={Type:Uint32Array,size:12,setter:nt},t[35673]={Type:Uint32Array,size:16,setter:tt},t[y]={Type:Float32Array,size:16,setter:ii},t[p]={Type:Float32Array,size:36,setter:ri},t[w]={Type:Float32Array,size:64,setter:ui},t[35685]={Type:Float32Array,size:24,setter:fi},t[35686]={Type:Float32Array,size:32,setter:oi},t[35687]={Type:Float32Array,size:24,setter:ei},t[35688]={Type:Float32Array,size:48,setter:hi},t[35689]={Type:Float32Array,size:32,setter:si},t[35690]={Type:Float32Array,size:48,setter:ci},t[35678]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:f},t[35680]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:e},t[35679]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:h},t[35682]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:f},t[36289]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:o},t[36292]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:o},t[36293]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:e},t[36298]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:f},t[36299]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:h},t[36300]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:e},t[36303]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:o},t[36306]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:f},t[36307]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:h},t[36308]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:e},t[36311]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:o},u={},u[y]={size:4,count:2},u[p]={size:9,count:3},u[w]={size:16,count:4},li=undefined,c=/^[ \t]*\n/,a=["VERTEX_SHADER","FRAGMENT_SHADER",],v=/\[\d+\]\.$/,{createAttributeSetters:ht,createProgram:l,createProgramFromScripts:yi,createProgramFromSources:rt,createProgramInfo:di,createProgramInfoFromProgram:lt,createUniformSetters:ut,createUniformBlockSpecFromProgram:ft,createUniformBlockInfoFromProgram:et,createUniformBlockInfo:pi,setAttributes:ct,setBuffersAndAttributes:ki,setUniforms:st,setUniformBlock:wi,setBlockUniforms:bi,bindUniformBlock:ot}}),n("twgl/draw",["./programs",],function(n){function t(n,t,i,r,u){i=i===undefined?n.TRIANGLES:i;var o=t.indices,f=t.elementType,e=r===undefined?t.numElements:r;u=u===undefined?0:u;f||o?n.drawElements(i,e,f===undefined?n.UNSIGNED_SHORT:t.elementType,u):n.drawArrays(i,u,e)}function i(i,r){var f=null,u=null;r.forEach(function(r){if(r.active!==!1){var e=r.programInfo,o=r.vertexArrayInfo||r.bufferInfo,s=!1,h=r.type===undefined?i.TRIANGLES:r.type;e!==f&&(f=e,i.useProgram(e.program),s=!0);(s||o!==u)&&(u&&u.vertexArrayObject&&!o.vertexArrayObject&&i.bindVertexArray(null),u=o,n.setBuffersAndAttributes(i,e,o));n.setUniforms(e,r.uniforms);t(i,o,h,r.count,r.offset)}});u.vertexArrayObject&&i.bindVertexArray(null)}return{drawBufferInfo:t,drawObjectList:i}}),n("twgl/textures",["./typedarrays","./utils",],function(n,t){function v(n){i.textureColor=new Uint8Array([n[0]*255,n[1]*255,n[2]*255,n[3]*255])}function st(n){t.copyExistingProperties(n,i);n.textureColor&&v(n.textureColor)}function e(n,t){t.colorspaceConversion!==undefined&&(u.colorspaceConversion=n.getParameter(n.UNPACK_COLORSPACE_CONVERSION_WEBGL),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.colorspaceConversion));t.premultiplyAlpha!==undefined&&(u.premultiplyAlpha=n.getParameter(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha));t.flipY!==undefined&&(u.flipY=n.getParameter(n.UNPACK_FLIP_Y_WEBGL),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,t.flipY))}function o(n,t){t.colorspaceConversion!==undefined&&n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,u.colorspaceConversion);t.premultiplyAlpha!==undefined&&n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u.premultiplyAlpha);t.flipY!==undefined&&n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,u.flipY)}function h(n,t,i){var r=i.target||n.TEXTURE_2D;n.bindTexture(r,t);i.min&&n.texParameteri(r,n.TEXTURE_MIN_FILTER,i.min);i.mag&&n.texParameteri(r,n.TEXTURE_MAG_FILTER,i.mag);i.wrap&&(n.texParameteri(r,n.TEXTURE_WRAP_S,i.wrap),n.texParameteri(r,n.TEXTURE_WRAP_T,i.wrap),r===n.TEXTURE_3D&&n.texParameteri(r,n.TEXTURE_WRAP_R,i.wrap));i.wrapR&&n.texParameteri(r,n.TEXTURE_WRAP_R,i.wrapR);i.wrapS&&n.texParameteri(r,n.TEXTURE_WRAP_S,i.wrapS);i.wrapT&&n.texParameteri(r,n.TEXTURE_WRAP_T,i.wrapT);i.minLod&&n.texParameteri(r,n.TEXTURE_MIN_LOD,i.minLod);i.maxLod&&n.texParameteri(r,n.TEXTURE_MAX_LOD,i.maxLod);i.baseLevel&&n.texParameteri(r,n.TEXTURE_BASE_LEVEL,i.baseLevel);i.maxLevel&&n.texParameteri(r,n.TEXTURE_MAX_LEVEL,i.maxLevel)}function ct(n){return(n=n||i.textureColor,r(n))?n:new Uint8Array([n[0]*255,n[1]*255,n[2]*255,n[3]*255])}function y(n){return(n&n-1)==0}function c(n,t,r,u,f){r=r||i.textureOptions;var e=r.target||n.TEXTURE_2D;u=u||r.width;f=f||r.height;n.bindTexture(e,t);y(u)&&y(f)?n.generateMipmap(e):(n.texParameteri(e,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(e,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(e,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE))}function l(n,t){return t=t||{},t.cubeFaceOrder||[n.TEXTURE_CUBE_MAP_POSITIVE_X,n.TEXTURE_CUBE_MAP_NEGATIVE_X,n.TEXTURE_CUBE_MAP_POSITIVE_Y,n.TEXTURE_CUBE_MAP_NEGATIVE_Y,n.TEXTURE_CUBE_MAP_POSITIVE_Z,n.TEXTURE_CUBE_MAP_NEGATIVE_Z,]}function p(n,t){var r=l(n,t),i=r.map(function(n,t){return{face:n,ndx:t}});return i.sort(function(n,t){return n.face-t.face}),i}function f(){}function w(n,r,u){function o(){e.removeEventListener("error",s);e.removeEventListener("load",h);e=null}function s(){var i="couldn't load image: "+n;t.error(i);u(i,e);o()}function h(){u(null,e);o()}u=u||f;var e=new Image;return r=r!==undefined?r:i.crossOrigin,r!==undefined&&(e.crossOrigin=r),e.addEventListener("error",s),e.addEventListener("load",h),e.src=n,e}function b(n,t,r){var u,f,e;if(r=r||i.textureOptions,u=r.target||n.TEXTURE_2D,n.bindTexture(u,t),r.color!==!1)if(f=ct(r.color),u===n.TEXTURE_CUBE_MAP)for(e=0;e<6;++e)n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,f);else u===n.TEXTURE_3D?n.texImage3D(u,0,n.RGBA,1,1,1,0,n.RGBA,n.UNSIGNED_BYTE,f):n.texImage2D(u,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,f)}function k(n,r,u,e){e=e||f;u=u||i.textureOptions;b(n,r,u);u=t.shallowCopy(u);return w(u.src,u.crossOrigin,function(t,i){t?e(t,r,i):(a(n,r,i,u),e(null,r,i))})}function lt(n,i,r,u){function d(t){return function(f,c){--v;f?h.push(f):c.width!==c.height?h.push("cubemap face img is not a square: "+c.src):(e(n,r),n.bindTexture(a,i),v===5?l(n).forEach(function(t){n.texImage2D(t,0,s,s,y,c)}):n.texImage2D(t,0,s,s,y,c),o(n,r),n.generateMipmap(a));v===0&&u(h.length?h:undefined,p,i)}}var c;if(u=u||f,c=r.src,c.length!==6)throw"there must be 6 urls for a cubemap";var s=r.format||n.RGBA,y=r.type||n.UNSIGNED_BYTE,a=r.target||n.TEXTURE_2D;if(a!==n.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";b(n,i,r);r=t.shallowCopy(r);var v=6,h=[],p,k=l(n,r);p=c.map(function(n,t){return w(n,r.crossOrigin,d(k[t]))})}function d(n){switch(n){case rt:case et:return 1;case ot:return 2;case ut:return 3;case ft:return 4;default:throw"unknown type: "+n;}}function g(t,i){return r(i)?n.getGLTypeForTypedArray(i):t.UNSIGNED_BYTE}function s(n,t,i,r,u){if(u%1!=0)throw"can't guess dimensions";if(i||r){if(r){if(!i&&(i=u/r,i%1))throw"can't guess dimensions";}else if(r=u/i,r%1)throw"can't guess dimensions";}else{var f=Math.sqrt(u/(t===n.TEXTURE_CUBE_MAP?6:1));f%1==0?(i=f,r=f):(i=u,r=1)}return{width:i,height:r}}function nt(t,u,f,h){var v,a,k,ut,it;h=h||i.textureOptions;v=h.target||t.TEXTURE_2D;t.bindTexture(v,u);var c=h.width,l=h.height,y=h.depth,b=h.format||t.RGBA,tt=h.internalFormat||b,nt=h.type||g(t,f),rt=d(b),w=f.length/rt;if(w%1)throw"length wrong size for format: "+ht(t,b);if(v===t.TEXTURE_3D)if(c||l||y)!c||l&&y?!l||c&&y?(a=s(t,v,c,l,w/y),c=a.width,l=a.height):(a=s(t,v,c,y,w/l),c=a.width,y=a.height):(a=s(t,v,l,y,w/c),l=a.width,y=a.height);else{if(k=Math.cbrt(w),k%1!=0)throw"can't guess cube size of array of numElements: "+w;c=k;l=k;y=k}else a=s(t,v,c,l,w),c=a.width,l=a.height;return r(f)?f instanceof Uint8ClampedArray&&(f=new Uint8Array(f.buffer)):(ut=n.getTypedArrayTypeForGLType(nt),f=new ut(f)),t.pixelStorei(t.UNPACK_ALIGNMENT,h.unpackAlignment||1),e(t,h),v===t.TEXTURE_CUBE_MAP?(it=w/6*rt,p(t,h).forEach(function(n){var i=it*n.ndx,r=f.subarray(i,i+it);t.texImage2D(n.face,0,tt,c,l,0,b,nt,r)})):v===t.TEXTURE_3D?t.texImage3D(v,0,tt,c,l,y,0,b,nt,f):t.texImage2D(v,0,tt,c,l,0,b,nt,f),o(t,h),{width:c,height:l,depth:y}}function tt(n,t,i){var r=i.target||n.TEXTURE_2D,f;n.bindTexture(r,t);var u=i.format||n.RGBA,s=i.internalFormat||u,h=i.type||n.UNSIGNED_BYTE;if(e(n,i),r===n.TEXTURE_CUBE_MAP)for(f=0;f<6;++f)n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+f,0,s,i.width,i.height,0,u,h,null);else r===n.TEXTURE_3D?n.texImage3D(r,0,s,i.width,i.height,i.depth,0,u,h,null):n.texImage2D(r,0,s,i.width,i.height,0,u,h,null);o(n,i)}function it(n,t,u){var e,y;u=u||f;t=t||i.textureOptions;var o=n.createTexture(),s=t.target||n.TEXTURE_2D,l=t.width||1,v=t.height||1;if(n.bindTexture(s,o),s===n.TEXTURE_CUBE_MAP&&(n.texParameteri(s,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(s,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)),e=t.src,e)if(typeof e=="function"&&(e=e(n,t)),typeof e=="string")k(n,o,t,u);else if(r(e)||Array.isArray(e)&&(typeof e[0]=="number"||Array.isArray(e[0])||r(e[0])))y=nt(n,o,e,t),l=y.width,v=y.height;else if(Array.isArray(e)&&typeof e[0]=="string")lt(n,o,t,u);else if(e instanceof HTMLElement)a(n,o,e,t),l=e.width,v=e.height;else throw"unsupported src type";else tt(n,o,t);return t.auto!==!1&&c(n,o,t,l,v),h(n,o,t),o}function at(n,t,i,u,f){var s,o,c,e,h;if(u=u||i.width,f=f||i.height,s=i.target||n.TEXTURE_2D,n.bindTexture(s,t),o=i.format||n.RGBA,e=i.src,c=e?r(e)||Array.isArray(e)&&typeof e[0]=="number"?i.type||g(n,e):i.type||n.UNSIGNED_BYTE:i.type||n.UNSIGNED_BYTE,s===n.TEXTURE_CUBE_MAP)for(h=0;h<6;++h)n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+h,0,o,u,f,0,o,c,null);else n.texImage2D(s,0,o,u,f,0,o,c,null)}function vt(n){return typeof n=="string"||Array.isArray(n)&&typeof n[0]=="string"}function yt(n,t,i){function s(){r===0&&setTimeout(function(){i(u.length?u:undefined,e,o)},0)}i=i||f;var r=0,u=[],e={},o={};return Object.keys(t).forEach(function(i){var f=t[i],h;vt(f.src)&&(h=function(n,t,f){o[i]=f;--r;n&&u.push(n);s()},++r);e[i]=it(n,f,h)}),s(),e}var pt=undefined,i={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:undefined},r=n.isArrayBuffer,rt=6406,ut=6407,ft=6408,et=6409,ot=6410,ht=function(){function t(t){n||(n={},Object.keys(t).forEach(function(i){typeof t[i]=="number"&&(n[t[i]]=i)}))}var n;return function(i,r){return t(),n[r]||"0x"+r.toString(16)}}(),u={},a=function(){var n=document.createElement("canvas").getContext("2d");return function(t,r,u,f){var a,y,s,w,ut,ft,b;f=f||i.textureOptions;var v=f.target||t.TEXTURE_2D,tt=u.width,it=u.height,k=f.format||t.RGBA,g=f.internalFormat||k,d=f.type||t.UNSIGNED_BYTE;if(e(t,f),t.bindTexture(v,r),v===t.TEXTURE_CUBE_MAP){if(a=u.width,y=u.height,a/6===y)s=y,w=[0,0,1,0,2,0,3,0,4,0,5,0];else if(y/6===a)s=a,w=[0,0,0,1,0,2,0,3,0,4,0,5];else if(a/3==y/2)s=a/3,w=[0,0,1,0,2,0,0,1,1,1,2,1];else if(a/2==y/3)s=a/2,w=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(u.src?u.src:u.nodeName);n.canvas.width=s;n.canvas.height=s;tt=s;it=s;p(t,f).forEach(function(i){var r=w[i.ndx*2+0]*s,f=w[i.ndx*2+1]*s;n.drawImage(u,r,f,s,s,0,0,s,s);t.texImage2D(i.face,0,g,k,d,n.canvas)});n.canvas.width=1;n.canvas.height=1}else if(v===t.TEXTURE_3D){var l=Math.min(u.width,u.height),nt=Math.max(u.width,u.height),rt=nt/l;if(rt%1!=0)throw"can not compute 3D dimensions of element";for(ut=u.width===nt?1:0,ft=u.height===nt?1:0,t.texImage3D(v,0,g,l,l,l,0,k,d,null),n.canvas.width=l,n.canvas.height=l,b=0;b<rt;++b){var et=b*l*ut,ot=b*l*ft,st=l,ht=l,ct=l,lt=l;n.drawImage(u,et,ot,st,ht,0,0,ct,lt);t.texSubImage3D(v,0,0,0,b,k,d,n.canvas)}n.canvas.width=0;n.canvas.height=0}else t.texImage2D(v,0,g,k,d,u);o(t,f);f.auto!==!1&&c(t,r,f,tt,it);h(t,r,f)}}();return{setDefaults_:st,createTexture:it,setEmptyTexture:tt,setTextureFromArray:nt,loadTextureFromUrl:k,setTextureFromElement:a,setTextureFilteringForSize:c,setTextureParameters:h,setDefaultTextureColor:v,createTextures:yt,resizeTexture:at,getNumComponentsForFormat:d}}),n("twgl/framebuffers",["./textures","./utils",],function(n,t){function a(n){return r[n]}function v(n){return i[n]}function y(i,r,u,f){var e=i.FRAMEBUFFER,s=i.createFramebuffer(),h,o;return i.bindFramebuffer(e,s),u=u||i.drawingBufferWidth,f=f||i.drawingBufferHeight,r=r||c,h=0,o={framebuffer:s,attachments:[],width:u,height:f},r.forEach(function(r){var c=r.attachment,p=r.format,y=a(p),s;if(y||(y=l+h++),c||(v(p)?(c=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,c),i.renderbufferStorage(i.RENDERBUFFER,p,u,f)):(s=t.shallowCopy(r),s.width=u,s.height=f,s.auto===undefined&&(s.auto=!1,s.min=s.min||i.LINEAR,s.mag=s.mag||i.LINEAR,s.wrapS=s.wrapS||s.wrap||i.CLAMP_TO_EDGE,s.wrapT=s.wrapT||s.wrap||i.CLAMP_TO_EDGE),c=n.createTexture(i,s))),c instanceof WebGLRenderbuffer)i.framebufferRenderbuffer(e,y,i.RENDERBUFFER,c);else if(c instanceof WebGLTexture)i.framebufferTexture2D(e,y,r.texTarget||i.TEXTURE_2D,c,r.level||0);else throw"unknown attachment type";o.attachments.push(c)}),o}function p(t,i,r,u,f){u=u||t.drawingBufferWidth;f=f||t.drawingBufferHeight;i.width=u;i.height=f;r=r||c;r.forEach(function(r,e){var o=i.attachments[e],s=r.format;if(o instanceof WebGLRenderbuffer)t.bindRenderbuffer(t.RENDERBUFFER,o),t.renderbufferStorage(t.RENDERBUFFER,s,u,f);else if(o instanceof WebGLTexture)n.resizeTexture(t,o,r,u,f);else throw"unknown attachment type";})}function w(n,t,i){i=i||n.FRAMEBUFFER;t?(n.bindFramebuffer(i,t.framebuffer),n.viewport(0,0,t.width,t.height)):(n.bindFramebuffer(i,null),n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight))}var b=undefined,f=33189,e=6401,o=36168,u=34041,l=36064,s=36096,h=36128,c=[{format:6408,type:5121,min:9729,wrap:33071},{format:u},],r={},i;return r[u]=33306,r[e]=h,r[o]=h,r[6402]=s,r[f]=s,i={},i[32854]=!0,i[32855]=!0,i[36194]=!0,i[u]=!0,i[f]=!0,i[e]=!0,i[o]=!0,{bindFramebufferInfo:w,createFramebufferInfo:y,resizeFramebufferInfo:p}}),n("twgl/twgl",["./attributes","./draw","./framebuffers","./programs","./textures","./typedarrays","./utils",],function(n,t,i,r,u,f,e){function a(t){e.copyExistingProperties(t,s);n.setDefaults_(t);u.setDefaults_(t)}function h(n){if(n&&s.enableVertexArrayObjects&&e.isWebGL1(n)){var t=n.getExtension("OES_vertex_array_object");t&&(n.createVertexArray=function(){return t.createVertexArrayOES()},n.deleteVertexArray=function(n){t.deleteVertexArrayOES(n)},n.isVertexArray=function(n){return t.isVertexArrayOES(n)},n.bindVertexArray=function(n){t.bindVertexArrayOES(n)},n.VERTEX_ARRAY_BINDING=t.VERTEX_ARRAY_BINDING_OES)}}function v(n,t){for(var u=["webgl","experimental-webgl"],i=null,r=0;r<u.length;++r){try{i=n.getContext(u[r],t)}catch(f){}if(i)break}return i}function y(n,t){var i=v(n,t);return h(i),i}function p(n,t){for(var u=["webgl2","experimental-webgl2","webgl","experimental-webgl"],i=null,r=0;r<u.length;++r){try{i=n.getContext(u[r],t)}catch(f){}if(i)break}return i}function w(n,t){var i=p(n,t);return h(i),i}function b(n,t){t=t||1;t=Math.max(1,t);var i=n.clientWidth*t|0,r=n.clientHeight*t|0;return n.width!==i||n.height!==r?(n.width=i,n.height=r,!0):!1}function k(n){return n[n.length-1]!=="_"}function c(n,t){return Object.keys(n).filter(k).forEach(function(i){t[i]=n[i]}),t}var d=undefined,s={enableVertexArrayObjects:!0},o={getContext:w,getWebGLContext:y,isWebGL1:e.isWebGL1,isWebGL2:e.isWebGL2,resizeCanvasToDisplaySize:b,setDefaults:a},l={attributes:n,draw:t,framebuffers:i,programs:r,textures:u,typedArrays:f};return Object.keys(l).forEach(function(n){var t=l[n];c(t,o);o[n]=c(t,{})}),o}),n("twgl/v3",[],function(){function t(t){var i=n;return n=t,i}function i(t,i,r){var u=new n(3);return t&&(u[0]=t),i&&(u[1]=i),r&&(u[2]=r),u}function r(t,i,r){return r=r||new n(3),r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r}function u(t,i,r){return r=r||new n(3),r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r}function f(t,i,r,u){return u=u||new n(3),u[0]=(1-r)*t[0]+r*i[0],u[1]=(1-r)*t[1]+r*i[1],u[2]=(1-r)*t[2]+r*i[2],u}function e(t,i,r){return r=r||new n(3),r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r}function o(t,i,r){return r=r||new n(3),r[0]=t[0]/i,r[1]=t[1]/i,r[2]=t[2]/i,r}function s(t,i,r){return r=r||new n(3),r[0]=t[1]*i[2]-t[2]*i[1],r[1]=t[2]*i[0]-t[0]*i[2],r[2]=t[0]*i[1]-t[1]*i[0],r}function h(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function c(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2])}function l(n){return n[0]*n[0]+n[1]*n[1]+n[2]*n[2]}function a(t,i){i=i||new n(3);var u=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=Math.sqrt(u);return r>1e-5?(i[0]=t[0]/r,i[1]=t[1]/r,i[2]=t[2]/r):(i[0]=0,i[1]=0,i[2]=0),i}function v(t,i){return i=i||new n(3),i[0]=-t[0],i[1]=-t[1],i[2]=-t[2],i}function y(t,i){return i=i||new n(3),i[0]=t[0],i[1]=t[1],i[2]=t[2],i}function p(t,i,r){return r=r||new n(3),r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r}function w(t,i,r){return r=r||new n(3),r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r}var n=Float32Array;return{add:r,copy:y,create:i,cross:s,divide:w,divScalar:o,dot:h,lerp:f,length:c,lengthSq:l,mulScalar:e,multiply:p,negate:v,normalize:a,setDefaultType:t,subtract:u}}),n("twgl/m4",["./v3"],function(n){function h(n){var i=t;return t=n,i}function c(n,i){return i=i||new t(16),i[0]=-n[0],i[1]=-n[1],i[2]=-n[2],i[3]=-n[3],i[4]=-n[4],i[5]=-n[5],i[6]=-n[6],i[7]=-n[7],i[8]=-n[8],i[9]=-n[9],i[10]=-n[10],i[11]=-n[11],i[12]=-n[12],i[13]=-n[13],i[14]=-n[14],i[15]=-n[15],i}function r(n,i){return i=i||new t(16),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],i[9]=n[9],i[10]=n[10],i[11]=n[11],i[12]=n[12],i[13]=n[13],i[14]=n[14],i[15]=n[15],i}function i(n){return n=n||new t(16),n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function l(n,i){var r;if(i=i||new t(16),i===n)return r=n[1],n[1]=n[4],n[4]=r,r=n[2],n[2]=n[8],n[8]=r,r=n[3],n[3]=n[12],n[12]=r,r=n[6],n[6]=n[9],n[9]=r,r=n[7],n[7]=n[13],n[13]=r,r=n[11],n[11]=n[14],n[14]=r,i;var u=n[0],f=n[1],e=n[2],o=n[3],s=n[4],h=n[5],c=n[6],l=n[7],a=n[8],v=n[9],y=n[10],p=n[11],w=n[12],b=n[13],k=n[14],d=n[15];return i[0]=u,i[1]=s,i[2]=a,i[3]=w,i[4]=f,i[5]=h,i[6]=v,i[7]=b,i[8]=e,i[9]=c,i[10]=y,i[11]=k,i[12]=o,i[13]=l,i[14]=p,i[15]=d,i}function u(n,i){i=i||new t(16);var u=n[0],s=n[1],h=n[2],c=n[3],f=n[4],l=n[5],a=n[6],v=n[7],e=n[8],y=n[9],p=n[10],w=n[11],o=n[12],b=n[13],k=n[14],d=n[15],g=p*d,nt=k*w,tt=a*d,it=k*v,rt=a*w,ut=p*v,ft=h*d,et=k*c,ot=h*w,st=p*c,ht=h*v,ct=a*c,lt=e*b,at=o*y,vt=f*b,yt=o*l,pt=f*y,wt=e*l,bt=u*b,kt=o*s,dt=u*y,gt=e*s,ni=u*l,ti=f*s,ii=g*l+it*y+rt*b-(nt*l+tt*y+ut*b),ri=nt*s+ft*y+st*b-(g*s+et*y+ot*b),ui=tt*s+et*l+ht*b-(it*s+ft*l+ct*b),fi=ut*s+ot*l+ct*y-(rt*s+st*l+ht*y),r=1/(u*ii+f*ri+e*ui+o*fi);return i[0]=r*ii,i[1]=r*ri,i[2]=r*ui,i[3]=r*fi,i[4]=r*(nt*f+tt*e+ut*o-(g*f+it*e+rt*o)),i[5]=r*(g*u+et*e+ot*o-(nt*u+ft*e+st*o)),i[6]=r*(it*u+ft*f+ct*o-(tt*u+et*f+ht*o)),i[7]=r*(rt*u+st*f+ht*e-(ut*u+ot*f+ct*e)),i[8]=r*(lt*v+yt*w+pt*d-(at*v+vt*w+wt*d)),i[9]=r*(at*c+bt*w+gt*d-(lt*c+kt*w+dt*d)),i[10]=r*(vt*c+kt*v+ni*d-(yt*c+bt*v+ti*d)),i[11]=r*(wt*c+dt*v+ti*w-(pt*c+gt*v+ni*w)),i[12]=r*(vt*p+wt*k+at*a-(pt*k+lt*a+yt*p)),i[13]=r*(dt*k+lt*h+kt*p-(bt*p+gt*k+at*h)),i[14]=r*(bt*a+ti*k+yt*h-(ni*k+vt*h+kt*a)),i[15]=r*(ni*p+pt*h+gt*a-(dt*a+ti*p+wt*h)),i}function a(n,i,r){r=r||new t(16);var u=n[0],f=n[1],e=n[2],o=n[3],s=n[4],h=n[5],c=n[6],l=n[7],a=n[8],v=n[9],y=n[10],p=n[11],w=n[12],b=n[13],k=n[14],d=n[15],g=i[0],nt=i[1],tt=i[2],it=i[3],rt=i[4],ut=i[5],ft=i[6],et=i[7],ot=i[8],st=i[9],ht=i[10],ct=i[11],lt=i[12],at=i[13],vt=i[14],yt=i[15];return r[0]=u*g+s*nt+a*tt+w*it,r[1]=f*g+h*nt+v*tt+b*it,r[2]=e*g+c*nt+y*tt+k*it,r[3]=o*g+l*nt+p*tt+d*it,r[4]=u*rt+s*ut+a*ft+w*et,r[5]=f*rt+h*ut+v*ft+b*et,r[6]=e*rt+c*ut+y*ft+k*et,r[7]=o*rt+l*ut+p*ft+d*et,r[8]=u*ot+s*st+a*ht+w*ct,r[9]=f*ot+h*st+v*ht+b*ct,r[10]=e*ot+c*st+y*ht+k*ct,r[11]=o*ot+l*st+p*ht+d*ct,r[12]=u*lt+s*at+a*vt+w*yt,r[13]=f*lt+h*at+v*vt+b*yt,r[14]=e*lt+c*at+y*vt+k*yt,r[15]=o*lt+l*at+p*vt+d*yt,r}function v(n,t,r){return r=r||i(),n!==r&&(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11]),r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r}function y(t,i){return i=i||n.create(),i[0]=t[12],i[1]=t[13],i[2]=t[14],i}function p(t,i,r){r=r||n.create();var u=i*4;return r[0]=t[u+0],r[1]=t[u+1],r[2]=t[u+2],r}function w(n,t,i,u){u!==n&&(u=r(n,u));var f=i*4;return u[f+0]=t[0],u[f+1]=t[1],u[f+2]=t[2],u}function b(n,i,r,u,f){f=f||new t(16);var e=Math.tan(Math.PI*.5-.5*n),o=1/(r-u);return f[0]=e/i,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=e,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=(r+u)*o,f[11]=-1,f[12]=0,f[13]=0,f[14]=r*u*o*2,f[15]=0,f}function k(n,i,r,u,f,e,o){return o=o||new t(16),o[0]=2/(i-n),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/(u-r),o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=-1/(e-f),o[11]=0,o[12]=(i+n)/(n-i),o[13]=(u+r)/(r-u),o[14]=-f/(f-e),o[15]=1,o}function d(n,i,r,u,f,e,o){o=o||new t(16);var s=i-n,h=u-r,c=f-e;return o[0]=2*f/s,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*f/h,o[6]=0,o[7]=0,o[8]=(n+i)/s,o[9]=(u+r)/h,o[10]=e/c,o[11]=-1,o[12]=0,o[13]=0,o[14]=f*e/c,o[15]=0,o}function g(i,r,u,f){f=f||new t(16);var c=e,l=o,h=s;return n.normalize(n.subtract(i,r,h),h),n.normalize(n.cross(u,h,c),c),n.normalize(n.cross(h,c,l),l),f[0]=c[0],f[1]=c[1],f[2]=c[2],f[3]=0,f[4]=l[0],f[5]=l[1],f[6]=l[2],f[7]=0,f[8]=h[0],f[9]=h[1],f[10]=h[2],f[11]=0,f[12]=i[0],f[13]=i[1],f[14]=i[2],f[15]=1,f}function nt(n,i){return i=i||new t(16),i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=n[0],i[13]=n[1],i[14]=n[2],i[15]=1,i}function tt(n,i,r){r=r||new t(16);var u=i[0],f=i[1],e=i[2],o=n[0],s=n[1],h=n[2],c=n[3],l=n[4],a=n[5],v=n[6],y=n[7],p=n[8],w=n[9],b=n[10],k=n[11],d=n[12],g=n[13],nt=n[14],tt=n[15];return n!==r&&(r[0]=o,r[1]=s,r[2]=h,r[3]=c,r[4]=l,r[5]=a,r[6]=v,r[7]=y,r[8]=p,r[9]=w,r[10]=b,r[11]=k),r[12]=o*u+l*f+p*e+d,r[13]=s*u+a*f+w*e+g,r[14]=h*u+v*f+b*e+nt,r[15]=c*u+y*f+k*e+tt,r}function it(n,i){i=i||new t(16);var r=Math.cos(n),u=Math.sin(n);return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=r,i[6]=u,i[7]=0,i[8]=0,i[9]=-u,i[10]=r,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function rt(n,i,r){r=r||new t(16);var e=n[4],o=n[5],s=n[6],h=n[7],c=n[8],l=n[9],a=n[10],v=n[11],u=Math.cos(i),f=Math.sin(i);return r[4]=u*e+f*c,r[5]=u*o+f*l,r[6]=u*s+f*a,r[7]=u*h+f*v,r[8]=u*c-f*e,r[9]=u*l-f*o,r[10]=u*a-f*s,r[11]=u*v-f*h,n!==r&&(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r}function ut(n,i){i=i||new t(16);var r=Math.cos(n),u=Math.sin(n);return i[0]=r,i[1]=0,i[2]=-u,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=u,i[9]=0,i[10]=r,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function ft(n,i,r){r=r||new t(16);var e=n[0],o=n[1],s=n[2],h=n[3],c=n[8],l=n[9],a=n[10],v=n[11],u=Math.cos(i),f=Math.sin(i);return r[0]=u*e-f*c,r[1]=u*o-f*l,r[2]=u*s-f*a,r[3]=u*h-f*v,r[8]=u*c+f*e,r[9]=u*l+f*o,r[10]=u*a+f*s,r[11]=u*v+f*h,n!==r&&(r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r}function et(n,i){i=i||new t(16);var r=Math.cos(n),u=Math.sin(n);return i[0]=r,i[1]=u,i[2]=0,i[3]=0,i[4]=-u,i[5]=r,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function ot(n,i,r){r=r||new t(16);var e=n[0],o=n[1],s=n[2],h=n[3],c=n[4],l=n[5],a=n[6],v=n[7],u=Math.cos(i),f=Math.sin(i);return r[0]=u*e+f*c,r[1]=u*o+f*l,r[2]=u*s+f*a,r[3]=u*h+f*v,r[4]=u*c-f*e,r[5]=u*l-f*o,r[6]=u*a-f*s,r[7]=u*v-f*h,n!==r&&(r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r}function st(n,i,r){r=r||new t(16);var u=n[0],f=n[1],e=n[2],c=Math.sqrt(u*u+f*f+e*e);u/=c;f/=c;e/=c;var l=u*u,a=f*f,v=e*e,h=Math.cos(i),o=Math.sin(i),s=1-h;return r[0]=l+(1-l)*h,r[1]=u*f*s+e*o,r[2]=u*e*s-f*o,r[3]=0,r[4]=u*f*s-e*o,r[5]=a+(1-a)*h,r[6]=f*e*s+u*o,r[7]=0,r[8]=u*e*s+f*o,r[9]=f*e*s-u*o,r[10]=v+(1-v)*h,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function f(n,i,r,u){u=u||new t(16);var f=i[0],e=i[1],o=i[2],g=Math.sqrt(f*f+e*e+o*o);f/=g;e/=g;o/=g;var at=f*f,vt=e*e,yt=o*o,c=Math.cos(r),s=Math.sin(r),h=1-c,l=at+(1-at)*c,a=f*e*h+o*s,v=f*o*h-e*s,y=f*e*h-o*s,p=vt+(1-vt)*c,w=e*o*h+f*s,b=f*o*h+e*s,k=e*o*h-f*s,d=yt+(1-yt)*c,nt=n[0],tt=n[1],it=n[2],rt=n[3],ut=n[4],ft=n[5],et=n[6],ot=n[7],st=n[8],ht=n[9],ct=n[10],lt=n[11];return u[0]=l*nt+a*ut+v*st,u[1]=l*tt+a*ft+v*ht,u[2]=l*it+a*et+v*ct,u[3]=l*rt+a*ot+v*lt,u[4]=y*nt+p*ut+w*st,u[5]=y*tt+p*ft+w*ht,u[6]=y*it+p*et+w*ct,u[7]=y*rt+p*ot+w*lt,u[8]=b*nt+k*ut+d*st,u[9]=b*tt+k*ft+d*ht,u[10]=b*it+k*et+d*ct,u[11]=b*rt+k*ot+d*lt,n!==u&&(u[12]=n[12],u[13]=n[13],u[14]=n[14],u[15]=n[15]),u}function ht(n,i){return i=i||new t(16),i[0]=n[0],i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=n[1],i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=n[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function ct(n,i,r){r=r||new t(16);var u=i[0],f=i[1],e=i[2];return r[0]=u*n[0],r[1]=u*n[1],r[2]=u*n[2],r[3]=u*n[3],r[4]=f*n[4],r[5]=f*n[5],r[6]=f*n[6],r[7]=f*n[7],r[8]=e*n[8],r[9]=e*n[9],r[10]=e*n[10],r[11]=e*n[11],n!==r&&(r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r}function lt(t,i,r){r=r||n.create();var u=i[0],f=i[1],e=i[2],o=u*t[3]+f*t[7]+e*t[11]+t[15];return r[0]=(u*t[0]+f*t[4]+e*t[8]+t[12])/o,r[1]=(u*t[1]+f*t[5]+e*t[9]+t[13])/o,r[2]=(u*t[2]+f*t[6]+e*t[10]+t[14])/o,r}function at(t,i,r){r=r||n.create();var u=i[0],f=i[1],e=i[2];return r[0]=u*t[0]+f*t[4]+e*t[8],r[1]=u*t[1]+f*t[5]+e*t[9],r[2]=u*t[2]+f*t[6]+e*t[10],r}function vt(t,i,r){r=r||n.create();var f=u(t),e=i[0],o=i[1],s=i[2];return r[0]=e*f[0]+o*f[1]+s*f[2],r[1]=e*f[4]+o*f[5]+s*f[6],r[2]=e*f[8]+o*f[9]+s*f[10],r}var t=Float32Array,e=n.create(),o=n.create(),s=n.create();return{axisRotate:f,axisRotation:st,create:i,copy:r,frustum:d,getAxis:p,getTranslation:y,identity:i,inverse:u,lookAt:g,multiply:a,negate:c,ortho:k,perspective:b,rotateX:rt,rotateY:ft,rotateZ:ot,rotateAxis:f,rotationX:it,rotationY:ut,rotationZ:et,scale:ct,scaling:ht,setAxis:w,setDefaultType:h,setTranslation:v,transformDirection:at,transformNormal:vt,transformPoint:lt,translate:tt,translation:nt,transpose:l}}),n("twgl/primitives",["./attributes","./twgl","./utils","./m4","./v3",],function(n,t,i,r,u){function nt(n,t){var i=0;return n.push=function(){for(var t,u,r=0;r<arguments.length;++r)if(t=arguments[r],t instanceof Array||t.buffer&&t.buffer instanceof ArrayBuffer)for(u=0;u<t.length;++u)n[i++]=t[u];else n[i++]=t},n.reset=function(n){i=n||0},n.numComponents=t,Object.defineProperty(n,"numElements",{get:function(){return this.length/this.numComponents|0}}),n}function f(n,t,i){var r=i||Float32Array;return nt(new r(n*t),n)}function st(n){return n!=="indices"}function ht(n){function u(u){for(var l,a,e,o=n[u],s=o.numComponents,c=f(s,r,o.constructor),h=0;h<r;++h)for(l=t[h],a=l*s,e=0;e<s;++e)c.push(o[a+e]);i[u]=c}var t=n.indices,i={},r=t.length;return Object.keys(n).filter(st).forEach(u),i}function ct(n){var i,o,t;if(n.indices)throw"can't flatten normals of indexed vertices. deindex them first";for(i=n.normal,o=i.length,t=0;t<o;t+=9){var s=i[t+0],h=i[t+1],c=i[t+2],l=i[t+3],a=i[t+4],v=i[t+5],y=i[t+6],p=i[t+7],w=i[t+8],r=s+l+y,u=h+a+p,f=c+v+w,e=Math.sqrt(r*r+u*u+f*f);r/=e;u/=e;f/=e;i[t+0]=r;i[t+1]=u;i[t+2]=f;i[t+3]=r;i[t+4]=u;i[t+5]=f;i[t+6]=r;i[t+7]=u;i[t+8]=f}return n}function c(n,t,i){for(var f=n.length,u=new Float32Array(3),r=0;r<f;r+=3)i(t,[n[r],n[r+1],n[r+2]],u),n[r]=u[0],n[r+1]=u[1],n[r+2]=u[2]}function lt(n,t,i){i=i||u.create();var r=t[0],f=t[1],e=t[2];return i[0]=r*n[0]+f*n[1]+e*n[2],i[1]=r*n[4]+f*n[5]+e*n[6],i[2]=r*n[8]+f*n[9]+e*n[10],i}function tt(n,t){return c(n,t,r.transformDirection),n}function it(n,t){return c(n,r.inverse(t),lt),n}function rt(n,t){return c(n,t,r.transformPoint),n}function ut(n,t){return Object.keys(n).forEach(function(i){var r=n[i];i.indexOf("pos")>=0?rt(r,t):i.indexOf("tan")>=0||i.indexOf("binorm")>=0?tt(r,t):i.indexOf("norm")>=0&&it(r,t)}),n}function l(n,t,i){return n=n||2,t=t||0,i=i||0,n*=.5,{position:{numComponents:2,data:[t+-1*n,i+-1*n,t+1*n,i+-1*n,t+-1*n,i+1*n,t+1*n,i+1*n,]},normal:[0,0,1,0,0,1,0,0,1,0,0,1,],texcoord:[0,0,1,0,0,1,1,1,],indices:[0,1,2,2,1,3]}}function a(n,t,i,u,e){var a,v,h,c,o,s;n=n||1;t=t||1;i=i||1;u=u||1;e=e||r.identity();var l=(i+1)*(u+1),y=f(3,l),p=f(3,l),w=f(2,l);for(o=0;o<=u;o++)for(s=0;s<=i;s++)a=s/i,v=o/u,y.push(n*a-n*.5,0,t*v-t*.5),p.push(0,1,0),w.push(a,v);for(h=i+1,c=f(3,i*u*2,Uint16Array),o=0;o<u;o++)for(s=0;s<i;s++)c.push((o+0)*h+s,(o+1)*h+s,(o+0)*h+s+1),c.push((o+1)*h+s,(o+1)*h+s+1,(o+0)*h+s+1);return ut({position:y,normal:p,texcoord:w,indices:c},e)}function v(n,t,i,r,u,e,o){var c,l,h,s;if(t<=0||i<=0)throw Error("subdivisionAxis and subdivisionHeight must be > 0");r=r||0;u=u||Math.PI;e=e||0;o=o||Math.PI*2;var rt=u-r,ut=o-e,a=(t+1)*(i+1),v=f(3,a),y=f(3,a),p=f(2,a);for(s=0;s<=i;s++)for(h=0;h<=t;h++){var w=h/t,b=s/i,k=ut*w,d=rt*b,ft=Math.sin(k),et=Math.cos(k),g=Math.sin(d),ot=Math.cos(d),nt=et*g,tt=ot,it=ft*g;v.push(n*nt,n*tt,n*it);y.push(nt,tt,it);p.push(1-w,b)}for(c=t+1,l=f(3,t*i*2,Uint16Array),h=0;h<t;h++)for(s=0;s<i;s++)l.push((s+0)*c+h,(s+0)*c+h+1,(s+1)*c+h),l.push((s+1)*c+h,(s+0)*c+h+1,(s+1)*c+h+1);return{position:v,normal:y,texcoord:p,indices:l}}function y(n){var r,l,u,i;n=n||1;var t=n/2,a=[[-t,-t,-t],[+t,-t,-t],[-t,+t,-t],[+t,+t,-t],[-t,-t,+t],[+t,-t,+t],[-t,+t,+t],[+t,+t,+t],],v=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1],],y=[[1,0],[0,0],[0,1],[1,1],],e=24,s=f(3,e),h=f(3,e),c=f(2,e),o=f(3,12,Uint16Array);for(r=0;r<6;++r){for(l=at[r],u=0;u<4;++u){var p=a[l[u]],w=v[r],b=y[u];s.push(p);h.push(w);c.push(b)}i=4*r;o.push(i+0,i+1,i+2);o.push(i+0,i+2,i+3)}return{position:s,normal:h,texcoord:c,indices:o}}function h(n,t,i,r,u,e,o){var l,v,a,b,k,s,h;if(r<3)throw Error("radialSubdivisions must be 3 or greater");if(u<1)throw Error("verticalSubdivisions must be 1 or greater");var d=e===undefined?!0:e,g=o===undefined?!0:o,y=(d?2:0)+(g?2:0),p=(r+1)*(u+1+y),nt=f(3,p),tt=f(3,p),it=f(2,p),w=f(3,r*(u+y)*2,Uint16Array),c=r+1,rt=Math.atan2(n-t,i),ut=Math.cos(rt),ft=Math.sin(rt),et=d?-2:0,ot=u+(g?2:0);for(s=et;s<=ot;++s)for(l=s/u,v=i*l,s<0?(v=0,l=1,a=n):s>u?(v=i,l=1,a=t):a=n+(t-n)*(s/u),(s===-2||s===u+2)&&(a=0,l=0),v-=i/2,h=0;h<c;++h)b=Math.sin(h*Math.PI*2/r),k=Math.cos(h*Math.PI*2/r),nt.push(b*a,v,k*a),tt.push(s<0||s>u?0:b*ut,s<0?-1:s>u?1:ft,s<0||s>u?0:k*ut),it.push(h/r,1-l);for(s=0;s<u+y;++s)for(h=0;h<r;++h)w.push(c*(s+0)+0+h,c*(s+0)+1+h,c*(s+1)+1+h),w.push(c*(s+0)+0+h,c*(s+1)+1+h,c*(s+1)+0+h);return{position:nt,normal:tt,texcoord:it,indices:w}}function ft(n,t){var r,i,e,u,f;for(t=t||[],r=[],i=0;i<n.length;i+=4)for(e=n[i],u=n.slice(i+1,i+4),u.push.apply(u,t),f=0;f<e;++f)r.push.apply(r,u);return r}function p(){var r=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0,],u=ft([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0,]),e=ft([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220,],[255]),n=r.length/3,t={position:f(3,n),texcoord:f(2,n),normal:f(3,n),color:f(4,n,Uint8Array),indices:f(3,n/3,Uint16Array)},i;for(t.position.push(r),t.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0,]),t.normal.push(u),t.color.push(e),i=0;i<n;++i)t.indices.push(i);return t}function w(n,t,i,r,e,o,s){function nt(n,t,i){return n+(t-n)*i}function a(t,i,f,s,h,c){for(var it,a=0;a<=e;a++){var y=i/(l-1),p=a/e,rt=(y-.5)*2,w=(o+p*g)*Math.PI,v=Math.sin(w),tt=Math.cos(w),ut=nt(n,t,v),ft=rt*r,et=tt*n,ot=v*ut;b.push(ft,et,ot);it=u.add(u.multiply([0,v,tt],f),s);k.push(it);d.push(y*h+c,p)}}function y(n,t){for(var i=0;i<e;++i)v.push(n+i+0,n+i+1,t+i+0),v.push(n+i+1,t+i+1,t+i+0)}var c,w,v,h;if(e<=0)throw Error("subdivisionDown must be > 0");o=o||0;s=s||1;var l=2,g=s-o,p=(e+1)*2*(2+l),b=f(3,p),k=f(3,p),d=f(2,p);for(c=0;c<l;c++)w=(c/(l-1)-.5)*2,a(t,c,[1,1,1],[0,0,0],1,0),a(t,c,[0,0,0],[w,0,0],0,0),a(i,c,[1,1,1],[0,0,0],1,0),a(i,c,[0,0,0],[w,0,0],0,1);return v=f(3,e*2*(2+l),Uint16Array),h=e+1,y(h*0,h*4),y(h*5,h*7),y(h*6,h*2),y(h*3,h*1),{position:b,normal:k,texcoord:d,indices:v}}function b(n,t,i,r,u,f){return h(n,n,t,i,r,u,f)}function k(n,t,i,r,u,e){var o,s,c,l;if(i<3)throw Error("radialSubdivisions must be 3 or greater");if(r<3)throw Error("verticalSubdivisions must be 3 or greater");u=u||0;e=e||Math.PI*2;range=e-u;var h=i+1,p=r+1,a=h*p,w=f(3,a),b=f(3,a),k=f(2,a),v=f(3,i*r*2,Uint16Array);for(o=0;o<p;++o){var d=o/r,g=d*Math.PI*2,y=Math.sin(g),nt=n+y*t,tt=Math.cos(g),et=tt*t;for(s=0;s<h;++s){var it=s/i,rt=u+it*range,ut=Math.sin(rt),ft=Math.cos(rt),ot=ut*nt,st=ft*nt,ht=ut*y,ct=ft*y;w.push(ot,et,st);b.push(ht,tt,ct);k.push(it,1-d)}}for(o=0;o<r;++o)for(s=0;s<i;++s)c=1+s,l=1+o,v.push(h*o+s,h*l+s,h*o+c),v.push(h*l+s,h*l+c,h*o+c);return{position:w,normal:b,texcoord:k,indices:v}}function d(n,t,i,r,u){var o,l,e;if(t<3)throw Error("divisions must be at least 3");i=i?i:1;u=u?u:1;r=r?r:0;var h=(t+1)*(i+1),a=f(3,h),v=f(3,h),y=f(2,h),c=f(3,i*t*2,Uint16Array),s=0,d=n-r,p=t+1;for(o=0;o<=i;++o){for(l=r+d*Math.pow(o/i,u),e=0;e<=t;++e){var w=2*Math.PI*e/t,g=l*Math.cos(w),nt=l*Math.sin(w);if(a.push(g,0,nt),v.push(0,1,0),y.push(1-e/t,o/i),o>0&&e!==t){var b=s+(e+1),tt=s+e,k=s+e-p,it=s+(e+1)-p;c.push(b,tt,k);c.push(b,k,it)}}s+=t+1}return{position:a,normal:v,texcoord:y,indices:c}}function vt(n){return Math.random()*n|0}function yt(n,t){var o,h,i,c,s;t=t||{};var u=n.position.numElements,e=f(4,u,Uint8Array),r=t.rand||function(n,t){return t<3?vt(256):255};if(n.color=e,n.indices)for(i=0;i<u;++i)e.push(r(i,0),r(i,1),r(i,2),r(i,3));else for(o=t.vertsPerColor||3,h=u/o,i=0;i<h;++i)for(c=[r(i,0),r(i,1),r(i,2),r(i,3)],s=0;s<o;++s)e.push(c);return n}function e(n){return function(i){var r=n.apply(this,Array.prototype.slice.call(arguments,1));return t.createBuffersFromArrays(i,r)}}function o(n){return function(i){var r=n.apply(null,Array.prototype.slice.call(arguments,1));return t.createBufferInfoFromArrays(i,r)}}function g(n,t,i,r){var f,u;for(r=r||0,f=n.length,u=0;u<f;++u)t[i+u]=n[u]+r}function et(n,t){var r=s(n),u=new r.constructor(t),f=u;return r.numComponents&&r.numElements&&nt(u,r.numComponents),n.data&&(f={data:u},i.copyNamedProperties(pt,n,f)),f}function wt(n){function o(t){for(var f=0,i,r=0;r<n.length;++r){var e=n[r],u=e[t],o=s(u);f+=o.length;(!i||u.data)&&(i=u)}return{length:f,spec:i}}function h(t,i,r){for(var o=0,f=0,u=0;u<n.length;++u){var h=n[u],c=h[t],e=s(c);t==="indices"?(g(e,r,f,o),o+=i[u]):g(e,r,f);f+=e.length}}for(var u,e,f,t={},i,r=0;r<n.length;++r)u=n[r],Object.keys(u).forEach(function(n){t[n]||(t[n]=[]);i||n==="indices"||(i=n);var r=u[n],f=ot(r,n),e=s(r),o=e.length/f;t[n].push(o)});return e=t[i],f={},Object.keys(t).forEach(function(n){var t=o(n),i=et(t.spec,t.length);h(n,e,s(i));f[n]=i}),f}function bt(n){var t={};return Object.keys(n).forEach(function(i){var r=n[i],u=s(r),f=et(r,u.length);g(u,s(f),0);t[i]=f}),t}var s=n.getArray_,ot=n.getNumComponents_,at=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0],],pt=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName",];return{create3DFBufferInfo:o(p),create3DFBuffers:e(p),create3DFVertices:p,createAugmentedTypedArray:f,createCubeBufferInfo:o(y),createCubeBuffers:e(y),createCubeVertices:y,createPlaneBufferInfo:o(a),createPlaneBuffers:e(a),createPlaneVertices:a,createSphereBufferInfo:o(v),createSphereBuffers:e(v),createSphereVertices:v,createTruncatedConeBufferInfo:o(h),createTruncatedConeBuffers:e(h),createTruncatedConeVertices:h,createXYQuadBufferInfo:o(l),createXYQuadBuffers:e(l),createXYQuadVertices:l,createCresentBufferInfo:o(w),createCresentBuffers:e(w),createCresentVertices:w,createCylinderBufferInfo:o(b),createCylinderBuffers:e(b),createCylinderVertices:b,createTorusBufferInfo:o(k),createTorusBuffers:e(k),createTorusVertices:k,createDiscBufferInfo:o(d),createDiscBuffers:e(d),createDiscVertices:d,deindexVertices:ht,flattenNormals:ct,makeRandomVertexColors:yt,reorientDirections:tt,reorientNormals:it,reorientPositions:rt,reorientVertices:ut,concatVertices:wt,duplicateVertices:bt}}),n("main",["twgl/twgl","twgl/m4","twgl/v3","twgl/primitives",],function(n,t,i,r){return n.m4=t,n.v3=i,n.primitives=r,n}),t(["main"],function(n){return n},undefined,!0),n("build/js/twgl-includer-full",function(){}),t("main")});