/*! jQuery v2.2.0 | (c) jQuery Foundation | jquery.org/license */
!function(n,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)}("undefined"!=typeof window?window:this,function(n,t){function ii(n){var t=!!n&&"length"in n&&n.length,r=i.type(n);return"function"===r||i.isWindow(n)?!1:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in n}function ri(n,t,r){if(i.isFunction(t))return i.grep(n,function(n,i){return!!t.call(n,i,n)!==r});if(t.nodeType)return i.grep(n,function(n){return n===t!==r});if("string"==typeof t){if(wf.test(t))return i.filter(t,n,r);t=i.filter(t,n)}return i.grep(n,function(n){return ct.call(t,n)>-1!==r})}function hr(n,t){while((n=n[t])&&1!==n.nodeType);return n}function bf(n){var t={};return i.each(n.match(h)||[],function(n,i){t[i]=!0}),t}function vt(){u.removeEventListener("DOMContentLoaded",vt);n.removeEventListener("load",vt);i.ready()}function ft(){this.expando=i.expando+ft.uid++}function lr(n,t,r){var u;if(void 0===r&&1===n.nodeType)if(u="data-"+t.replace(cr,"-$&").toLowerCase(),r=n.getAttribute(u),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:kf.test(r)?i.parseJSON(r):r}catch(f){}e.set(n,t,r)}else r=void 0;return r}function vr(n,t,r,u){var h,e=1,l=20,c=u?function(){return u.cur()}:function(){return i.css(n,t,"")},s=c(),o=r&&r[3]||(i.cssNumber[t]?"":"px"),f=(i.cssNumber[t]||"px"!==o&&+s)&&et.exec(i.css(n,t));if(f&&f[3]!==o){o=o||f[3];r=r||[];f=+s||1;do e=e||".5",f/=e,i.style(n,t,f+o);while(e!==(e=c()/s)&&1!==e&&--l)}return r&&(f=+f||+s||0,h=r[1]?f+(r[1]+1)*r[2]:+r[2],u&&(u.unit=o,u.start=f,u.end=h)),h}function o(n,t){var r="undefined"!=typeof n.getElementsByTagName?n.getElementsByTagName(t||"*"):"undefined"!=typeof n.querySelectorAll?n.querySelectorAll(t||"*"):[];return void 0===t||t&&i.nodeName(n,t)?i.merge([n],r):r}function ui(n,t){for(var i=0,u=n.length;u>i;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function kr(n,t,r,u,f){for(var e,s,p,a,w,v,h=t.createDocumentFragment(),y=[],l=0,b=n.length;b>l;l++)if(e=n[l],e||0===e)if("object"===i.type(e))i.merge(y,e.nodeType?[e]:e);else if(br.test(e)){for(s=s||h.appendChild(t.createElement("div")),p=(pr.exec(e)||["",""])[1].toLowerCase(),a=c[p]||c._default,s.innerHTML=a[1]+i.htmlPrefilter(e)+a[2],v=a[0];v--;)s=s.lastChild;i.merge(y,s.childNodes);s=h.firstChild;s.textContent=""}else y.push(t.createTextNode(e));for(h.textContent="",l=0;e=y[l++];)if(u&&i.inArray(e,u)>-1)f&&f.push(e);else if(w=i.contains(e.ownerDocument,e),s=o(h.appendChild(e),"script"),w&&ui(s),r)for(v=0;e=s[v++];)wr.test(e.type||"")&&r.push(e);return h}function yt(){return!0}function nt(){return!1}function gr(){try{return u.activeElement}catch(n){}}function fi(n,t,r,u,f,e){var o,s;if("object"==typeof t){"string"!=typeof r&&(u=u||r,r=void 0);for(s in t)fi(n,s,r,u,t[s],e);return n}if(null==u&&null==f?(f=r,u=r=void 0):null==f&&("string"==typeof r?(f=u,u=void 0):(f=u,u=r,r=void 0)),f===!1)f=nt;else if(!f)return this;return 1===e&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),n.each(function(){i.event.add(this,t,f,u,r)})}function nu(n,t){return i.nodeName(n,"table")&&i.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n:n}function fe(n){return n.type=(null!==n.getAttribute("type"))+"/"+n.type,n}function ee(n){var t=re.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function tu(n,t){var u,c,f,s,h,l,a,o;if(1===t.nodeType){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),o=s.events)){delete h.handle;h.events={};for(f in o)for(u=0,c=o[f].length;c>u;u++)i.event.add(t,f,o[f][u])}e.hasData(n)&&(l=e.access(n),a=i.extend({},l),e.set(t,a))}}function oe(n,t){var i=t.nodeName.toLowerCase();"input"===i&&yr.test(n.type)?t.checked=n.checked:("input"===i||"textarea"===i)&&(t.defaultValue=n.defaultValue)}function b(n,t,u,e){t=gi.apply([],t);var l,p,c,a,s,w,h=0,v=n.length,d=v-1,y=t[0],k=i.isFunction(y);if(k||v>1&&"string"==typeof y&&!f.checkClone&&ie.test(y))return n.each(function(i){var r=n.eq(i);k&&(t[0]=y.call(this,i,r.html()));b(r,t,u,e)});if(v&&(l=kr(t,n[0].ownerDocument,!1,n,e),p=l.firstChild,1===l.childNodes.length&&(l=p),p||e)){for(c=i.map(o(l,"script"),fe),a=c.length;v>h;h++)s=l,h!==d&&(s=i.clone(s,!0,!0),a&&i.merge(c,o(s,"script"))),u.call(n[h],s,h);if(a)for(w=c[c.length-1].ownerDocument,i.map(c,ee),h=0;a>h;h++)s=c[h],wr.test(s.type||"")&&!r.access(s,"globalEval")&&i.contains(w,s)&&(s.src?i._evalUrl&&i._evalUrl(s.src):i.globalEval(s.textContent.replace(ue,"")))}return n}function iu(n,t,r){for(var u,e=t?i.filter(t,n):n,f=0;null!=(u=e[f]);f++)r||1!==u.nodeType||i.cleanData(o(u)),u.parentNode&&(r&&i.contains(u.ownerDocument,u)&&ui(o(u,"script")),u.parentNode.removeChild(u));return n}function ru(n,t){var r=i(t.createElement(n)).appendTo(t.body),u=i.css(r[0],"display");return r.detach(),u}function oi(n){var r=u,t=ei[n];return t||(t=ru(n,r),"none"!==t&&t||(pt=(pt||i("<iframe frameborder='0' width='0' height='0'/>")).appendTo(r.documentElement),r=pt[0].contentDocument,r.write(),r.close(),t=ru(n,r),pt.detach()),ei[n]=t),t}function tt(n,t,r){var o,s,h,u,e=n.style;return r=r||wt(n),r&&(u=r.getPropertyValue(t)||r[t],""!==u||i.contains(n.ownerDocument,n)||(u=i.style(n,t)),!f.pixelMarginRight()&&si.test(u)&&uu.test(t)&&(o=e.width,s=e.minWidth,h=e.maxWidth,e.minWidth=e.maxWidth=e.width=u,u=r.width,e.width=o,e.minWidth=s,e.maxWidth=h)),void 0!==u?u+"":u}function ci(n,t){return{get:function(){return n()?void delete this.get:(this.get=t).apply(this,arguments)}}}function su(n){if(n in ou)return n;for(var i=n[0].toUpperCase()+n.slice(1),t=eu.length;t--;)if(n=eu[t]+i,n in ou)return n}function hu(n,t,i){var r=et.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function cu(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:"width"===t?1:0,o=0;4>e;e+=2)"margin"===r&&(o+=i.css(n,r+w[e],!0,f)),u?("content"===r&&(o-=i.css(n,"padding"+w[e],!0,f)),"margin"!==r&&(o-=i.css(n,"border"+w[e]+"Width",!0,f))):(o+=i.css(n,"padding"+w[e],!0,f),"padding"!==r&&(o+=i.css(n,"border"+w[e]+"Width",!0,f)));return o}function lu(t,r,e){var h=!0,o="width"===r?t.offsetWidth:t.offsetHeight,s=wt(t),c="border-box"===i.css(t,"boxSizing",!1,s);if(u.msFullscreenElement&&n.top!==n&&t.getClientRects().length&&(o=Math.round(100*t.getBoundingClientRect()[r])),0>=o||null==o){if(o=tt(t,r,s),(0>o||null==o)&&(o=t.style[r]),si.test(o))return o;h=c&&(f.boxSizingReliable()||o===t.style[r]);o=parseFloat(o)||0}return o+cu(t,r,e||(c?"border":"content"),h,s)+"px"}function au(n,t){for(var e,u,s,o=[],f=0,h=n.length;h>f;f++)u=n[f],u.style&&(o[f]=r.get(u,"olddisplay"),e=u.style.display,t?(o[f]||"none"!==e||(u.style.display=""),""===u.style.display&&ot(u)&&(o[f]=r.access(u,"olddisplay",oi(u.nodeName)))):(s=ot(u),"none"===e&&s||r.set(u,"olddisplay",s?e:i.css(u,"display"))));for(f=0;h>f;f++)u=n[f],u.style&&(t&&"none"!==u.style.display&&""!==u.style.display||(u.style.display=t?o[f]||"":"none"));return n}function s(n,t,i,r,u){return new s.prototype.init(n,t,i,r,u)}function pu(){return n.setTimeout(function(){it=void 0}),it=i.now()}function kt(n,t){var r,u=0,i={height:n};for(t=t?1:0;4>u;u+=2-t)r=w[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function wu(n,t,i){for(var u,f=(l.tweeners[t]||[]).concat(l.tweeners["*"]),r=0,e=f.length;e>r;r++)if(u=f[r].call(i,t,n))return u}function ce(n,t,u){var f,a,p,v,o,w,h,b,l=this,y={},s=n.style,c=n.nodeType&&ot(n),e=r.get(n,"fxshow");u.queue||(o=i._queueHooks(n,"fx"),null==o.unqueued&&(o.unqueued=0,w=o.empty.fire,o.empty.fire=function(){o.unqueued||w()}),o.unqueued++,l.always(function(){l.always(function(){o.unqueued--;i.queue(n,"fx").length||o.empty.fire()})}));1===n.nodeType&&("height"in t||"width"in t)&&(u.overflow=[s.overflow,s.overflowX,s.overflowY],h=i.css(n,"display"),b="none"===h?r.get(n,"olddisplay")||oi(n.nodeName):h,"inline"===b&&"none"===i.css(n,"float")&&(s.display="inline-block"));u.overflow&&(s.overflow="hidden",l.always(function(){s.overflow=u.overflow[0];s.overflowX=u.overflow[1];s.overflowY=u.overflow[2]}));for(f in t)if(a=t[f],vu.exec(a)){if(delete t[f],p=p||"toggle"===a,a===(c?"hide":"show")){if("show"!==a||!e||void 0===e[f])continue;c=!0}y[f]=e&&e[f]||i.style(n,f)}else h=void 0;if(i.isEmptyObject(y))"inline"===("none"===h?oi(n.nodeName):h)&&(s.display=h);else{e?"hidden"in e&&(c=e.hidden):e=r.access(n,"fxshow",{});p&&(e.hidden=!c);c?i(n).show():l.done(function(){i(n).hide()});l.done(function(){var t;r.remove(n,"fxshow");for(t in y)i.style(n,t,y[t])});for(f in y)v=wu(c?e[f]:0,f,l),f in e||(e[f]=v.start,c&&(v.end=v.start,v.start="width"===f||"height"===f?1:0))}}function le(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function l(n,t,r){var e,o,s=0,a=l.prefilters.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var s=it||pu(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,e=u.tweens.length;e>r;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),1>i&&e?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},r),originalProperties:t,originalOptions:r,startTime:it||pu(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;r>i;i++)u.tweens[i].run(1);return t?(f.notifyWith(n,[u,1,0]),f.resolveWith(n,[u,t])):f.rejectWith(n,[u,t]),this}}),h=u.props;for(le(h,u.opts.specialEasing);a>s;s++)if(e=l.prefilters[s].call(u,n,h,u.opts))return i.isFunction(e.stop)&&(i._queueHooks(u.elem,u.opts.queue).stop=i.proxy(e.stop,e)),e;return i.map(h,wu,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function k(n){return n.getAttribute&&n.getAttribute("class")||""}function uf(n){return function(t,r){"string"!=typeof t&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(h)||[];if(i.isFunction(r))while(u=e[f++])"+"===u[0]?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function ff(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);return"string"!=typeof s||o||f[s]?o?!(h=s):void 0:(t.dataTypes.unshift(s),e(s),!1)}),h}var f={},o=n===yi;return e(t.dataTypes[0])||!f["*"]&&e("*")}function wi(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function we(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;"*"===r[0];)r.shift(),void 0===e&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return(f!==r[0]&&r.unshift(f),i[f])}function be(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift())if("*"===u)u=e;else if("*"!==e&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]])){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}function bi(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||de.test(n)?u(n,i):bi(n+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,u)});else if(r||"object"!==i.type(t))u(n,t);else for(f in t)bi(n+"["+f+"]",t[f],r,u)}function sf(n){return i.isWindow(n)?n:9===n.nodeType&&n.defaultView}var y=[],u=n.document,v=y.slice,gi=y.concat,ni=y.push,ct=y.indexOf,lt={},lf=lt.toString,ti=lt.hasOwnProperty,f={},nr="2.2.0",i=function(n,t){return new i.fn.init(n,t)},af=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,vf=/^-ms-/,yf=/-([\da-z])/gi,pf=function(n,t){return t.toUpperCase()},p,ur,fr,er,or,sr,h,at,a,g,br,pt,ei,it,bt,vu,yu,bu,rt,ku,du,dt,gu,li,of,ut,ki,gt,di,hf,cf;i.fn=i.prototype={jquery:nr,constructor:i,selector:"",length:0,toArray:function(){return v.call(this)},get:function(n){return null!=n?0>n?this[n+this.length]:this[n]:v.call(this)},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n){return i.each(this,n)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(v.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(0>n?i:0);return this.pushStack(t>=0&&i>t?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:ni,sort:y.sort,splice:y.splice};i.extend=i.fn.extend=function(){var e,f,r,t,o,s,n=arguments[0]||{},u=1,c=arguments.length,h=!1;for("boolean"==typeof n&&(h=n,n=arguments[u]||{},u++),"object"==typeof n||i.isFunction(n)||(n={}),u===c&&(n=this,u--);c>u;u++)if(null!=(e=arguments[u]))for(f in e)r=n[f],t=e[f],n!==t&&(h&&t&&(i.isPlainObject(t)||(o=i.isArray(t)))?(o?(o=!1,s=r&&i.isArray(r)?r:[]):s=r&&i.isPlainObject(r)?r:{},n[f]=i.extend(h,s,t)):void 0!==t&&(n[f]=t));return n};i.extend({expando:"jQuery"+(nr+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isFunction:function(n){return"function"===i.type(n)},isArray:Array.isArray,isWindow:function(n){return null!=n&&n===n.window},isNumeric:function(n){var t=n&&n.toString();return!i.isArray(n)&&t-parseFloat(t)+1>=0},isPlainObject:function(n){return"object"!==i.type(n)||n.nodeType||i.isWindow(n)?!1:n.constructor&&!ti.call(n.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(n){for(var t in n)return!1;return!0},type:function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?lt[lf.call(n)]||"object":typeof n},globalEval:function(n){var t,r=eval;n=i.trim(n);n&&(1===n.indexOf("use strict")?(t=u.createElement("script"),t.text=n,u.head.appendChild(t).parentNode.removeChild(t)):r(n))},camelCase:function(n){return n.replace(vf,"ms-").replace(yf,pf)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t){var r,i=0;if(ii(n)){for(r=n.length;r>i;i++)if(t.call(n[i],i,n[i])===!1)break}else for(i in n)if(t.call(n[i],i,n[i])===!1)break;return n},trim:function(n){return null==n?"":(n+"").replace(af,"")},makeArray:function(n,t){var r=t||[];return null!=n&&(ii(Object(n))?i.merge(r,"string"==typeof n?[n]:n):ni.call(r,n)),r},inArray:function(n,t,i){return null==t?-1:ct.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;u>i;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;e>r;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var e,u,r=0,f=[];if(ii(n))for(e=n.length;e>r;r++)u=t(n[r],r,i),null!=u&&f.push(u);else for(r in n)u=t(n[r],r,i),null!=u&&f.push(u);return gi.apply([],f)},guid:1,proxy:function(n,t){var u,f,r;return"string"==typeof t&&(u=n[t],t=n,n=u),i.isFunction(n)?(f=v.call(arguments,2),r=function(){return n.apply(t||this,f.concat(v.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r):void 0},now:Date.now,support:f});"function"==typeof Symbol&&(i.fn[Symbol.iterator]=y[Symbol.iterator]);i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,t){lt["[object "+t+"]"]=t.toLowerCase()});p=function(n){function u(n,t,r,u){var l,w,a,s,nt,d,y,g,p=t&&t.ownerDocument,v=t?t.nodeType:9;if(r=r||[],"string"!=typeof n||!n||1!==v&&9!==v&&11!==v)return r;if(!u&&((t?t.ownerDocument||t:c)!==i&&b(t),t=t||i,h)){if(11!==v&&(d=sr.exec(n)))if(l=d[1]){if(9===v){if(!(a=t.getElementById(l)))return r;if(a.id===l)return r.push(a),r}else if(p&&(a=p.getElementById(l))&&et(t,a)&&a.id===l)return r.push(a),r}else{if(d[2])return k.apply(r,t.getElementsByTagName(n)),r;if((l=d[3])&&f.getElementsByClassName&&t.getElementsByClassName)return k.apply(r,t.getElementsByClassName(l)),r}if(f.qsa&&!lt[n+" "]&&(!o||!o.test(n))){if(1!==v)p=t,g=n;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(hr,"\\$&"):t.setAttribute("id",s=e),y=ft(n),w=y.length,nt=yi.test(s)?"#"+s:"[id='"+s+"']";w--;)y[w]=nt+" "+yt(y[w]);g=y.join(",");p=gt.test(n)&&ii(t.parentNode)||t}if(g)try{return k.apply(r,p.querySelectorAll(g)),r}catch(tt){}finally{s===e&&t.removeAttribute("id")}}}return si(n.replace(at,"$1"),t,r,u)}function ni(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function l(n){return n[e]=!0,n}function a(n){var t=i.createElement("div");try{return!!n(t)}catch(r){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ti(n,i){for(var r=n.split("|"),u=r.length;u--;)t.attrHandle[r[u]]=i}function wi(n,t){var i=t&&n,r=i&&1===n.nodeType&&1===t.nodeType&&(~t.sourceIndex||li)-(~n.sourceIndex||li);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function cr(n){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===n}}function lr(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function it(n){return l(function(t){return t=+t,l(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ii(n){return n&&"undefined"!=typeof n.getElementsByTagName&&n}function bi(){}function yt(n){for(var t=0,r=n.length,i="";r>t;t++)i+=n[t].value;return i}function ri(n,t,i){var r=t.dir,u=i&&"parentNode"===r,f=ki++;return t.first?function(t,i,f){while(t=t[r])if(1===t.nodeType||u)return n(t,i,f)}:function(t,i,o){var s,h,c,l=[v,f];if(o){while(t=t[r])if((1===t.nodeType||u)&&n(t,i,o))return!0}else while(t=t[r])if(1===t.nodeType||u){if(c=t[e]||(t[e]={}),h=c[t.uniqueID]||(c[t.uniqueID]={}),(s=h[r])&&s[0]===v&&s[1]===f)return l[2]=s[2];if(h[r]=l,l[2]=n(t,i,o))return!0}}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function ar(n,t,i){for(var r=0,f=t.length;f>r;r++)u(n,t[r],i);return i}function pt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;s>f;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function fi(n,t,i,r,u,f){return r&&!r[e]&&(r=fi(r)),u&&!u[e]&&(u=fi(u,f)),l(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,b=f||ar(t||"*",o.nodeType?[o]:o,[]),v=!n||!f&&t?b:pt(b,p,n,o,s),h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=pt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=pt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):k.apply(e,h)})}function ei(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=ri(function(n){return n===o},c,!0),a=ri(function(n){return nt(o,n)>-1},c,!0),f=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];s>i;i++)if(u=t.relative[n[i].type])f=[ri(ui(f),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[e]){for(r=++i;s>r;r++)if(t.relative[n[r].type])break;return fi(i>1&&ui(f),i>1&&yt(n.slice(0,i-1).concat({value:" "===n[i-2].type?"*":""})).replace(at,"$1"),u,r>i&&ei(n.slice(i,r)),s>r&&ei(n=n.slice(r)),s>r&&yt(n))}f.push(u)}return ui(f)}function vr(n,r){var f=r.length>0,e=n.length>0,o=function(o,s,c,l,a){var y,nt,d,g=0,p="0",tt=o&&[],w=[],it=ht,rt=o||e&&t.find.TAG("*",a),ut=v+=null==it?1:Math.random()||.1,ft=rt.length;for(a&&(ht=s===i||s||a);p!==ft&&null!=(y=rt[p]);p++){if(e&&y){for(nt=0,s||y.ownerDocument===i||(b(y),c=!h);d=n[nt++];)if(d(y,s||i,c)){l.push(y);break}a&&(v=ut)}f&&((y=!d&&y)&&g--,o&&tt.push(y))}if(g+=p,f&&p!==g){for(nt=0;d=r[nt++];)d(tt,w,s,c);if(o){if(g>0)while(p--)tt[p]||w[p]||(w[p]=gi.call(l));w=pt(w)}k.apply(l,w);a&&!o&&w.length>0&&g+r.length>1&&u.uniqueSort(l)}return a&&(v=ut,ht=it),tt};return f?l(o):o}var rt,f,t,st,oi,ft,wt,si,ht,w,ut,b,i,s,h,o,d,ct,et,e="sizzle"+1*new Date,c=n.document,v=0,ki=0,hi=ni(),ci=ni(),lt=ni(),bt=function(n,t){return n===t&&(ut=!0),0},li=-2147483648,di={}.hasOwnProperty,g=[],gi=g.pop,nr=g.push,k=g.push,ai=g.slice,nt=function(n,t){for(var i=0,r=n.length;r>i;i++)if(n[i]===t)return i;return-1},kt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",r="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",vi="\\["+r+"*("+tt+")(?:"+r+"*([*^$|!~]?=)"+r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tt+"))|)"+r+"*\\]",dt=":("+tt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+vi+")*)|.*)\\)|)",tr=new RegExp(r+"+","g"),at=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),ir=new RegExp("^"+r+"*,"+r+"*"),rr=new RegExp("^"+r+"*([>+~]|"+r+")"+r+"*"),ur=new RegExp("="+r+"*([^\\]'\"]*?)"+r+"*\\]","g"),fr=new RegExp(dt),yi=new RegExp("^"+tt+"$"),vt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),TAG:new RegExp("^("+tt+"|[*])"),ATTR:new RegExp("^"+vi),PSEUDO:new RegExp("^"+dt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),bool:new RegExp("^(?:"+kt+")$","i"),needsContext:new RegExp("^"+r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+r+"*((?:-\\d)?\\d*)"+r+"*\\)|)(?=[^-]|$)","i")},er=/^(?:input|select|textarea|button)$/i,or=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,sr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,hr=/'|\\/g,y=new RegExp("\\\\([\\da-f]{1,6}"+r+"?|("+r+")|.)","ig"),p=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},pi=function(){b()};try{k.apply(g=ai.call(c.childNodes),c.childNodes);g[c.childNodes.length].nodeType}catch(yr){k={apply:g.length?function(n,t){nr.apply(n,ai.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}f=u.support={};oi=u.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?"HTML"!==t.nodeName:!1};b=u.setDocument=function(n){var v,u,l=n?n.ownerDocument||n:c;return l!==i&&9===l.nodeType&&l.documentElement?(i=l,s=i.documentElement,h=!oi(i),(u=i.defaultView)&&u.top!==u&&(u.addEventListener?u.addEventListener("unload",pi,!1):u.attachEvent&&u.attachEvent("onunload",pi)),f.attributes=a(function(n){return n.className="i",!n.getAttribute("className")}),f.getElementsByTagName=a(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),f.getElementsByClassName=ot.test(i.getElementsByClassName),f.getById=a(function(n){return s.appendChild(n).id=e,!i.getElementsByName||!i.getElementsByName(e).length}),f.getById?(t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&h){var i=t.getElementById(n);return i?[i]:[]}},t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}}):(delete t.find.ID,t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i="undefined"!=typeof n.getAttributeNode&&n.getAttributeNode("id");return i&&i.value===t}}),t.find.TAG=f.getElementsByTagName?function(n,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(n):f.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){while(i=u[f++])1===i.nodeType&&r.push(i);return r}return u},t.find.CLASS=f.getElementsByClassName&&function(n,t){if("undefined"!=typeof t.getElementsByClassName&&h)return t.getElementsByClassName(n)},d=[],o=[],(f.qsa=ot.test(i.querySelectorAll))&&(a(function(n){s.appendChild(n).innerHTML="<a id='"+e+"'><\/a><select id='"+e+"-\r\\' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&o.push("[*^$]="+r+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||o.push("\\["+r+"*(?:value|"+kt+")");n.querySelectorAll("[id~="+e+"-]").length||o.push("~=");n.querySelectorAll(":checked").length||o.push(":checked");n.querySelectorAll("a#"+e+"+*").length||o.push(".#.+[+~]")}),a(function(n){var t=i.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&o.push("name"+r+"*[*^$|!~]?=");n.querySelectorAll(":enabled").length||o.push(":enabled",":disabled");n.querySelectorAll("*,:x");o.push(",.*:")})),(f.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&a(function(n){f.disconnectedMatch=ct.call(n,"div");ct.call(n,"[s!='']:x");d.push("!=",dt)}),o=o.length&&new RegExp(o.join("|")),d=d.length&&new RegExp(d.join("|")),v=ot.test(s.compareDocumentPosition),et=v||ot.test(s.contains)?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},bt=v?function(n,t){if(n===t)return ut=!0,0;var r=!n.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1,1&r||!f.sortDetached&&t.compareDocumentPosition(n)===r?n===i||n.ownerDocument===c&&et(c,n)?-1:t===i||t.ownerDocument===c&&et(c,t)?1:w?nt(w,n)-nt(w,t):0:4&r?-1:1)}:function(n,t){if(n===t)return ut=!0,0;var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(!o||!s)return n===i?-1:t===i?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;if(o===s)return wi(n,t);for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?wi(f[u],e[u]):f[u]===c?-1:e[u]===c?1:0},i):i};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==i&&b(n),t=t.replace(ur,"='$1']"),f.matchesSelector&&h&&!lt[t+" "]&&(!d||!d.test(t))&&(!o||!o.test(t)))try{var r=ct.call(n,t);if(r||f.disconnectedMatch||n.document&&11!==n.document.nodeType)return r}catch(e){}return u(t,i,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!==i&&b(n),et(n,t)};u.attr=function(n,r){(n.ownerDocument||n)!==i&&b(n);var e=t.attrHandle[r.toLowerCase()],u=e&&di.call(t.attrHandle,r.toLowerCase())?e(n,r,!h):void 0;return void 0!==u?u:f.attributes||!h?n.getAttribute(r):(u=n.getAttributeNode(r))&&u.specified?u.value:null};u.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var r,u=[],t=0,i=0;if(ut=!f.detectDuplicates,w=!f.sortStable&&n.slice(0),n.sort(bt),ut){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)n.splice(u[t],1)}return w=null,n};st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(3===t||4===t)return n.nodeValue}else while(r=n[u++])i+=st(r);return i};t=u.selectors={cacheLength:50,createPseudo:l,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return vt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&fr.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=hi[n+" "];return t||(t=new RegExp("(^|"+r+")"+n+"("+r+"|$)"))&&hi(n,function(n){return t.test("string"==typeof n.className&&n.className||"undefined"!=typeof n.getAttribute&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return null==f?"!="===t:t?(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&f.indexOf(i)>-1:"$="===t?i&&f.slice(-i.length)===i:"~="===t?(" "+f.replace(tr," ")+" ").indexOf(i)>-1:"|="===t?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),o="last"!==n.slice(-4),f="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var p,w,y,c,a,b,k=s!==o?"nextSibling":"previousSibling",d=t.parentNode,nt=f&&t.nodeName.toLowerCase(),g=!h&&!f,l=!1;if(d){if(s){while(k){for(c=t;c=c[k];)if(f?c.nodeName.toLowerCase()===nt:1===c.nodeType)return!1;b=k="only"===n&&!b&&"nextSibling"}return!0}if(b=[o?d.firstChild:d.lastChild],o&&g){for(c=d,y=c[e]||(c[e]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a&&p[2],c=a&&d.childNodes[a];c=++a&&c&&c[k]||(l=a=0)||b.pop();)if(1===c.nodeType&&++l&&c===t){w[n]=[v,a,l];break}}else if(g&&(c=t,y=c[e]||(c[e]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a),l===!1)while(c=++a&&c&&c[k]||(l=a=0)||b.pop())if((f?c.nodeName.toLowerCase()===nt:1===c.nodeType)&&++l&&(g&&(y=c[e]||(c[e]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),w[n]=[v,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var f,r=t.pseudos[n]||t.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return r[e]?r(i):r.length>1?(f=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?l(function(n,t){for(var u,f=r(n,i),e=f.length;e--;)u=nt(n,f[e]),n[u]=!(t[u]=f[e])}):function(n){return r(n,0,f)}):r}},pseudos:{not:l(function(n){var t=[],r=[],i=wt(n.replace(at,"$1"));return i[e]?l(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:l(function(n){return function(t){return u(n,t).length>0}}),contains:l(function(n){return n=n.replace(y,p),function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:l(function(n){return yi.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===i.activeElement&&(!i.hasFocus||i.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return or.test(n.nodeName)},input:function(n){return er.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||"text"===t.toLowerCase())},first:it(function(){return[0]}),last:it(function(n,t){return[t-1]}),eq:it(function(n,t,i){return[0>i?i+t:i]}),even:it(function(n,t){for(var i=0;t>i;i+=2)n.push(i);return n}),odd:it(function(n,t){for(var i=1;t>i;i+=2)n.push(i);return n}),lt:it(function(n,t,i){for(var r=0>i?i+t:i;--r>=0;)n.push(r);return n}),gt:it(function(n,t,i){for(var r=0>i?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(rt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[rt]=cr(rt);for(rt in{submit:!0,reset:!0})t.pseudos[rt]=lr(rt);return bi.prototype=t.filters=t.pseudos,t.setFilters=new bi,ft=u.tokenize=function(n,i){var e,f,s,o,r,h,c,l=ci[n+" "];if(l)return i?0:l.slice(0);for(r=n,h=[],c=t.preFilter;r;){(!e||(f=ir.exec(r)))&&(f&&(r=r.slice(f[0].length)||r),h.push(s=[]));e=!1;(f=rr.exec(r))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),r=r.slice(e.length));for(o in t.filter)(f=vt[o].exec(r))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),r=r.slice(e.length));if(!e)break}return i?r.length:r?u.error(n):ci(n,h).slice(0)},wt=u.compile=function(n,t){var r,u=[],f=[],i=lt[n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)i=ei(t[r]),i[e]?u.push(i):f.push(i);i=lt(n,vr(f,u));i.selector=n}return i},si=u.select=function(n,i,r,u){var s,e,o,a,v,l="function"==typeof n&&n,c=!u&&ft(n=l.selector||n);if(r=r||[],1===c.length){if(e=c[0]=c[0].slice(0),e.length>2&&"ID"===(o=e[0]).type&&f.getById&&9===i.nodeType&&h&&t.relative[e[1].type]){if(i=(t.find.ID(o.matches[0].replace(y,p),i)||[])[0],!i)return r;l&&(i=i.parentNode);n=n.slice(e.shift().value.length)}for(s=vt.needsContext.test(n)?0:e.length;s--;){if(o=e[s],t.relative[a=o.type])break;if((v=t.find[a])&&(u=v(o.matches[0].replace(y,p),gt.test(e[0].type)&&ii(i.parentNode)||i))){if(e.splice(s,1),n=u.length&&yt(e),!n)return k.apply(r,u),r;break}}}return(l||wt(n,c))(u,i,!h,r,!i||gt.test(n)&&ii(i.parentNode)||i),r},f.sortStable=e.split("").sort(bt).join("")===e,f.detectDuplicates=!!ut,b(),f.sortDetached=a(function(n){return 1&n.compareDocumentPosition(i.createElement("div"))}),a(function(n){return n.innerHTML="<a href='#'><\/a>","#"===n.firstChild.getAttribute("href")})||ti("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&a(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),""===n.firstChild.getAttribute("value")})||ti("value",function(n,t,i){if(!i&&"input"===n.nodeName.toLowerCase())return n.defaultValue}),a(function(n){return null==n.getAttribute("disabled")})||ti(kt,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),u}(n);i.find=p;i.expr=p.selectors;i.expr[":"]=i.expr.pseudos;i.uniqueSort=i.unique=p.uniqueSort;i.text=p.getText;i.isXMLDoc=p.isXML;i.contains=p.contains;var d=function(n,t,r){for(var u=[],f=void 0!==r;(n=n[t])&&9!==n.nodeType;)if(1===n.nodeType){if(f&&i(n).is(r))break;u.push(n)}return u},tr=function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i},ir=i.expr.match.needsContext,rr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,wf=/^.[^:#\[\.,]*$/;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),1===t.length&&1===u.nodeType?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return 1===n.nodeType}))};i.fn.extend({find:function(n){var t,u=this.length,r=[],f=this;if("string"!=typeof n)return this.pushStack(i(n).filter(function(){for(t=0;u>t;t++)if(i.contains(f[t],this))return!0}));for(t=0;u>t;t++)i.find(n,f[t],r);return r=this.pushStack(u>1?i.unique(r):r),r.selector=this.selector?this.selector+" "+n:n,r},filter:function(n){return this.pushStack(ri(this,n||[],!1))},not:function(n){return this.pushStack(ri(this,n||[],!0))},is:function(n){return!!ri(this,"string"==typeof n&&ir.test(n)?i(n):n||[],!1).length}});fr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;er=i.fn.init=function(n,t,r){var f,e;if(!n)return this;if(r=r||ur,"string"==typeof n){if(f="<"===n[0]&&">"===n[n.length-1]&&n.length>=3?[null,n,null]:fr.exec(n),!f||!f[1]&&t)return!t||t.jquery?(t||r).find(n):this.constructor(t).find(n);if(f[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(f[1],t&&t.nodeType?t.ownerDocument||t:u,!0)),rr.test(f[1])&&i.isPlainObject(t))for(f in t)i.isFunction(this[f])?this[f](t[f]):this.attr(f,t[f]);return this}return e=u.getElementById(f[2]),e&&e.parentNode&&(this.length=1,this[0]=e),this.context=u,this.selector=n,this}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?void 0!==r.ready?r.ready(n):n(i):(void 0!==n.selector&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))};er.prototype=i.fn;ur=i(u);or=/^(?:parents|prev(?:Until|All))/;sr={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;r>n;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=ir.test(n)||"string"!=typeof n?i(n,t||this.context):0;o>f;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:1===r.nodeType&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.uniqueSort(u):u)},index:function(n){return n?"string"==typeof n?ct.call(i(n),this[0]):ct.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return d(n,"parentNode")},parentsUntil:function(n,t,i){return d(n,"parentNode",i)},next:function(n){return hr(n,"nextSibling")},prev:function(n){return hr(n,"previousSibling")},nextAll:function(n){return d(n,"nextSibling")},prevAll:function(n){return d(n,"previousSibling")},nextUntil:function(n,t,i){return d(n,"nextSibling",i)},prevUntil:function(n,t,i){return d(n,"previousSibling",i)},siblings:function(n){return tr((n.parentNode||{}).firstChild,n)},children:function(n){return tr(n.firstChild)},contents:function(n){return n.contentDocument||i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return"Until"!==n.slice(-5)&&(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),this.length>1&&(sr[n]||i.uniqueSort(f),or.test(n)&&f.reverse()),this.pushStack(f)}});h=/\S+/g;i.Callbacks=function(n){n="string"==typeof n?bf(n):i.extend({},n);var o,r,h,f,t=[],e=[],u=-1,c=function(){for(f=n.once,h=o=!0;e.length;u=-1)for(r=e.shift();++u<t.length;)t[u].apply(r[0],r[1])===!1&&n.stopOnFalse&&(u=t.length,r=!1);n.memory||(r=!1);o=!1;f&&(t=r?[]:"")},s={add:function(){return t&&(r&&!o&&(u=t.length-1,e.push(r)),function f(r){i.each(r,function(r,u){i.isFunction(u)?n.unique&&s.has(u)||t.push(u):u&&u.length&&"string"!==i.type(u)&&f(u)})}(arguments),r&&!o&&c()),this},remove:function(){return i.each(arguments,function(n,r){for(var f;(f=i.inArray(r,t,f))>-1;)t.splice(f,1),u>=f&&u--}),this},has:function(n){return n?i.inArray(n,t)>-1:t.length>0},empty:function(){return t&&(t=[]),this},disable:function(){return f=e=[],t=r="",this},disabled:function(){return!t},lock:function(){return f=e=[],r||(t=r=""),this},locked:function(){return!!f},fireWith:function(n,t){return f||(t=t||[],t=[n,t.slice?t.slice():t],e.push(t),o||c()),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!h}};return s};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().progress(f.notify).done(f.resolve).fail(f.reject):f[e[0]+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return null!=n?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[1^n][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=v.call(arguments),r=u.length,e=1!==r||n&&i.isFunction(n.promise)?r:0,f=1===e?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?v.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=new Array(r),c=new Array(r),s=new Array(r);r>t;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().progress(h(t,c,o)).done(h(t,s,u)).fail(f.reject):--e;return e||f.resolveWith(s,u),f.promise()}});i.fn.ready=function(n){return i.ready.promise().done(n),this};i.extend({isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0||(at.resolveWith(u,[i]),i.fn.triggerHandler&&(i(u).triggerHandler("ready"),i(u).off("ready"))))}});i.ready.promise=function(t){return at||(at=i.Deferred(),"complete"===u.readyState||"loading"!==u.readyState&&!u.documentElement.doScroll?n.setTimeout(i.ready):(u.addEventListener("DOMContentLoaded",vt),n.addEventListener("load",vt))),at.promise(t)};i.ready.promise();a=function(n,t,r,u,f,e,o){var s=0,c=n.length,h=null==r;if("object"===i.type(r)){f=!0;for(s in r)a(n,t,s,r[s],!0,e,o)}else if(void 0!==u&&(f=!0,i.isFunction(u)||(o=!0),h&&(o?(t.call(n,u),t=null):(h=t,t=function(n,t,r){return h.call(i(n),r)})),t))for(;c>s;s++)t(n[s],r,o?u:u.call(n[s],s,t(n[s],r)));return f?n:h?t.call(n):c?t(n[0],r):e};g=function(n){return 1===n.nodeType||9===n.nodeType||!+n.nodeType};ft.uid=1;ft.prototype={register:function(n,t){var i=t||{};return n.nodeType?n[this.expando]=i:Object.defineProperty(n,this.expando,{value:i,writable:!0,configurable:!0}),n[this.expando]},cache:function(n){if(!g(n))return{};var t=n[this.expando];return t||(t={},g(n)&&(n.nodeType?n[this.expando]=t:Object.defineProperty(n,this.expando,{value:t,configurable:!0}))),t},set:function(n,t,i){var r,u=this.cache(n);if("string"==typeof t)u[t]=i;else for(r in t)u[r]=t[r];return u},get:function(n,t){return void 0===t?this.cache(n):n[this.expando]&&n[this.expando][t]},access:function(n,t,r){var u;return void 0===t||t&&"string"==typeof t&&void 0===r?(u=this.get(n,t),void 0!==u?u:this.get(n,i.camelCase(t))):(this.set(n,t,r),void 0!==r?r:t)},remove:function(n,t){var f,r,e,u=n[this.expando];if(void 0!==u){if(void 0===t)this.register(n);else for(i.isArray(t)?r=t.concat(t.map(i.camelCase)):(e=i.camelCase(t),(t in u)?r=[t,e]:(r=e,r=(r in u)?[r]:r.match(h)||[])),f=r.length;f--;)delete u[r[f]];(void 0===t||i.isEmptyObject(u))&&(n.nodeType?n[this.expando]=void 0:delete n[this.expando])}},hasData:function(n){var t=n[this.expando];return void 0!==t&&!i.isEmptyObject(t)}};var r=new ft,e=new ft,kf=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,cr=/[A-Z]/g;i.extend({hasData:function(n){return e.hasData(n)||r.hasData(n)},data:function(n,t,i){return e.access(n,t,i)},removeData:function(n,t){e.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var o,f,s,u=this[0],h=u&&u.attributes;if(void 0===n){if(this.length&&(s=e.get(u),1===u.nodeType&&!r.get(u,"hasDataAttrs"))){for(o=h.length;o--;)h[o]&&(f=h[o].name,0===f.indexOf("data-")&&(f=i.camelCase(f.slice(5)),lr(u,f,s[f])));r.set(u,"hasDataAttrs",!0)}return s}return"object"==typeof n?this.each(function(){e.set(this,n)}):a(this,function(t){var r,f;if(u&&void 0===t){if((r=e.get(u,n)||e.get(u,n.replace(cr,"-$&").toLowerCase()),void 0!==r)||(f=i.camelCase(n),r=e.get(u,f),void 0!==r)||(r=lr(u,f,void 0),void 0!==r))return r}else f=i.camelCase(n),this.each(function(){var i=e.get(this,f);e.set(this,f,t);n.indexOf("-")>-1&&void 0!==i&&e.set(this,n,t)})},null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){e.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return(t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||i.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[])},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};"inprogress"===u&&(u=r.shift(),e--);u&&("fx"===t&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return"string"!=typeof n&&(t=n,n="fx",r--),arguments.length<r?i.queue(this[0],n):void 0===t?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);"fx"===n&&"inprogress"!==r[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for("string"!=typeof n&&(t=n,n=void 0),n=n||"fx";s--;)u=r.get(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var ar=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+ar+")([a-z%]*)$","i"),w=["Top","Right","Bottom","Left"],ot=function(n,t){return n=t||n,"none"===i.css(n,"display")||!i.contains(n.ownerDocument,n)};var yr=/^(?:checkbox|radio)$/i,pr=/<([\w:-]+)/,wr=/^$|\/(?:java|ecma)script/i,c={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};c.optgroup=c.option;c.tbody=c.tfoot=c.colgroup=c.caption=c.thead;c.th=c.td;br=/<|&#?\w+;/;!function(){var i=u.createDocumentFragment(),n=i.appendChild(u.createElement("div")),t=u.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);f.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";f.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue}();var df=/^key/,gf=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,dr=/^([^.]*)(?:\.(.+)|)/;i.event={global:{},add:function(n,t,u,f,e){var v,y,w,p,b,c,s,l,o,k,d,a=r.get(n);if(a)for(u.handler&&(v=u,u=v.handler,e=v.selector),u.guid||(u.guid=i.guid++),(p=a.events)||(p=a.events={}),(y=a.handle)||(y=a.handle=function(t){if("undefined"!=typeof i&&i.event.triggered!==t.type)return i.event.dispatch.apply(n,arguments)}),t=(t||"").match(h)||[""],b=t.length;b--;)w=dr.exec(t[b])||[],o=d=w[1],k=(w[2]||"").split(".").sort(),o&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},c=i.extend({type:o,origType:d,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:k.join(".")},v),(l=p[o])||(l=p[o]=[],l.delegateCount=0,s.setup&&s.setup.call(n,f,k,y)!==!1||n.addEventListener&&n.addEventListener(o,y)),s.add&&(s.add.call(n,c),c.handler.guid||(c.handler.guid=u.guid)),e?l.splice(l.delegateCount++,0,c):l.push(c),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var y,k,c,v,p,s,l,a,o,b,d,w=r.hasData(n)&&r.get(n);if(w&&(v=w.events)){for(t=(t||"").match(h)||[""],p=t.length;p--;)if(c=dr.exec(t[p])||[],o=d=c[1],b=(c[2]||"").split(".").sort(),o){for(l=i.event.special[o]||{},o=(f?l.delegateType:l.bindType)||o,a=v[o]||[],c=c[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=y=a.length;y--;)s=a[y],!e&&d!==s.origType||u&&u.guid!==s.guid||c&&!c.test(s.namespace)||f&&f!==s.selector&&("**"!==f||!s.selector)||(a.splice(y,1),s.selector&&a.delegateCount--,l.remove&&l.remove.call(n,s));k&&!a.length&&(l.teardown&&l.teardown.call(n,b,w.handle)!==!1||i.removeEvent(n,o,w.handle),delete v[o])}else for(o in v)i.event.remove(n,o+t[p],u,f,!0);i.isEmptyObject(v)&&r.remove(n,"handle events")}},dispatch:function(n){n=i.event.fix(n);var o,s,e,u,t,h=[],c=v.call(arguments),l=(r.get(this,"events")||{})[n.type]||[],f=i.event.special[n.type]||{};if(c[0]=n,n.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,n)!==!1){for(h=i.event.handlers.call(this,n,l),o=0;(u=h[o++])&&!n.isPropagationStopped();)for(n.currentTarget=u.elem,s=0;(t=u.handlers[s++])&&!n.isImmediatePropagationStopped();)(!n.rnamespace||n.rnamespace.test(t.namespace))&&(n.handleObj=t,n.data=t.data,e=((i.event.special[t.origType]||{}).handle||t.handler).apply(u.elem,c),void 0!==e&&(n.result=e)===!1&&(n.preventDefault(),n.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,n),n.result}},handlers:function(n,t){var e,u,f,o,h=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&("click"!==n.type||isNaN(n.button)||n.button<1))for(;r!==this;r=r.parentNode||this)if(1===r.nodeType&&(r.disabled!==!0||"click"!==n.type)){for(u=[],e=0;s>e;e++)o=t[e],f=o.selector+" ",void 0===u[f]&&(u[f]=o.needsContext?i(f,this).index(r)>-1:i.find(f,this,null,[r]).length),u[f]&&u.push(o);u.length&&h.push({elem:r,handlers:u})}return s<t.length&&h.push({elem:this,handlers:t.slice(s)}),h},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return null==n.which&&(n.which=null!=t.charCode?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,t){var e,i,r,f=t.button;return null==n.pageX&&null!=t.clientX&&(e=n.target.ownerDocument||u,i=e.documentElement,r=e.body,n.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),n.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),n.which||void 0===f||(n.which=1&f?1:2&f?3:4&f?2:0),n}},fix:function(n){if(n[i.expando])return n;var f,e,o,r=n.type,s=n,t=this.fixHooks[r];for(t||(this.fixHooks[r]=t=gf.test(r)?this.mouseHooks:df.test(r)?this.keyHooks:{}),o=t.props?this.props.concat(t.props):this.props,n=new i.Event(s),f=o.length;f--;)e=o[f],n[e]=s[e];return n.target||(n.target=u),3===n.target.nodeType&&(n.target=n.target.parentNode),t.filter?t.filter(n,s):n},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==gr()&&this.focus)return(this.focus(),!1)},delegateType:"focusin"},blur:{trigger:function(){if(this===gr()&&this.blur)return(this.blur(),!1)},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&i.nodeName(this,"input"))return(this.click(),!1)},_default:function(n){return i.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){void 0!==n.result&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i)};i.Event=function(n,t){return this instanceof i.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||void 0===n.defaultPrevented&&n.returnValue===!1?yt:nt):this.type=n,t&&i.extend(this,t),this.timeStamp=n&&n.timeStamp||i.now(),void(this[i.expando]=!0)):new i.Event(n,t)};i.Event.prototype={constructor:i.Event,isDefaultPrevented:nt,isPropagationStopped:nt,isImmediatePropagationStopped:nt,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=yt;n&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=yt;n&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=yt;n&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return(!r||r!==f&&!i.contains(f,r))&&(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});i.fn.extend({on:function(n,t,i,r){return fi(this,n,t,i,r)},one:function(n,t,i,r){return fi(this,n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if("object"==typeof n){for(f in n)this.off(f,t,n[f]);return this}return(t===!1||"function"==typeof t)&&(r=t,t=void 0),r===!1&&(r=nt),this.each(function(){i.event.remove(this,n,r,t)})}});var ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,te=/<script|<style|<link/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,re=/^true\/(.*)/,ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;i.extend({htmlPrefilter:function(n){return n.replace(ne,"<$1><\/$2>")},clone:function(n,t,r){var u,c,s,e,h=n.cloneNode(!0),l=i.contains(n.ownerDocument,n);if(!(f.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(e=o(h),s=o(n),u=0,c=s.length;c>u;u++)oe(s[u],e[u]);if(t)if(r)for(s=s||o(n),e=e||o(h),u=0,c=s.length;c>u;u++)tu(s[u],e[u]);else tu(n,h);return e=o(h,"script"),e.length>0&&ui(e,!l&&o(n,"script")),h},cleanData:function(n){for(var u,t,f,s=i.event.special,o=0;void 0!==(t=n[o]);o++)if(g(t)){if(u=t[r.expando]){if(u.events)for(f in u.events)s[f]?i.event.remove(t,f):i.removeEvent(t,f,u.handle);t[r.expando]=void 0}t[e.expando]&&(t[e.expando]=void 0)}}});i.fn.extend({domManip:b,detach:function(n){return iu(this,n,!0)},remove:function(n){return iu(this,n)},text:function(n){return a(this,function(n){return void 0===n?i.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=n)})},null,n,arguments.length)},append:function(){return b(this,arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=nu(this,n);t.appendChild(n)}})},prepend:function(){return b(this,arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=nu(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return b(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return b(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,t=0;null!=(n=this[t]);t++)1===n.nodeType&&(i.cleanData(o(n,!1)),n.textContent="");return this},clone:function(n,t){return n=null==n?!1:n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return a(this,function(n){var t=this[0]||{},r=0,u=this.length;if(void 0===n&&1===t.nodeType)return t.innerHTML;if("string"==typeof n&&!te.test(n)&&!c[(pr.exec(n)||["",""])[1].toLowerCase()]){n=i.htmlPrefilter(n);try{for(;u>r;r++)t=this[r]||{},1===t.nodeType&&(i.cleanData(o(t,!1)),t.innerHTML=n);t=0}catch(f){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=[];return b(this,arguments,function(t){var r=this.parentNode;i.inArray(this,n)<0&&(i.cleanData(o(this)),r&&r.replaceChild(t,this))},n)}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;o>=r;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),ni.apply(f,u.get());return this.pushStack(f)}});ei={HTML:"block",BODY:"block"};var uu=/^margin/,si=new RegExp("^("+ar+")(?!px)[a-z%]+$","i"),wt=function(t){var i=t.ownerDocument.defaultView;return i.opener||(i=n),i.getComputedStyle(t)},hi=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f},st=u.documentElement;!function(){var s,e,h,c,r=u.createElement("div"),t=u.createElement("div");if(t.style){t.style.backgroundClip="content-box";t.cloneNode(!0).style.backgroundClip="";f.clearCloneStyle="content-box"===t.style.backgroundClip;r.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute";r.appendChild(t);function o(){t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";t.innerHTML="";st.appendChild(r);var i=n.getComputedStyle(t);s="1%"!==i.top;c="2px"===i.marginLeft;e="4px"===i.width;t.style.marginRight="50%";h="4px"===i.marginRight;st.removeChild(r)}i.extend(f,{pixelPosition:function(){return o(),s},boxSizingReliable:function(){return null==e&&o(),e},pixelMarginRight:function(){return null==e&&o(),h},reliableMarginLeft:function(){return null==e&&o(),c},reliableMarginRight:function(){var f,i=t.appendChild(u.createElement("div"));return i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",st.appendChild(r),f=!parseFloat(n.getComputedStyle(i).marginRight),st.removeChild(r),t.removeChild(i),f}})}}();var se=/^(none|table(?!-c[ea]).+)/,he={position:"absolute",visibility:"hidden",display:"block"},fu={letterSpacing:"0",fontWeight:"400"},eu=["Webkit","O","Moz","ms"],ou=u.createElement("div").style;i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=tt(n,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(n,t,r,u){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var e,h,o,s=i.camelCase(t),c=n.style;return t=i.cssProps[s]||(i.cssProps[s]=su(s)||s),o=i.cssHooks[t]||i.cssHooks[s],void 0===r?o&&"get"in o&&void 0!==(e=o.get(n,!1,u))?e:c[t]:(h=typeof r,"string"===h&&(e=et.exec(r))&&e[1]&&(r=vr(n,t,e),h="number"),null!=r&&r===r&&("number"===h&&(r+=e&&e[3]||(i.cssNumber[s]?"":"px")),f.clearCloneStyle||""!==r||0!==t.indexOf("background")||(c[t]="inherit"),o&&"set"in o&&void 0===(r=o.set(n,r,u))||(c[t]=r)),void 0)}},css:function(n,t,r,u){var f,s,o,e=i.camelCase(t);return t=i.cssProps[e]||(i.cssProps[e]=su(e)||e),o=i.cssHooks[t]||i.cssHooks[e],o&&"get"in o&&(f=o.get(n,!0,r)),void 0===f&&(f=tt(n,t,u)),"normal"===f&&t in fu&&(f=fu[t]),""===r||r?(s=parseFloat(f),r===!0||isFinite(s)?s||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return se.test(i.css(n,"display"))&&0===n.offsetWidth?hi(n,he,function(){return lu(n,t,u)}):lu(n,t,u)},set:function(n,r,u){var f,e=u&&wt(n),o=u&&cu(n,t,u,"border-box"===i.css(n,"boxSizing",!1,e),e);return o&&(f=et.exec(r))&&"px"!==(f[3]||"px")&&(n.style[t]=r,r=i.css(n,t)),hu(n,r,o)}}});i.cssHooks.marginLeft=ci(f.reliableMarginLeft,function(n,t){if(t)return(parseFloat(tt(n,"marginLeft"))||n.getBoundingClientRect().left-hi(n,{marginLeft:0},function(){return n.getBoundingClientRect().left}))+"px"});i.cssHooks.marginRight=ci(f.reliableMarginRight,function(n,t){if(t)return hi(n,{display:"inline-block"},tt,[n,"marginRight"])});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];4>r;r++)f[n+w[r]+t]=u[r]||u[r-2]||u[0];return f}};uu.test(n)||(i.cssHooks[n+t].set=hu)});i.fn.extend({css:function(n,t){return a(this,function(n,t,r){var f,e,o={},u=0;if(i.isArray(t)){for(f=wt(n),e=t.length;e>u;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return void 0!==r?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)},show:function(){return au(this,!0)},hide:function(){return au(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){ot(this)?i(this).show():i(this).hide()})}});i.Tween=s;s.prototype={constructor:s,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||i.easing._default;this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=s.propHooks[this.prop];return n&&n.get?n.get(this):s.propHooks._default.get(this)},run:function(n){var t,r=s.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):s.propHooks._default.set(this),this}};s.prototype.init.prototype=s.prototype;s.propHooks={_default:{get:function(n){var t;return 1!==n.elem.nodeType||null!=n.elem[n.prop]&&null==n.elem.style[n.prop]?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),t&&"auto"!==t?t:0)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):1!==n.elem.nodeType||null==n.elem.style[i.cssProps[n.prop]]&&!i.cssHooks[n.prop]?n.elem[n.prop]=n.now:i.style(n.elem,n.prop,n.now+n.unit)}}};s.propHooks.scrollTop=s.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},_default:"swing"};i.fx=s.prototype.init;i.fx.step={};vu=/^(?:toggle|show|hide)$/;yu=/queueHooks$/;i.Animation=i.extend(l,{tweeners:{"*":[function(n,t){var i=this.createTween(n,t);return vr(i.elem,n,et.exec(t),i),i}]},tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.match(h);for(var r,u=0,f=n.length;f>u;u++)r=n[u],l.tweeners[r]=l.tweeners[r]||[],l.tweeners[r].unshift(t)},prefilters:[ce],prefilter:function(n,t){t?l.prefilters.unshift(n):l.prefilters.push(n)}});i.speed=function(n,t,r){var u=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:"number"==typeof u.duration?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(null==u.queue||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(ot).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=l(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return"string"!=typeof n&&(u=t,t=n,n=void 0),t&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=null!=n&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&yu.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem!==this||null!=n&&o[t].queue!==n||(o[t].anim.stop(u),s=!1,o.splice(t,1));(s||!u)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;s>t;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(kt(t,!0),n,i,u)}});i.each({slideDown:kt("show"),slideUp:kt("hide"),slideToggle:kt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(it=i.now();n<t.length;n++)r=t[n],r()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();it=void 0};i.fx.timer=function(n){i.timers.push(n);n()?i.fx.start():i.timers.pop()};i.fx.interval=13;i.fx.start=function(){bt||(bt=n.setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){n.clearInterval(bt);bt=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(t,r){return t=i.fx?i.fx.speeds[t]||t:t,r=r||"fx",this.queue(r,function(i,r){var u=n.setTimeout(i,t);r.stop=function(){n.clearTimeout(u)}})},function(){var n=u.createElement("input"),t=u.createElement("select"),i=t.appendChild(u.createElement("option"));n.type="checkbox";f.checkOn=""!==n.value;f.optSelected=i.selected;t.disabled=!0;f.optDisabled=!i.disabled;n=u.createElement("input");n.value="t";n.type="radio";f.radioValue="t"===n.value}();rt=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return a(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return"undefined"==typeof n.getAttribute?i.prop(n,t,r):(1===e&&i.isXMLDoc(n)||(t=t.toLowerCase(),f=i.attrHooks[t]||(i.expr.match.bool.test(t)?bu:void 0)),void 0!==r?null===r?void i.removeAttr(n,t):f&&"set"in f&&void 0!==(u=f.set(n,r,t))?u:(n.setAttribute(t,r+""),r):f&&"get"in f&&null!==(u=f.get(n,t))?u:(u=i.find.attr(n,t),null==u?void 0:u))},attrHooks:{type:{set:function(n,t){if(!f.radioValue&&"radio"===t&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}}},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(h);if(f&&1===n.nodeType)while(r=f[e++])u=i.propFix[r]||r,i.expr.match.bool.test(r)&&(n[u]=!1),n.removeAttribute(r)}});bu={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=rt[t]||i.find.attr;rt[t]=function(n,t,i){var u,f;return i||(f=rt[t],rt[t]=u,u=null!=r(n,t,i)?t.toLowerCase():null,rt[t]=f),u}});ku=/^(?:input|select|textarea|button)$/i;du=/^(?:a|area)$/i;i.fn.extend({prop:function(n,t){return a(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({prop:function(n,t,r){var f,u,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return 1===e&&i.isXMLDoc(n)||(t=i.propFix[t]||t,u=i.propHooks[t]),void 0!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:n[t]=r:u&&"get"in u&&null!==(f=u.get(n,t))?f:n[t]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):ku.test(n.nodeName)||du.test(n.nodeName)&&n.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});f.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});dt=/[\t\r\n\f]/g;i.fn.extend({addClass:function(n){var o,t,r,u,f,s,e,c=0;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,k(this)))});if("string"==typeof n&&n)for(o=n.match(h)||[];t=this[c++];)if(u=k(t),r=1===t.nodeType&&(" "+u+" ").replace(dt," ")){for(s=0;f=o[s++];)r.indexOf(" "+f+" ")<0&&(r+=f+" ");e=i.trim(r);u!==e&&t.setAttribute("class",e)}return this},removeClass:function(n){var o,r,t,u,f,s,e,c=0;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,k(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof n&&n)for(o=n.match(h)||[];r=this[c++];)if(u=k(r),t=1===r.nodeType&&(" "+u+" ").replace(dt," ")){for(s=0;f=o[s++];)while(t.indexOf(" "+f+" ")>-1)t=t.replace(" "+f+" "," ");e=i.trim(t);u!==e&&r.setAttribute("class",e)}return this},toggleClass:function(n,t){var u=typeof n;return"boolean"==typeof t&&"string"===u?t?this.addClass(n):this.removeClass(n):i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,k(this),t),t)}):this.each(function(){var t,e,f,o;if("string"===u)for(e=0,f=i(this),o=n.match(h)||[];t=o[e++];)f.hasClass(t)?f.removeClass(t):f.addClass(t);else(void 0===n||"boolean"===u)&&(t=k(this),t&&r.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||n===!1?"":r.get(this,"__className__")||""))})},hasClass:function(n){for(var t,r=0,i=" "+n+" ";t=this[r++];)if(1===t.nodeType&&(" "+k(t)+" ").replace(dt," ").indexOf(i)>-1)return!0;return!1}});gu=/\r/g;i.fn.extend({val:function(n){var t,r,f,u=this[0];return arguments.length?(f=i.isFunction(n),this.each(function(r){var u;1===this.nodeType&&(u=f?n.call(this,r,i(this).val()):n,null==u?u="":"number"==typeof u?u+="":i.isArray(u)&&(u=i.map(u,function(n){return null==n?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,u,"value")||(this.value=u))})):u?(t=i.valHooks[u.type]||i.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(u,"value"))?r:(r=u.value,"string"==typeof r?r.replace(gu,""):null==r?"":r)):void 0}});i.extend({valHooks:{option:{get:function(n){return i.trim(n.value)}},select:{get:function(n){for(var o,t,s=n.options,r=n.selectedIndex,u="select-one"===n.type||0>r,h=u?null:[],c=u?r+1:s.length,e=0>r?c:u?r:0;c>e;e++)if(t=s[e],(t.selected||e===r)&&(f.optDisabled?!t.disabled:null===t.getAttribute("disabled"))&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(o=i(t).val(),u)return o;h.push(o)}return h},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(i.valHooks.option.get(r),e)>-1)&&(u=!0);return u||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>-1}};f.checkOn||(i.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});li=/^(?:focusinfocus|focusoutblur)$/;i.extend(i.event,{trigger:function(t,f,e,o){var w,s,c,b,a,v,l,p=[e||u],h=ti.call(t,"type")?t.type:t,y=ti.call(t,"namespace")?t.namespace.split("."):[];if(s=c=e=e||u,3!==e.nodeType&&8!==e.nodeType&&!li.test(h+i.event.triggered)&&(h.indexOf(".")>-1&&(y=h.split("."),h=y.shift(),y.sort()),a=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=e),f=null==f?[t]:i.makeArray(f,[t]),l=i.event.special[h]||{},o||!l.trigger||l.trigger.apply(e,f)!==!1)){if(!o&&!l.noBubble&&!i.isWindow(e)){for(b=l.delegateType||h,li.test(b+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),c=s;c===(e.ownerDocument||u)&&p.push(c.defaultView||c.parentWindow||n)}for(w=0;(s=p[w++])&&!t.isPropagationStopped();)t.type=w>1?b:l.bindType||h,v=(r.get(s,"events")||{})[t.type]&&r.get(s,"handle"),v&&v.apply(s,f),v=a&&s[a],v&&v.apply&&g(s)&&(t.result=v.apply(s,f),t.result===!1&&t.preventDefault());return t.type=h,o||t.isDefaultPrevented()||l._default&&l._default.apply(p.pop(),f)!==!1||!g(e)||a&&i.isFunction(e[h])&&!i.isWindow(e)&&(c=e[a],c&&(e[a]=null),i.event.triggered=h,e[h](),i.event.triggered=void 0,c&&(e[a]=c)),t.result}},simulate:function(n,t,r){var u=i.extend(new i.Event,r,{type:n,isSimulated:!0});i.event.trigger(u,null,t);u.isDefaultPrevented()&&r.preventDefault()}});i.fn.extend({trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}});f.focusin="onfocusin"in n;f.focusin||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n))};i.event.special[t]={setup:function(){var i=this.ownerDocument||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});var ht=n.location,ai=i.now(),vi=/\?/;i.parseJSON=function(n){return JSON.parse(n+"")};i.parseXML=function(t){var r;if(!t||"string"!=typeof t)return null;try{r=(new n.DOMParser).parseFromString(t,"text/xml")}catch(u){r=void 0}return(!r||r.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+t),r};var ae=/#.*$/,nf=/([?&])_=[^&]*/,ve=/^(.*?):[ \t]*([^\r\n]*)$/gm,ye=/^(?:GET|HEAD)$/,pe=/^\/\//,tf={},yi={},rf="*/".concat("*"),pi=u.createElement("a");pi.href=ht.href;i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ht.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ht.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":rf,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?wi(wi(n,i.ajaxSettings),t):wi(i.ajaxSettings,n)},ajaxPrefilter:uf(tf),ajaxTransport:uf(yi),ajax:function(t,r){function b(t,r,u,h){var a,rt,it,p,b,l=r;2!==s&&(s=2,d&&n.clearTimeout(d),v=void 0,k=h||"",e.readyState=t>0?4:0,a=t>=200&&300>t||304===t,u&&(p=we(f,e,u)),p=be(f,p,e,a),a?(f.ifModified&&(b=e.getResponseHeader("Last-Modified"),b&&(i.lastModified[o]=b),b=e.getResponseHeader("etag"),b&&(i.etag[o]=b)),204===t||"HEAD"===f.type?l="nocontent":304===t?l="notmodified":(l=p.state,rt=p.data,it=p.error,a=!it)):(it=l,(t||!l)&&(l="error",0>t&&(t=0))),e.status=t,e.statusText=(r||l)+"",a?nt.resolveWith(c,[rt,l,e]):nt.rejectWith(c,[e,l,it]),e.statusCode(w),w=void 0,y&&g.trigger(a?"ajaxSuccess":"ajaxError",[e,f,a?rt:it]),tt.fireWith(c,[e,l]),y&&(g.trigger("ajaxComplete",[e,f]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof t&&(r=t,t=void 0);r=r||{};var v,o,k,p,d,l,y,a,f=i.ajaxSetup({},r),c=f.context||f,g=f.context&&(c.nodeType||c.jquery)?i(c):i.event,nt=i.Deferred(),tt=i.Callbacks("once memory"),w=f.statusCode||{},it={},rt={},s=0,ut="canceled",e={readyState:0,getResponseHeader:function(n){var t;if(2===s){if(!p)for(p={};t=ve.exec(k);)p[t[1].toLowerCase()]=t[2];t=p[n.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===s?k:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return s||(n=rt[i]=rt[i]||n,it[n]=t),this},overrideMimeType:function(n){return s||(f.mimeType=n),this},statusCode:function(n){var t;if(n)if(2>s)for(t in n)w[t]=[w[t],n[t]];else e.always(n[e.status]);return this},abort:function(n){var t=n||ut;return v&&v.abort(t),b(0,t),this}};if(nt.promise(e).complete=tt.add,e.success=e.done,e.error=e.fail,f.url=((t||f.url||ht.href)+"").replace(ae,"").replace(pe,ht.protocol+"//"),f.type=r.method||r.type||f.method||f.type,f.dataTypes=i.trim(f.dataType||"*").toLowerCase().match(h)||[""],null==f.crossDomain){l=u.createElement("a");try{l.href=f.url;l.href=l.href;f.crossDomain=pi.protocol+"//"+pi.host!=l.protocol+"//"+l.host}catch(ft){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=i.param(f.data,f.traditional)),ff(tf,f,r,e),2===s)return e;y=i.event&&f.global;y&&0==i.active++&&i.event.trigger("ajaxStart");f.type=f.type.toUpperCase();f.hasContent=!ye.test(f.type);o=f.url;f.hasContent||(f.data&&(o=f.url+=(vi.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=nf.test(o)?o.replace(nf,"$1_="+ai++):o+(vi.test(o)?"&":"?")+"_="+ai++));f.ifModified&&(i.lastModified[o]&&e.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&e.setRequestHeader("If-None-Match",i.etag[o]));(f.data&&f.hasContent&&f.contentType!==!1||r.contentType)&&e.setRequestHeader("Content-Type",f.contentType);e.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+rf+"; q=0.01":""):f.accepts["*"]);for(a in f.headers)e.setRequestHeader(a,f.headers[a]);if(f.beforeSend&&(f.beforeSend.call(c,e,f)===!1||2===s))return e.abort();ut="abort";for(a in{success:1,error:1,complete:1})e[a](f[a]);if(v=ff(yi,f,r,e)){if(e.readyState=1,y&&g.trigger("ajaxSend",[e,f]),2===s)return e;f.async&&f.timeout>0&&(d=n.setTimeout(function(){e.abort("timeout")},f.timeout));try{s=1;v.send(it,b)}catch(ft){if(!(2>s))throw ft;b(-1,ft)}}else b(-1,"No Transport");return e},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,void 0,t,"script")}});i.each(["get","post"],function(n,t){i[t]=function(n,r,u,f){return i.isFunction(r)&&(f=f||u,u=r,r=void 0),i.ajax(i.extend({url:n,type:t,dataType:f,data:r,success:u},i.isPlainObject(n)&&n))}});i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};i.fn.extend({wrapAll:function(n){var t;return i.isFunction(n)?this.each(function(t){i(this).wrapAll(n.call(this,t))}):(this[0]&&(t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this)},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()}});i.expr.filters.hidden=function(n){return!i.expr.filters.visible(n)};i.expr.filters.visible=function(n){return n.offsetWidth>0||n.offsetHeight>0||n.getClientRects().length>0};var ke=/%20/g,de=/\[\]$/,ef=/\r?\n/g,ge=/^(?:submit|button|image|reset|file)$/i,no=/^(?:input|select|textarea|keygen)/i;return i.param=function(n,t){var r,u=[],f=function(n,t){t=i.isFunction(t)?t():null==t?"":t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(void 0===t&&(t=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){f(this.name,this.value)});else for(r in n)bi(r,n[r],t,f);return u.join("&").replace(ke,"+")},i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&no.test(this.nodeName)&&!ge.test(n)&&(this.checked||!yr.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(ef,"\r\n")}}):{name:t.name,value:r.replace(ef,"\r\n")}}).get()}}),i.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}},of={0:200,1223:204},ut=i.ajaxSettings.xhr(),f.cors=!!ut&&"withCredentials"in ut,f.ajax=ut=!!ut,i.ajaxTransport(function(t){var i,r;if(f.cors||ut&&!t.crossDomain)return{send:function(u,f){var o,e=t.xhr();if(e.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)e[o]=t.xhrFields[o];t.mimeType&&e.overrideMimeType&&e.overrideMimeType(t.mimeType);t.crossDomain||u["X-Requested-With"]||(u["X-Requested-With"]="XMLHttpRequest");for(o in u)e.setRequestHeader(o,u[o]);i=function(n){return function(){i&&(i=r=e.onload=e.onerror=e.onabort=e.onreadystatechange=null,"abort"===n?e.abort():"error"===n?"number"!=typeof e.status?f(0,"error"):f(e.status,e.statusText):f(of[e.status]||e.status,e.statusText,"text"!==(e.responseType||"text")||"string"!=typeof e.responseText?{binary:e.response}:{text:e.responseText},e.getAllResponseHeaders()))}};e.onload=i();r=e.onerror=i("error");void 0!==e.onabort?e.onabort=r:e.onreadystatechange=function(){4===e.readyState&&n.setTimeout(function(){i&&r()})};i=i("abort");try{e.send(t.hasContent&&t.data||null)}catch(s){if(i)throw s;}},abort:function(){i&&i()}}}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){void 0===n.cache&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){if(n.crossDomain){var r,t;return{send:function(f,e){r=i("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e("error"===n.type?404:200,n.type)});u.head.appendChild(r[0])},abort:function(){t&&t()}}}}),ki=[],gt=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=ki.pop()||i.expando+"_"+ai++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,u){var f,e,o,s=t.jsonp!==!1&&(gt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&gt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return(f=t.jsonpCallback=i.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(gt,"$1"+f):t.jsonp!==!1&&(t.url+=(vi.test(t.url)?"&":"?")+t.jsonp+"="+f),t.converters["script json"]=function(){return o||i.error(f+" was not called"),o[0]},t.dataTypes[0]="json",e=n[f],n[f]=function(){o=arguments},u.always(function(){void 0===e?i(n).removeProp(f):n[f]=e;t[f]&&(t.jsonpCallback=r.jsonpCallback,ki.push(f));o&&i.isFunction(e)&&e(o[0]);o=e=void 0}),"script")}),f.createHTMLDocument=function(){var n=u.implementation.createHTMLDocument("").body;return n.innerHTML="<form><\/form><form><\/form>",2===n.childNodes.length}(),i.parseHTML=function(n,t,r){if(!n||"string"!=typeof n)return null;"boolean"==typeof t&&(r=t,t=!1);t=t||(f.createHTMLDocument?u.implementation.createHTMLDocument(""):u);var e=rr.exec(n),o=!r&&[];return e?[t.createElement(e[1])]:(e=kr([n],t,o),o&&o.length&&i(o).remove(),i.merge([],e.childNodes))},di=i.fn.load,i.fn.load=function(n,t,r){if("string"!=typeof n&&di)return di.apply(this,arguments);var f,o,s,u=this,e=n.indexOf(" ");return e>-1&&(f=i.trim(n.slice(e)),n=n.slice(0,e)),i.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),u.length>0&&i.ajax({url:n,type:o||"GET",dataType:"html",data:t}).done(function(n){s=arguments;u.html(f?i("<div>").append(i.parseHTML(n)).find(f):n)}).always(r&&function(n,t){u.each(function(){r.apply(u,s||[n.responseText,t,n])})}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},i.offset={setOffset:function(n,t,r){var e,o,s,h,u,c,v,l=i.css(n,"position"),a=i(n),f={};"static"===l&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");v=("absolute"===l||"fixed"===l)&&(s+c).indexOf("auto")>-1;v?(e=a.position(),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);i.isFunction(t)&&(t=t.call(n,r,i.extend({},u)));null!=t.top&&(f.top=t.top-u.top+h);null!=t.left&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}},i.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(t){i.offset.setOffset(this,n,t)});var t,f,r=this[0],u={top:0,left:0},e=r&&r.ownerDocument;if(e)return t=e.documentElement,i.contains(t,r)?(u=r.getBoundingClientRect(),f=sf(e),{top:u.top+f.pageYOffset-t.clientTop,left:u.left+f.pageXOffset-t.clientLeft}):u},position:function(){if(this[0]){var n,r,u=this[0],t={top:0,left:0};return"fixed"===i.css(u,"position")?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0)-n.scrollTop(),t.left+=i.css(n[0],"borderLeftWidth",!0)-n.scrollLeft()),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&"static"===i.css(n,"position");)n=n.offsetParent;return n||st})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,t){var r="pageYOffset"===t;i.fn[n]=function(i){return a(this,function(n,i,u){var f=sf(n);return void 0===u?f?f[t]:n[i]:void(f?f.scrollTo(r?f.pageXOffset:u,r?u:f.pageYOffset):n[i]=u)},n,i,arguments.length)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=ci(f.pixelPosition,function(n,r){if(r)return(r=tt(n,t),si.test(r)?i(n).position()[t]+"px":r)})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(u,f){var e=arguments.length&&(r||"boolean"!=typeof u),o=r||(u===!0||f===!0?"margin":"border");return a(this,function(t,r,u){var f;return i.isWindow(t)?t.document.documentElement["client"+n]:9===t.nodeType?(f=t.documentElement,Math.max(t.body["scroll"+n],f["scroll"+n],t.body["offset"+n],f["offset"+n],f["client"+n])):void 0===u?i.css(t,r,o):i.style(t,r,u,o)},t,e?u:void 0,e,null)}})}),i.fn.extend({bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)},size:function(){return this.length}}),i.fn.andSelf=i.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return i}),hf=n.jQuery,cf=n.$,i.noConflict=function(t){return n.$===i&&(n.$=cf),t&&n.jQuery===i&&(n.jQuery=hf),i},t||(n.jQuery=n.$=i),i});
/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){"use strict";var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3");}(jQuery);+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(void 0!==i.style[t])return{end:n[t]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){n.support.transition=t();n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));"string"==typeof i&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.6";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,""));r=n(u);i&&i.preventDefault();r.length||(r=f.closest(".alert"));r.trigger(i=n.Event("close.bs.alert"));i.isDefaultPrevented()||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f="object"==typeof i&&i;r||u.data("bs.button",r=new t(this,f));"toggle"==i?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.6";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var r="disabled",i=this.$element,f=i.is("input")?"val":"html",u=i.data();t+="Text";null==u.resetText&&i.data("resetText",i[f]());setTimeout(n.proxy(function(){i[f](null==u[t]?this.options[t]:u[t]);"loadingText"==t?(this.isLoading=!0,i.addClass(r).attr(r,r)):this.isLoading&&(this.isLoading=!1,i.removeClass(r).removeAttr(r))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),i.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")):(this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active"))};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target);r.hasClass("btn")||(r=r.closest(".btn"));i.call(r,"toggle");n(t.target).is('input[type="radio"]')||n(t.target).is('input[type="checkbox"]')||t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i),e="string"==typeof i?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));"number"==typeof i?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this));"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},u,r;t.VERSION="3.3.6";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0};t.prototype.keydown=function(n){if(!/input|textarea/i.test(n.target.tagName)){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()}};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.getItemForDirection=function(n,t){var i=this.getItemIndex(t),f="prev"==n&&0===i||"next"==n&&i==this.$items.length-1,r,u;return f&&!this.options.wrap?t:(r="prev"==n?-1:1,u=(i+r)%this.$items.length,this.$items.eq(u))};t.prototype.to=function(n){var i=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(n>this.$items.length-1)&&!(0>n))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(n)}):t==n?this.pause().cycle():this.slide(n>t?"next":"prev",this.$items.eq(n))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(i,r){var e=this.$element.find(".item.active"),u=r||this.getItemForDirection(i,e),l=this.interval,f="next"==i?"left":"right",a=this,o,s,h,c;return u.hasClass("active")?this.sliding=!1:(o=u[0],s=n.Event("slide.bs.carousel",{relatedTarget:o,direction:f}),(this.$element.trigger(s),!s.isDefaultPrevented())?((this.sliding=!0,l&&this.pause(),this.$indicators.length)&&(this.$indicators.find(".active").removeClass("active"),h=n(this.$indicators.children()[this.getItemIndex(u)]),h&&h.addClass("active")),c=n.Event("slid.bs.carousel",{relatedTarget:o,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(u.addClass(i),u[0].offsetWidth,e.addClass(f),u.addClass(f),e.one("bsTransitionEnd",function(){u.removeClass([i,f].join(" ")).addClass("active");e.removeClass(["active",f].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(e.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(c)),l&&this.cycle(),this):void 0)};u=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=u,this};r=function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())};n(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i);!r&&f.toggle&&/show|hide/.test(i)&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.6";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing"),!(r&&r.length&&(f=r.data("bs.collapse"),f&&f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented()))){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented()))return i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},n.support.transition?void this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION):u.call(this)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":u.data();i.call(f,o)})}(jQuery);+function(n){"use strict";function r(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function u(t){t&&3===t.which||(n(o).remove(),n(i).each(function(){var u=n(this),i=r(u),f={relatedTarget:this};i.hasClass("open")&&(t&&"click"==t.type&&/input|textarea/i.test(t.target.tagName)&&n.contains(i[0],t.target)||(i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented()||(u.attr("aria-expanded","false"),i.removeClass("open").trigger(n.Event("hidden.bs.dropdown",f)))))}))}function e(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));"string"==typeof i&&u[i].call(r)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.6";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=r(f),o=i.hasClass("open"),u(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(n(this)).on("click",u),e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger(n.Event("shown.bs.dropdown",e))}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,u;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=r(e),s=o.hasClass("open"),!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(i).trigger("focus"),e.trigger("click");h=" li:not(.disabled):visible a";f=o.find(".dropdown-menu"+h);f.length&&(u=f.index(t.target),38==t.which&&u>0&&u--,40==t.which&&u<f.length-1&&u++,~u||(u=0),f.eq(u).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=e;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",u).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),"object"==typeof i&&i);u||f.data("bs.modal",u=new t(this,e));"string"==typeof i?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.6";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(u);this.isShown||u.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){n(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in");r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)}))};t.prototype.hide=function(i){i&&i.preventDefault();i=n.Event("hide.bs.modal");this.$element.trigger(i);this.isShown&&!i.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){27==n.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){this.isShown?n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this)):n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){if(r=n.support.transition&&f,this.$backdrop=n(document.createElement("div")).addClass("modal-backdrop "+f).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(n.target===n.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var n=window.innerWidth,t;n||(t=document.documentElement.getBoundingClientRect(),n=t.right-Math.abs(t.left));this.bodyIsOverflowing=document.body.clientWidth<n;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){n.isDefaultPrevented()||u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f="object"==typeof i&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.tooltip",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.6";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(n.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focusin",s="hover"==u?"mouseleave":"focusout",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())};t.prototype.isInStateTrue=function(){for(var n in this.inState)if(this.inState[n])return!0;return!1};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,e,w,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;y&&(p=i,e=this.getPosition(this.$viewport),i="bottom"==i&&f.bottom+s>e.bottom?"top":"top"==i&&f.top-s<e.top?"bottom":"right"==i&&f.right+o>e.width?"left":"left"==i&&f.left-o<e.left?"right":i,r.removeClass(p).addClass(i));w=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(w,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;"out"==n&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top+=o;t.left+=s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;"top"==i&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?2*u.left-l+h:2*u.top-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function f(){"in"!=u.hoverState&&r.detach();u.$element.removeAttr("aria-describedby").trigger("hidden.bs."+u.type);i&&i()}var u=this,r=n(this.$tip),e=n.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",f).emulateTransitionEnd(t.TRANSITION_DURATION):f(),this.hoverState=null,this)};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var u=t[0],r="BODY"==u.tagName,i=u.getBoundingClientRect();null==i.width&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=r?{top:0,left:0}:t.offset(),e={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},o=r?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,e,o,f)};t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.right&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(1e6*Math.random());while(document.getElementById(n));return n};t.prototype.tip=function(){if(!this.$tip&&(this.$tip=n(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type);n.$tip&&n.$tip.detach();n.$tip=null;n.$arrow=null;n.$viewport=null})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f="object"==typeof i&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.popover",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.6";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof t?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){this.$body=n(document.body);this.$scrollElement=n(n(i).is(document.body)?window:i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",n.proxy(this.process,this));this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f="object"==typeof i&&i;r||u.data("bs.scrollspy",r=new t(this,f));"string"==typeof i&&r[i]()})}t.VERSION="3.3.6";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var n,i=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget;if(this.scrollHeight!=f&&this.refresh(),i>=e)return u!=(n=r[r.length-1])&&this.activate(n);if(u&&i<t[0])return this.activeTarget=null,this.clear();for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(void 0===t[n+1]||i<t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));"string"==typeof i&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.6";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);o?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu").length&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),o=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&o?f.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f="object"==typeof i&&i;r||u.data("bs.affix",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.3.6";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(n,t,i,r){var u=this.$target.scrollTop(),f=this.$element.offset(),e=this.$target.height();if(null!=i&&"top"==this.affixed)return i>u?"top":!1;if("bottom"==this.affixed)return null!=i?u+this.unpin<=f.top?!1:"bottom":n-r>=u+e?!1:"bottom";var o=null==this.affixed,s=o?u:f.top,h=o?e:t;return null!=i&&i>=u?"top":null!=r&&s+h>=n-r?"bottom":!1};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=this.$element.height(),r=this.options.offset,f=r.top,u=r.bottom,h=Math.max(n(document).height(),n(document.body).height());if("object"!=typeof r&&(u=f=r),"function"==typeof f&&(f=r.top(this.$element)),"function"==typeof u&&(u=r.bottom(this.$element)),i=this.getState(h,s,f,u),this.affixed!=i){if(null!=this.unpin&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=i;this.unpin="bottom"==i?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}"bottom"==i&&this.$element.offset({top:h-s-u})}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom);null!=t.offsetTop&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery);
/*! =======================================================
                      VERSION  9.7.1              
========================================================= */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));!function(n){if("function"==typeof define&&define.amd)define(["jquery"],n);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var t;try{t=require("jquery")}catch(i){t=null}module.exports=n(t)}else window&&(window.Slider=n(window.jQuery))}(function(n){var i="slider",r="bootstrapSlider",t;return windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){}),function(n){function t(){}function i(n){function u(t){t.prototype.option||(t.prototype.option=function(t){n.isPlainObject(t)&&(this.options=n.extend(!0,this.options,t))})}function f(t,u){n.fn[t]=function(f){var c,e,s,o;if("string"==typeof f){for(var l=r.call(arguments,1),h=0,a=this.length;a>h;h++)if(c=this[h],e=n.data(c,t),e)if(n.isFunction(e[f])&&"_"!==f.charAt(0)){if(s=e[f].apply(e,l),void 0!==s&&s!==e)return s}else i("no such method '"+f+"' for "+t+" instance");else i("cannot call methods on "+t+" prior to initialization; attempted to call '"+f+"'");return this}return o=this.map(function(){var i=n.data(this,t);return i?(i.option(f),i._init()):(i=new u(this,f),n.data(this,t,i)),n(this)}),!o||o.length>1?o:o[0]}}if(n){var i="undefined"==typeof console?t:function(n){console.error(n)};return n.bridget=function(n,t){u(t);f(n,t)},n.bridget}}var r=Array.prototype.slice;i(n)}(n),function(n){function u(t,i){function at(n,t){var r="data-slider-"+t.replace(/_/g,"-"),i=n.getAttribute(r);try{return JSON.parse(i)}catch(u){return i}}var tt,r,c,o,s,rt,b,k,h,g,a,v,y,ht,ct,ut,lt,ft;for(this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof t?this.element=document.querySelector(t):t instanceof HTMLElement&&(this.element=t),i=i?i:{},tt=Object.keys(this.defaultOptions),r=0;r<tt.length;r++)c=tt[r],o=i[c],o="undefined"!=typeof o?o:at(this.element,c),o=null!==o?o:this.defaultOptions[c],this.options||(this.options={}),this.options[c]=o;"auto"===this.options.rtl&&(this.options.rtl="rtl"===window.getComputedStyle(this.element).direction);"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.tooltip_position=this.options.rtl?"left":"right";var l,p,w,u,f,vt=this.element.style.width,it=!1,yt=this.element.parentNode;if(this.sliderElem)it=!0;else{if(this.sliderElem=document.createElement("div"),this.sliderElem.className="slider",s=document.createElement("div"),s.className="slider-track",p=document.createElement("div"),p.className="slider-track-low",l=document.createElement("div"),l.className="slider-selection",w=document.createElement("div"),w.className="slider-track-high",u=document.createElement("div"),u.className="slider-handle min-slider-handle",u.setAttribute("role","slider"),u.setAttribute("aria-valuemin",this.options.min),u.setAttribute("aria-valuemax",this.options.max),f=document.createElement("div"),f.className="slider-handle max-slider-handle",f.setAttribute("role","slider"),f.setAttribute("aria-valuemin",this.options.min),f.setAttribute("aria-valuemax",this.options.max),s.appendChild(p),s.appendChild(l),s.appendChild(w),this.rangeHighlightElements=[],Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(rt=0;rt<this.options.rangeHighlights.length;rt++)b=document.createElement("div"),b.className="slider-rangeHighlight slider-selection",this.rangeHighlightElements.push(b),s.appendChild(b);if(k=Array.isArray(this.options.labelledby),k&&this.options.labelledby[0]&&u.setAttribute("aria-labelledby",this.options.labelledby[0]),k&&this.options.labelledby[1]&&f.setAttribute("aria-labelledby",this.options.labelledby[1]),!k&&this.options.labelledby&&(u.setAttribute("aria-labelledby",this.options.labelledby),f.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",r=0;r<this.options.ticks.length;r++){if(h=document.createElement("div"),h.className="slider-tick",this.options.ticks_tooltip){var st=this._addTickListener(),pt=st.addMouseEnter(this,h,r),wt=st.addMouseLeave(this,h);this.ticksCallbackMap[r]={mouseEnter:pt,mouseLeave:wt}}this.ticks.push(h);this.ticksContainer.appendChild(h)}l.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",r=0;r<this.options.ticks_labels.length;r++){var d=document.createElement("div"),bt=0===this.options.ticks_positions.length,kt=this.options.reversed&&bt?this.options.ticks_labels.length-(r+1):r;d.className="slider-tick-label";d.innerHTML=this.options.ticks_labels[kt];this.tickLabels.push(d);this.tickLabelContainer.appendChild(d)}g=function(n){var i=document.createElement("div"),t;i.className="tooltip-arrow";t=document.createElement("div");t.className="tooltip-inner";n.appendChild(i);n.appendChild(t)};a=document.createElement("div");a.className="tooltip tooltip-main";a.setAttribute("role","presentation");g(a);v=document.createElement("div");v.className="tooltip tooltip-min";v.setAttribute("role","presentation");g(v);y=document.createElement("div");y.className="tooltip tooltip-max";y.setAttribute("role","presentation");g(y);this.sliderElem.appendChild(s);this.sliderElem.appendChild(a);this.sliderElem.appendChild(v);this.sliderElem.appendChild(y);this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer);this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer);this.sliderElem.appendChild(u);this.sliderElem.appendChild(f);yt.insertBefore(this.sliderElem,this.element);this.element.style.display="none"}if(n&&(this.$element=n(this.element),this.$sliderElem=n(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),e[this.options.scale]&&(this.options.scale=e[this.options.scale]),it===!0&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(n){this._removeProperty(this.trackLow,n);this._removeProperty(this.trackSelection,n);this._removeProperty(this.trackHigh,n)},this),[this.handle1,this.handle2].forEach(function(n){this._removeProperty(n,"left");this._removeProperty(n,"right");this._removeProperty(n,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(n){this._removeProperty(n,"left");this._removeProperty(n,"right");this._removeProperty(n,"top");this._removeProperty(n,"margin-left");this._removeProperty(n,"margin-right");this._removeProperty(n,"margin-top");this._removeClass(n,"right");this._removeClass(n,"left");this._removeClass(n,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=vt,this.options.orientation="horizontal",this.stylePos=this.options.rtl?"right":"left",this.mousePos="pageX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this._state.value=this.options.range?[this.options.value,this.options.max]:this.options.value,this.trackLow=p||this.trackLow,this.trackSelection=l||this.trackSelection,this.trackHigh=w||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):("after"===this.options.selection||"before"===this.options.selection)&&(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=u||this.handle1,this.handle2=f||this.handle2,it===!0)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),r=0;r<this.ticks.length;r++)this._removeClass(this.ticks[r],"round triangle hide");if(ht=["round","triangle","custom"],ct=-1!==ht.indexOf(this.options.handle),ct)for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),r=0;r<this.ticks.length;r++)this._addClass(this.ticks[r],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable){ut=!1;try{lt=Object.defineProperty({},"passive",{get:function(){ut=!0}});window.addEventListener("test",null,lt)}catch(dt){}ft=ut?{passive:!0}:!1;this.sliderElem.addEventListener("touchstart",this.touchstart,ft);this.sliderElem.addEventListener("touchmove",this.touchmove,ft)}if(this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var nt=this._addTickListener(),et=nt.addMouseEnter(this,this.handle1),ot=nt.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:et,mouseLeave:ot};et=nt.addMouseEnter(this,this.handle2);ot=nt.addMouseLeave(this,this.handle2);this.handleCallbackMap.handle2={mouseEnter:et,mouseLeave:ot}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1);this.handle1.addEventListener("blur",this.hideTooltip,!1);this.handle2.addEventListener("focus",this.showTooltip,!1);this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}var f={formatInvalidInputErrorMsg:function(n){return"Invalid input value '"+n+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},e={linear:{toValue:function(n){var e=n/100*(this.options.max-this.options.min),o=!0,r,s,u,f,t,h,c,i;if(this.options.ticks_positions.length>0){for(f=0,t=1;t<this.options.ticks_positions.length;t++)if(n<=this.options.ticks_positions[t]){r=this.options.ticks[t-1];u=this.options.ticks_positions[t-1];s=this.options.ticks[t];f=this.options.ticks_positions[t];break}h=(n-u)/(f-u);e=r+h*(s-r);o=!1}return c=o?this.options.min:0,i=c+Math.round(e/this.options.step)*this.options.step,i<this.options.min?this.options.min:i>this.options.max?this.options.max:i},toPercentage:function(n){var i,f,r,u,t,e;if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(u=0,t=0;t<this.options.ticks.length;t++)if(n<=this.options.ticks[t]){i=t>0?this.options.ticks[t-1]:0;r=t>0?this.options.ticks_positions[t-1]:0;f=this.options.ticks[t];u=this.options.ticks_positions[t];break}if(t>0)return e=(n-i)/(f-i),r+e*(u-r)}return 100*(n-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(n){var i=0===this.options.min?0:Math.log(this.options.min),r=Math.log(this.options.max),t=Math.exp(i+(r-i)*n/100);return t=this.options.min+Math.round((t-this.options.min)/this.options.step)*this.options.step,t<this.options.min?this.options.min:t>this.options.max?this.options.max:t},toPercentage:function(n){if(this.options.max===this.options.min)return 0;var i=Math.log(this.options.max),t=0===this.options.min?0:Math.log(this.options.min),r=0===n?0:Math.log(n);return 100*(r-t)/(i-t)}}};t=function(n,t){return u.call(this,n,t),this};t.prototype={_init:function(){},constructor:t,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(n){return Array.isArray(n)?n[0]+" : "+n[1]:n},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(n,t,i){var f,u,r;return n||(n=0),f=this.getValue(),this._state.value=this._validateInputValue(n),u=this._applyPrecision.bind(this),this.options.range?(this._state.value[0]=u(this._state.value[0]),this._state.value[1]=u(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=u(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),this._state.value[1]="after"===this.options.selection?this.options.max:this.options.min),this._state.percentage=this.options.max>this.options.min?[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:[0,0,100],this._layout(),r=this.options.range?this._state.value:this._state.value[0],this._setDataVal(r),t===!0&&this._trigger("slide",r),f!==r&&i===!0&&this._trigger("change",{oldValue:f,newValue:r}),this},destroy:function(){this._removeSliderEventHandlers();this.sliderElem.parentNode.removeChild(this.sliderElem);this.element.style.display="";this._cleanUpEventCallbacksMap();this.element.removeAttribute("data");n&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(n,t){return this._bindNonQueryEventHandler(n,t),this},off:function(t,i){n?(this.$element.off(t,i),this.$sliderElem.off(t,i)):this._unbindNonQueryEventHandler(t,i)},getAttribute:function(n){return n?this.options[n]:this.options},setAttribute:function(n,t){return this.options[n]=t,this},refresh:function(){return this._removeSliderEventHandlers(),u.call(this,this.element,this.options),n&&n.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),n=0;n<t.length;n++)t[n].removeEventListener("mouseenter",this.ticksCallbackMap[n].mouseEnter,!1),t[n].removeEventListener("mouseleave",this.ticksCallbackMap[n].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1);this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1);this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1);this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null;this.ticksCallbackMap=null;this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1));this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1));this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1);this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1);this.sliderElem.removeEventListener("touchstart",this.touchstart,!1);this.sliderElem.removeEventListener("touchmove",this.touchmove,!1);this.sliderElem.removeEventListener("mousedown",this.mousedown,!1);window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(n,t){void 0===this.eventToCallbackMap[n]&&(this.eventToCallbackMap[n]=[]);this.eventToCallbackMap[n].push(t)},_unbindNonQueryEventHandler:function(n,t){var r=this.eventToCallbackMap[n],i;if(void 0!==r)for(i=0;i<r.length;i++)if(r[i]===t){r.splice(i,1);break}},_cleanUpEventCallbacksMap:function(){for(var i,t=Object.keys(this.eventToCallbackMap),n=0;n<t.length;n++)i=t[n],delete this.eventToCallbackMap[i]},_showTooltip:function(){this.options.tooltip_split===!1?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none");this._state.over=!0},_hideTooltip:function(){this._state.inDrag===!1&&this.alwaysShowTooltip!==!0&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in"));this._state.over=!1},_setToolTipOnMouseOver:function(n){function t(n,t){return t?[100-n.percentage[0],this.options.range?100-n.percentage[1]:n.percentage[1]]:[n.percentage[0],n.percentage[1]]}var i=this.options.formatter(n?n.value[0]:this._state.value[0]),r=n?t(n,this.options.reversed):t(this._state,this.options.reversed);this._setText(this.tooltipInner,i);this.tooltip.style[this.stylePos]=r[0]+"%";"vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px")},_addTickListener:function(){return{addMouseEnter:function(n,t,i){var r=function(){var t=n._state,u=i>=0?i:this.attributes["aria-valuenow"].value,r=parseInt(u,10);t.value[0]=r;t.percentage[0]=n.options.ticks_positions[r];n._setToolTipOnMouseOver(t);n._showTooltip()};return t.addEventListener("mouseenter",r,!1),r},addMouseLeave:function(n,t){var i=function(){n._hideTooltip()};return t.addEventListener("mouseleave",i,!1),i}}},_layout:function(){var n,i,e,o,v,u,s,y,h,f,t,r,c,p,w,l,a;if(n=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=n[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),isNaN(this.options.formatter(this._state.value[0]))&&this.handle1.setAttribute("aria-valuetext",this.options.formatter(this._state.value[0])),this.handle2.style[this.stylePos]=n[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),isNaN(this.options.formatter(this._state.value[1]))&&this.handle2.setAttribute("aria-valuetext",this.options.formatter(this._state.value[1])),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(i=0;i<this.options.rangeHighlights.length;i++)e=this._toPercentage(this.options.rangeHighlights[i].start),o=this._toPercentage(this.options.rangeHighlights[i].end),this.options.reversed&&(v=100-o,o=100-e,e=v),u=this._createHighlightRange(e,o),u?"vertical"===this.options.orientation?(this.rangeHighlightElements[i].style.top=u.start+"%",this.rangeHighlightElements[i].style.height=u.size+"%"):(this.options.rtl?this.rangeHighlightElements[i].style.right=u.start+"%":this.rangeHighlightElements[i].style.left=u.start+"%",this.rangeHighlightElements[i].style.width=u.size+"%"):this.rangeHighlightElements[i].style.display="none";if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){if(y="vertical"===this.options.orientation?"height":"width",s="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft",h=this._state.size/(this.options.ticks.length-1),this.tickLabelContainer){if(f=0,0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[s]=-h/2+"px"),f=this.tickLabelContainer.offsetHeight;else for(t=0;t<this.tickLabelContainer.childNodes.length;t++)this.tickLabelContainer.childNodes[t].offsetHeight>f&&(f=this.tickLabelContainer.childNodes[t].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=f+"px")}for(t=0;t<this.options.ticks.length;t++)r=this.options.ticks_positions[t]||this._toPercentage(this.options.ticks[t]),this.options.reversed&&(r=100-r),this.ticks[t].style[this.stylePos]=r+"%",this._removeClass(this.ticks[t],"in-selection"),this.options.range?r>=n[0]&&r<=n[1]&&this._addClass(this.ticks[t],"in-selection"):"after"===this.options.selection&&r>=n[0]?this._addClass(this.ticks[t],"in-selection"):"before"===this.options.selection&&r<=n[0]&&this._addClass(this.ticks[t],"in-selection"),this.tickLabels[t]&&(this.tickLabels[t].style[y]=h+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[t]?(this.tickLabels[t].style.position="absolute",this.tickLabels[t].style[this.stylePos]=r+"%",this.tickLabels[t].style[s]=-h/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[t].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[t].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[s]=this.sliderElem.offsetWidth/-2+"px"))}this.options.range?(c=this.options.formatter(this._state.value),this._setText(this.tooltipInner,c),this.tooltip.style[this.stylePos]=(n[1]+n[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px"),p=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner_min,p),w=this.options.formatter(this._state.value[1]),this._setText(this.tooltipInner_max,w),this.tooltip_min.style[this.stylePos]=n[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-"+this.stylePos,-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=n[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-"+this.stylePos,-this.tooltip_max.offsetWidth/2+"px")):(c=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,c),this.tooltip.style[this.stylePos]=n[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-"+this.stylePos,-this.tooltip.offsetWidth/2+"px"));"vertical"===this.options.orientation?(this.trackLow.style.top="0",this.trackLow.style.height=Math.min(n[0],n[1])+"%",this.trackSelection.style.top=Math.min(n[0],n[1])+"%",this.trackSelection.style.height=Math.abs(n[0]-n[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(n[0],n[1])-Math.abs(n[0]-n[1])+"%"):("right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(n[0],n[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(n[0],n[1])+"%":this.trackSelection.style.left=Math.min(n[0],n[1])+"%",this.trackSelection.style.width=Math.abs(n[0]-n[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(n[0],n[1])-Math.abs(n[0]-n[1])+"%",l=this.tooltip_min.getBoundingClientRect(),a=this.tooltip_max.getBoundingClientRect(),"bottom"===this.options.tooltip_position?l.right>a.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):l.right>a.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top))},_createHighlightRange:function(n,t){return this._isHighlightRange(n,t)?n>t?{start:t,size:n-t}:{start:n,size:t-n}:null},_isHighlightRange:function(n,t){return n>=0&&100>=n&&t>=0&&100>=t?!0:!1},_resize:function(){this._state.offset=this._offset(this.sliderElem);this._state.size=this.sliderElem[this.sizePos];this._layout()},_removeProperty:function(n,t){n.style.removeProperty?n.style.removeProperty(t):n.style.removeAttribute(t)},_mousedown:function(n){var t,r,u,i;return this._state.enabled?(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],t=this._getPercentage(n),this.options.range?(r=Math.abs(this._state.percentage[0]-t),u=Math.abs(this._state.percentage[1]-t),this._state.dragged=u>r?0:1,this._adjustPercentageForRangeSliders(t)):this._state.dragged=0,this._state.percentage[this._state.dragged]=t,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0,i=this._calculateValue(),this._trigger("slideStart",i),this._setDataVal(i),this.setValue(i,!1,!0),n.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0):!1},_touchstart:function(n){if(void 0===n.changedTouches)return void this._mousedown(n);var t=n.changedTouches[0];this.touchX=t.pageX;this.touchY=t.pageY},_triggerFocusOnHandle:function(n){0===n&&this.handle1.focus();1===n&&this.handle2.focus()},_keydown:function(n,t){var r,u,f,i;if(!this._state.enabled)return!1;switch(t.keyCode){case 37:case 40:r=-1;break;case 39:case 38:r=1}if(r)return this.options.natural_arrow_keys&&(u="vertical"===this.options.orientation&&!this.options.reversed,f="horizontal"===this.options.orientation&&this.options.reversed,(u||f)&&(r=-r)),i=this._state.value[n]+r*this.options.step,this.options.range&&(i=[n?this._state.value[0]:i,n?i:this._state.value[1]]),this._trigger("slideStart",i),this._setDataVal(i),this.setValue(i,!0,!0),this._setDataVal(i),this._trigger("slideStop",i),this._layout(),this._pauseEvent(t),!1},_pauseEvent:function(n){n.stopPropagation&&n.stopPropagation();n.preventDefault&&n.preventDefault();n.cancelBubble=!0;n.returnValue=!1},_mousemove:function(n){var t,i;return this._state.enabled?(t=this._getPercentage(n),this._adjustPercentageForRangeSliders(t),this._state.percentage[this._state.dragged]=t,this._layout(),i=this._calculateValue(!0),this.setValue(i,!0,!0),!1):!1},_touchmove:function(n){if(void 0!==n.changedTouches){var r=n.changedTouches[0],t=r.pageX-this.touchX,i=r.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&5>=t&&t>=-5&&(i>=15||-15>=i)?this._mousedown(n):5>=i&&i>=-5&&(t>=15||-15>=t)&&this._mousedown(n))}},_adjustPercentageForRangeSliders:function(n){var t,i;this.options.range&&(t=this._getNumDigitsAfterDecimalPlace(n),t=t?t-1:0,i=this._applyToFixedAndParseFloat(n,t),0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],t)<i?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],t)>i&&(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0))},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1));document.removeEventListener("mousemove",this.mousemove,!1);document.removeEventListener("mouseup",this.mouseup,!1);this._state.inDrag=!1;this._state.over===!1&&this._hideTooltip();var n=this._calculateValue(!0);return this._layout(),this._setDataVal(n),this._trigger("slideStop",n),!1},_calculateValue:function(n){var t,i,r,u;if(this.options.range?(t=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(t[0]=this._toValue(this._state.percentage[0]),t[0]=this._applyPrecision(t[0])),100!==this._state.percentage[1]&&(t[1]=this._toValue(this._state.percentage[1]),t[1]=this._applyPrecision(t[1]))):(t=this._toValue(this._state.percentage[0]),t=parseFloat(t),t=this._applyPrecision(t)),n){for(i=[t,1/0],r=0;r<this.options.ticks.length;r++)u=Math.abs(this.options.ticks[r]-t),u<=i[1]&&(i=[this.options.ticks[r],u]);if(i[1]<=this.options.ticks_snap_bounds)return i[0]}return t},_applyPrecision:function(n){var t=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(n,t)},_getNumDigitsAfterDecimalPlace:function(n){var t=(""+n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_applyToFixedAndParseFloat:function(n,t){var i=n.toFixed(t);return parseFloat(i)},_getPercentage:function(n){var t;this.touchCapable&&("touchstart"===n.type||"touchmove"===n.type)&&(n=n.touches[0]);var r=n[this.mousePos],u=this._state.offset[this.stylePos],i=r-u;return"right"===this.stylePos&&(i=-i),t=i/this._state.size*100,t=Math.round(t/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(t=100-t),Math.max(0,Math.min(100,t))},_validateInputValue:function(n){if(isNaN(+n)){if(Array.isArray(n))return this._validateArray(n),n;throw new Error(f.formatInvalidInputErrorMsg(n));}return+n},_validateArray:function(n){for(var i,t=0;t<n.length;t++)if(i=n[t],"number"!=typeof i)throw new Error(f.formatInvalidInputErrorMsg(i));},_setDataVal:function(n){this.element.setAttribute("data-value",n);this.element.setAttribute("value",n);this.element.value=n},_trigger:function(t,i){var r,u,f;if(i=i||0===i?i:void 0,r=this.eventToCallbackMap[t],r&&r.length)for(u=0;u<r.length;u++)f=r[u],f(i);n&&this._triggerJQueryEvent(t,i)},_triggerJQueryEvent:function(n,t){var i={type:n,value:t};this.$element.trigger(i);this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off();this.$sliderElem.off()},_setText:function(n,t){"undefined"!=typeof n.textContent?n.textContent=t:"undefined"!=typeof n.innerText&&(n.innerText=t)},_removeClass:function(n,t){for(var f,e,u=t.split(" "),i=n.className,r=0;r<u.length;r++)f=u[r],e=new RegExp("(?:\\s|^)"+f+"(?:\\s|$)"),i=i.replace(e," ");n.className=i.trim()},_addClass:function(n,t){for(var u=t.split(" "),i=n.className,r=0;r<u.length;r++){var f=u[r],e=new RegExp("(?:\\s|^)"+f+"(?:\\s|$)"),o=e.test(i);o||(i+=" "+f)}n.className=i.trim()},_offsetLeft:function(n){return n.getBoundingClientRect().left},_offsetRight:function(n){return n.getBoundingClientRect().right},_offsetTop:function(n){for(var t=n.offsetTop;(n=n.offsetParent)&&!isNaN(n.offsetTop);)t+=n.offsetTop,"BODY"!==n.tagName&&(t-=n.scrollTop);return t},_offset:function(n){return{left:this._offsetLeft(n),right:this._offsetRight(n),top:this._offsetTop(n)}},_css:function(t,i,r){if(n)n.style(t,i,r);else{var u=i.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(n,t){return t.toUpperCase()});t.style[u]=r}},_toValue:function(n){return this.options.scale.toValue.apply(this,[n])},_toPercentage:function(n){return this.options.scale.toPercentage.apply(this,[n])},_setTooltipPosition:function(){var n=[this.tooltip,this.tooltip_min,this.tooltip_max],t,i;"vertical"===this.options.orientation?(t=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right",i="left"===t?"right":"left",n.forEach(function(n){this._addClass(n,t);n.style[i]="100%"}.bind(this))):"bottom"===this.options.tooltip_position?n.forEach(function(n){this._addClass(n,"bottom");n.style.top="22px"}.bind(this)):n.forEach(function(n){this._addClass(n,"top");n.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}};n&&n.fn&&!function(){var u=void 0;n.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),u=r):(n.bridget(i,t),u=i);n.bridget(r,t);n(function(){n("input[data-provide=slider]")[u]()})}()}(n),t}),function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"&&typeof module=="object"?module.exports=n(require("jquery")):n(jQuery)}(function(n,t){"use strict";function s(t,i,r,u){for(var e,f,o,c,a,v,s=[],h=0;h<t.length;h++)e=t[h],e?(f=tinycolor(e),o=f.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",o+=tinycolor.equals(i,e)?" sp-thumb-active":"",c=f.toString(u.preferredFormat||"rgb"),a=l?"background-color:"+f.toRgbString():"filter:"+f.toFilter(),s.push('<span title="'+c+'" data-color="'+f.toRgbString()+'" class="'+o+'"><span class="sp-thumb-inner" style="'+a+';" /><\/span>')):(v="sp-clear-display",s.push(n("<div />").append(n('<span data-color="" style="background-color:transparent;" class="'+v+'"><\/span>').attr("title",u.noColorSelectedText)).html()));return"<div class='sp-cf "+r+"'>"+s.join("")+"<\/div>"}function a(){for(var n=0;n<i.length;n++)i[n]&&i[n].hide()}function v(t,i){var r=n.extend({},c,t);return r.callbacks={move:f(r.move,i),change:f(r.change,i),show:f(r.show,i),hide:f(r.hide,i),beforeShow:f(r.beforeShow,i)},r}function y(u,f){function di(){var t,i,r;if(h.showPaletteOnly&&(h.showPalette=!0),hr.text(h.showPaletteOnly?h.togglePaletteMoreText:h.togglePaletteLessText),h.palette)for(ai=h.palette.slice(0),ei=n.isArray(ai[0])?ai:[ai],vi={},t=0;t<ei.length;t++)for(i=0;i<ei[t].length;i++)r=tinycolor(ei[t][i]).toRgbString(),vi[r]=!0;c.toggleClass("sp-flat",ft);c.toggleClass("sp-input-disabled",!h.showInput);c.toggleClass("sp-alpha-enabled",h.showAlpha);c.toggleClass("sp-clear-enabled",at);c.toggleClass("sp-buttons-disabled",!h.showButtons);c.toggleClass("sp-palette-buttons-disabled",!h.togglePaletteOnly);c.toggleClass("sp-palette-disabled",!h.showPalette);c.toggleClass("sp-palette-only",h.showPaletteOnly);c.toggleClass("sp-initial-disabled",!h.showInitial);c.addClass(h.className).addClass(h.containerClassName);ct()}function hu(){function u(t){return t.data&&t.data.ignore?(st(n(t.target).closest(".sp-thumb-el").data("color")),vt()):(st(n(t.target).closest(".sp-thumb-el").data("color")),vt(),ht(!0),h.hideAfterPaletteSelect&&ut()),!1}var t,i;r&&c.find("*:not(input)").attr("unselectable","on");di();cr&&y.after(dt).hide();at||sr.hide();ft?y.after(c).hide():(t=h.appendTo==="parent"?y.parent():n(h.appendTo),t.length!==1&&(t=n("body")),t.append(c));lr();si.bind("click.spectrum touchstart.spectrum",function(t){er||yr();t.stopPropagation();n(t.target).is("input")||t.preventDefault()});(y.is(":disabled")||h.disabled===!0)&&dr();c.click(w);it.change(ir);it.bind("paste",function(){setTimeout(ir,1)});it.keydown(function(n){n.keyCode==13&&ir()});ou.text(h.cancelText);ou.bind("click.spectrum",function(n){n.stopPropagation();n.preventDefault();br();ut()});sr.attr("title",h.clearText);sr.bind("click.spectrum",function(n){n.stopPropagation();n.preventDefault();ot=!0;vt();ft&&ht(!0)});su.text(h.chooseText);su.bind("click.spectrum",function(n){n.stopPropagation();n.preventDefault();r&&it.is(":focus")&&it.trigger("change");lu()&&(ht(!0),ut())});hr.text(h.showPaletteOnly?h.togglePaletteMoreText:h.togglePaletteLessText);hr.bind("click.spectrum",function(n){n.stopPropagation();n.preventDefault();h.showPaletteOnly=!h.showPaletteOnly;h.showPaletteOnly||ft||c.css("left","-="+(du.outerWidth(!0)+5));di()});o(uu,function(n,t,i){nt=n/fr;ot=!1;i.shiftKey&&(nt=Math.round(nt*10)/10);vt()},nr,tr);o(or,function(n,t){ri=parseFloat(t/li);ot=!1;h.showAlpha||(nt=1);vt()},nr,tr);o(yi,function(n,t,i){var r,u;if(i.shiftKey){if(!et){var f=ui*bt,e=rt-fi*rt,o=Math.abs(n-f)>Math.abs(t-e);et=o?"x":"y"}}else et=null;r=!et||et==="x";u=!et||et==="y";r&&(ui=parseFloat(n/bt));u&&(fi=parseFloat((rt-t)/rt));ot=!1;h.showAlpha||(nt=1);vt()},nr,tr);hi?(st(hi),yt(),ti=h.preferredFormat||tinycolor(hi).format,gi(hi)):yt();ft&&rr();i=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";fu.delegate(".sp-thumb-el",i,u);eu.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},u)}function lr(){if(pt&&window.localStorage){try{var t=window.localStorage[pt].split(",#");t.length>1&&(delete window.localStorage[pt],n.each(t,function(n,t){gi(t)}))}catch(i){}try{tt=window.localStorage[pt].split(";")}catch(i){}}}function gi(t){if(wu){var i=tinycolor(t).toRgbString();if(!vi[i]&&n.inArray(i,tt)===-1)for(tt.push(i);tt.length>ku;)tt.shift();if(pt&&window.localStorage)try{window.localStorage[pt]=tt.join(";")}catch(r){}}}function cu(){var t=[],n,i;if(h.showPalette)for(n=0;n<tt.length;n++)i=tinycolor(tt[n]).toRgbString(),vi[i]||t.push(tt[n]);return t.reverse().slice(0,h.maxSelectionSize)}function ar(){var t=g(),i=n.map(ei,function(n,i){return s(n,t,"sp-palette-row sp-palette-row-"+i,h)});lr();tt&&i.push(s(cu(),t,"sp-palette-row sp-palette-row-selection",h));fu.html(i.join(""))}function vr(){if(h.showInitial){var t=ni,n=g();eu.html(s([t,n],n,"sp-palette-row-initial",h))}}function nr(){(rt<=0||bt<=0||li<=0)&&ct();ur=!0;c.addClass(ru);et=null;y.trigger("dragstart.spectrum",[g()])}function tr(){ur=!1;c.removeClass(ru);y.trigger("dragstop.spectrum",[g()])}function ir(){var n=it.val(),t;(n===null||n==="")&&at?(st(null),ht(!0)):(t=tinycolor(n),t.isValid()?(st(t),ht(!0)):it.addClass("sp-validation-error"))}function yr(){wt?ut():rr()}function rr(){var t=n.Event("beforeShow.spectrum");if(wt){ct();return}(y.trigger(t,[g()]),ii.beforeShow(g())===!1||t.isDefaultPrevented())||(a(),wt=!0,n(kt).bind("keydown.spectrum",pr),n(kt).bind("click.spectrum",wr),n(window).bind("resize.spectrum",nu),dt.addClass("sp-active"),c.removeClass("sp-hidden"),ct(),yt(),ni=g(),vr(),ii.show(ni),y.trigger("show.spectrum",[ni]))}function pr(n){n.keyCode===27&&ut()}function wr(n){n.button!=2&&(ur||(nf?ht(!0):br(),ut()))}function ut(){wt&&!ft&&(wt=!1,n(kt).unbind("keydown.spectrum",pr),n(kt).unbind("click.spectrum",wr),n(window).unbind("resize.spectrum",nu),dt.removeClass("sp-active"),c.addClass("sp-hidden"),ii.hide(g()),y.trigger("hide.spectrum",[g()]))}function br(){st(ni,!0)}function st(n,t){if(tinycolor.equals(n,g())){yt();return}var i,r;!n&&at?ot=!0:(ot=!1,i=tinycolor(n),r=i.toHsv(),ri=r.h%360/360,ui=r.s,fi=r.v,nt=r.a);yt();i&&i.isValid()&&!t&&(ti=h.preferredFormat||i.getFormat())}function g(n){return(n=n||{},at&&ot)?null:tinycolor.fromRatio({h:ri,s:ui,v:fi,a:Math.round(nt*100)/100},{format:n.format||ti})}function lu(){return!it.hasClass("sp-validation-error")}function vt(){yt();ii.move(g());y.trigger("move.spectrum",[g()])}function yt(){var s,n,t,e,i,c,o,u,f;it.removeClass("sp-validation-error");kr();s=tinycolor.fromRatio({h:ri,s:1,v:1});yi.css("background-color",s.toHexString());n=ti;nt<1&&!(nt===0&&n==="name")&&(n==="hex"||n==="hex3"||n==="hex6"||n==="name")&&(n="rgb");t=g({format:n});e="";gt.removeClass("sp-clear-display");gt.css("background-color","transparent");!t&&at?gt.addClass("sp-clear-display"):(i=t.toHexString(),c=t.toRgbString(),l||t.alpha===1?gt.css("background-color",c):(gt.css("background-color","transparent"),gt.css("filter",t.toFilter())),h.showAlpha&&(o=t.toRgb(),o.a=0,u=tinycolor(o).toRgbString(),f="linear-gradient(left, "+u+", "+i+")",r?oi.css("filter",tinycolor(u).toFilter({gradientType:1},i)):(oi.css("background","-webkit-"+f),oi.css("background","-moz-"+f),oi.css("background","-ms-"+f),oi.css("background","linear-gradient(to right, "+u+", "+i+")"))),e=t.toString(n));h.showInput&&it.val(e);h.showPalette&&ar();vr()}function kr(){var u=ui,f=fi,n,t,i,r;at&&ot?(bi.hide(),wi.hide(),pi.hide()):(bi.show(),wi.show(),pi.show(),n=u*bt,t=rt-f*rt,n=Math.max(-lt,Math.min(bt-lt,n-lt)),t=Math.max(-lt,Math.min(rt-lt,t-lt)),pi.css({top:t+"px",left:n+"px"}),i=nt*fr,bi.css({left:i-tu/2+"px"}),r=ri*li,wi.css({top:r-iu+"px"}))}function ht(n){var t=g(),i="",r=!tinycolor.equals(t,ni);t&&(i=t.toString(ti),gi(t));ki&&y.val(i);n&&r&&(ii.change(t),y.trigger("change",[t]))}function ct(){wt&&(bt=yi.width(),rt=yi.height(),lt=pi.height(),bu=or.width(),li=or.height(),iu=wi.height(),fr=uu.width(),tu=bi.width(),ft||(c.css("position","absolute"),h.offset?c.offset(h.offset):c.offset(p(c,si))),kr(),h.showPalette&&ar(),y.trigger("reflow.spectrum"))}function au(){y.show();si.unbind("click.spectrum touchstart.spectrum");c.remove();dt.remove();i[ci.id]=null}function vu(i,r){if(i===t)return n.extend({},h);if(r===t)return h[i];h[i]=r;i==="preferredFormat"&&(ti=h.preferredFormat);di()}function yu(){er=!1;y.attr("disabled",!1);si.removeClass("sp-disabled")}function dr(){ut();er=!0;y.attr("disabled",!0);si.addClass("sp-disabled")}function pu(n){h.offset=n;ct()}var h=v(f,u),ft=h.flat,wu=h.showSelectionPalette,pt=h.localStorageKey,gr=h.theme,ii=h.callbacks,nu=b(ct,10),wt=!1,ur=!1,bt=0,rt=0,lt=0,li=0,bu=0,fr=0,tu=0,iu=0,ri=0,ui=0,fi=0,nt=1,ai=[],ei=[],vi={},tt=h.selectionPalette.slice(0),ku=h.maxSelectionSize,ru="sp-dragging",et=null,kt=u.ownerDocument,tf=kt.body,y=n(u),er=!1,c=n(d,kt).addClass(gr),du=c.find(".sp-picker-container"),yi=c.find(".sp-color"),pi=c.find(".sp-dragger"),or=c.find(".sp-hue"),wi=c.find(".sp-slider"),oi=c.find(".sp-alpha-inner"),uu=c.find(".sp-alpha"),bi=c.find(".sp-alpha-handle"),it=c.find(".sp-input"),fu=c.find(".sp-palette"),eu=c.find(".sp-initial"),ou=c.find(".sp-cancel"),sr=c.find(".sp-clear"),su=c.find(".sp-choose"),hr=c.find(".sp-palette-toggle"),ki=y.is("input"),gu=ki&&y.attr("type")==="color"&&e(),cr=ki&&!ft,dt=cr?n(k).addClass(gr).addClass(h.className).addClass(h.replacerClassName):n([]),si=cr?dt:y,gt=dt.find(".sp-preview-inner"),hi=h.color||ki&&y.val(),ni=!1,ti=h.preferredFormat,nf=!h.showButtons||h.clickoutFiresChange,ot=!hi,at=h.allowEmpty&&!gu,ci;return hu(),ci={show:rr,hide:ut,toggle:yr,reflow:ct,option:vu,enable:yu,disable:dr,offset:pu,set:function(n){st(n);ht()},get:g,destroy:au,container:c},ci.id=i.push(ci)-1,ci}function p(t,i){var s=0,u=t.outerWidth(),f=t.outerHeight(),h=i.outerHeight(),e=t[0].ownerDocument,c=e.documentElement,o=c.clientWidth+n(e).scrollLeft(),l=c.clientHeight+n(e).scrollTop(),r=i.offset();return r.top+=h,r.left-=Math.min(r.left,r.left+u>o&&o>u?Math.abs(r.left+u-o):0),r.top-=Math.min(r.top,r.top+f>l&&l>f?Math.abs(f+h-s):s),r}function u(){}function w(n){n.stopPropagation()}function f(n,t){var i=Array.prototype.slice,r=i.call(arguments,2);return function(){return n.apply(t,r.concat(i.call(arguments)))}}function o(t,i,u,f){function h(n){n.stopPropagation&&n.stopPropagation();n.preventDefault&&n.preventDefault();n.returnValue=!1}function l(n){if(s){if(r&&o.documentMode<9&&!n.button)return a();var u=n.originalEvent&&n.originalEvent.touches&&n.originalEvent.touches[0],f=u&&u.pageX||n.pageX,e=u&&u.pageY||n.pageY,l=Math.max(0,Math.min(f-c.left,y)),p=Math.max(0,Math.min(e-c.top,v));w&&h(n);i.apply(t,[l,p,n])}}function p(i){var r=i.which?i.which==3:i.button==2;r||s||u.apply(t,arguments)!==!1&&(s=!0,v=n(t).height(),y=n(t).width(),c=n(t).offset(),n(o).bind(e),n(o.body).addClass("sp-dragging"),l(i),h(i))}function a(){s&&(n(o).unbind(e),n(o.body).removeClass("sp-dragging"),setTimeout(function(){f.apply(t,arguments)},0));s=!1}i=i||function(){};u=u||function(){};f=f||function(){};var o=document,s=!1,c={},v=0,y=0,w="ontouchstart"in window,e={};e.selectstart=h;e.dragstart=h;e["touchmove mousemove"]=l;e["touchend mouseup"]=a;n(t).bind("touchstart mousedown",p)}function b(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;n.apply(u,f)};i&&clearTimeout(r);(i||!r)&&(r=setTimeout(e,t))}}function e(){return n.fn.spectrum.inputTypeColorSupport()}var c={beforeShow:u,move:u,change:u,show:u,hide:u,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},i=[],r=!!/msie/i.exec(window.navigator.userAgent),l=function(){function t(n,t){return!!~(""+n).indexOf(t)}var i=document.createElement("div"),n=i.style;return n.cssText="background-color:rgba(0,0,0,.5)",t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),k="<div class='sp-replacer'><div class='sp-preview'><div class='sp-preview-inner'><\/div><\/div><div class='sp-dd'>&#9660;<\/div><\/div>",d=function(){var t="",n;if(r)for(n=1;n<=6;n++)t+="<div class='sp-"+n+"'><\/div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'><\/div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'><\/button>","<\/div>","<\/div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'><\/div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'><\/div>","<\/div>","<\/div>","<\/div>","<div class='sp-clear sp-clear-display'>","<\/div>","<div class='sp-hue'>","<div class='sp-slider'><\/div>",t,"<\/div>","<\/div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'><\/div><\/div><\/div>","<\/div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","<\/div>","<div class='sp-initial sp-thumb sp-cf'><\/div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'><\/a>","<button type='button' class='sp-choose'><\/button>","<\/div>","<\/div>","<\/div>"].join("")}(),h="spectrum.id";n.fn.spectrum=function(t){if(typeof t=="string"){var r=this,u=Array.prototype.slice.call(arguments,1);return this.each(function(){var f=i[n(this).data(h)],e;if(f){if(e=f[t],!e)throw new Error("Spectrum: no such method: '"+t+"'");t=="get"?r=f.get():t=="container"?r=f.container:t=="option"?r=f.option.apply(f,u):t=="destroy"?(f.destroy(),n(this).removeData(h)):e.apply(f,u)}}),r}return this.spectrum("destroy").each(function(){var i=n.extend({},t,n(this).data()),r=y(this,i);n(this).data(h,r.id)})};n.fn.spectrum.load=!0;n.fn.spectrum.loadOpts={};n.fn.spectrum.draggable=o;n.fn.spectrum.defaults=c;n.fn.spectrum.inputTypeColorSupport=function e(){if(typeof e._cachedResult=="undefined"){var t=n("<input type='color'/>")[0];e._cachedResult=t.type==="color"&&t.value!==""}return e._cachedResult};n.spectrum={};n.spectrum.localization={};n.spectrum.palettes={};n.fn.spectrum.processNativeColorInputs=function(){var t=n("input[type=color]");t.length&&!e()&&t.spectrum({preferredFormat:"hex6"})},function(){function d(n){var t={r:0,g:0,b:0},i=1,r=!1,e=!1;return typeof n=="string"&&(n=gt(n)),typeof n=="object"&&(n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")?(t=g(n.r,n.g,n.b),r=!0,e=String(n.r).substr(-1)==="%"?"prgb":"rgb"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("v")?(n.s=h(n.s),n.v=h(n.v),t=tt(n.h,n.s,n.v),r=!0,e="hsv"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("l")&&(n.s=h(n.s),n.l=h(n.l),t=nt(n.h,n.s,n.l),r=!0,e="hsl"),n.hasOwnProperty("a")&&(i=n.a)),i=b(i),{ok:r,format:n.format||e,r:u(255,f(t.r,0)),g:u(255,f(t.g,0)),b:u(255,f(t.b,0)),a:i}}function g(n,t,r){return{r:i(n,255)*255,g:i(t,255)*255,b:i(r,255)*255}}function v(n,t,r){var e;n=i(n,255);t=i(t,255);r=i(r,255);var o=f(n,t,r),h=u(n,t,r),s,c,l=(o+h)/2;if(o==h)s=c=0;else{e=o-h;c=l>.5?e/(2-o-h):e/(o+h);switch(o){case n:s=(t-r)/e+(t<r?6:0);break;case t:s=(r-n)/e+2;break;case r:s=(n-t)/e+4}s/=6}return{h:s,s:c,l:l}}function nt(n,t,r){function e(n,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}var o,s,h,u,f;return n=i(n,360),t=i(t,100),r=i(r,100),t===0?o=s=h=r:(u=r<.5?r*(1+t):r+t-r*t,f=2*r-u,o=e(f,u,n+1/3),s=e(f,u,n),h=e(f,u,n-1/3)),{r:o*255,g:s*255,b:h*255}}function y(n,t,r){n=i(n,255);t=i(t,255);r=i(r,255);var e=f(n,t,r),h=u(n,t,r),o,c,l=e,s=e-h;if(c=e===0?0:s/e,e==h)o=0;else{switch(e){case n:o=(t-r)/s+(t<r?6:0);break;case t:o=(r-n)/s+2;break;case r:o=(n-t)/s+4}o/=6}return{h:o,s:c,v:l}}function tt(n,t,r){n=i(n,360)*6;t=i(t,100);r=i(r,100);var h=s.floor(n),c=n-h,u=r*(1-t),f=r*(1-c*t),e=r*(1-(1-c)*t),o=h%6,l=[r,f,u,u,e,r][o],a=[e,r,r,f,u,u][o],v=[u,u,e,r,r,f][o];return{r:l*255,g:a*255,b:v*255}}function p(n,i,r,u){var f=[o(t(n).toString(16)),o(t(i).toString(16)),o(t(r).toString(16))];return u&&f[0].charAt(0)==f[0].charAt(1)&&f[1].charAt(0)==f[1].charAt(1)&&f[2].charAt(0)==f[2].charAt(1)?f[0].charAt(0)+f[1].charAt(0)+f[2].charAt(0):f.join("")}function w(n,i,r,u){var f=[o(kt(u)),o(t(n).toString(16)),o(t(i).toString(16)),o(t(r).toString(16))];return f.join("")}function it(t,i){i=i===0?0:i||10;var r=n(t).toHsl();return r.s-=i/100,r.s=c(r.s),n(r)}function rt(t,i){i=i===0?0:i||10;var r=n(t).toHsl();return r.s+=i/100,r.s=c(r.s),n(r)}function ut(t){return n(t).desaturate(100)}function ft(t,i){i=i===0?0:i||10;var r=n(t).toHsl();return r.l+=i/100,r.l=c(r.l),n(r)}function et(i,r){r=r===0?0:r||10;var e=n(i).toRgb();return e.r=f(0,u(255,e.r-t(255*-(r/100)))),e.g=f(0,u(255,e.g-t(255*-(r/100)))),e.b=f(0,u(255,e.b-t(255*-(r/100)))),n(e)}function ot(t,i){i=i===0?0:i||10;var r=n(t).toHsl();return r.l-=i/100,r.l=c(r.l),n(r)}function st(i,r){var u=n(i).toHsl(),f=(t(u.h)+r)%360;return u.h=f<0?360+f:f,n(u)}function ht(t){var i=n(t).toHsl();return i.h=(i.h+180)%360,n(i)}function ct(t){var i=n(t).toHsl(),r=i.h;return[n(t),n({h:(r+120)%360,s:i.s,l:i.l}),n({h:(r+240)%360,s:i.s,l:i.l})]}function lt(t){var i=n(t).toHsl(),r=i.h;return[n(t),n({h:(r+90)%360,s:i.s,l:i.l}),n({h:(r+180)%360,s:i.s,l:i.l}),n({h:(r+270)%360,s:i.s,l:i.l})]}function at(t){var i=n(t).toHsl(),r=i.h;return[n(t),n({h:(r+72)%360,s:i.s,l:i.l}),n({h:(r+216)%360,s:i.s,l:i.l})]}function vt(t,i,r){i=i||6;r=r||30;var u=n(t).toHsl(),f=360/r,e=[n(t)];for(u.h=(u.h-(f*i>>1)+720)%360;--i;)u.h=(u.h+f)%360,e.push(n(u));return e}function yt(t,i){i=i||6;for(var r=n(t).toHsv(),e=r.h,o=r.s,u=r.v,f=[],s=1/i;i--;)f.push(n({h:e,s:o,v:u})),u=(u+s)%1;return f}function pt(n){var i={};for(var t in n)n.hasOwnProperty(t)&&(i[n[t]]=t);return i}function b(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function i(n,t){wt(n)&&(n="100%");var i=bt(n);return(n=u(t,f(0,parseFloat(n))),i&&(n=parseInt(n*t,10)/100),s.abs(n-t)<1e-6)?1:n%t/parseFloat(t)}function c(n){return u(1,f(0,n))}function r(n){return parseInt(n,16)}function wt(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function bt(n){return typeof n=="string"&&n.indexOf("%")!=-1}function o(n){return n.length==1?"0"+n:""+n}function h(n){return n<=1&&(n=n*100+"%"),n}function kt(n){return Math.round(parseFloat(n)*255).toString(16)}function dt(n){return r(n)/255}function gt(n){var i,t;if(n=n.replace(ni,"").replace(ti,"").toLowerCase(),i=!1,l[n])n=l[n],i=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(t=e.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=e.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=e.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=e.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=e.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=e.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=e.hex8.exec(n))?{a:dt(t[1]),r:r(t[2]),g:r(t[3]),b:r(t[4]),format:i?"name":"hex8"}:(t=e.hex6.exec(n))?{r:r(t[1]),g:r(t[2]),b:r(t[3]),format:i?"name":"hex"}:(t=e.hex3.exec(n))?{r:r(t[1]+""+t[1]),g:r(t[2]+""+t[2]),b:r(t[3]+""+t[3]),format:i?"name":"hex"}:!1}var ni=/^[\s,#]+/,ti=/\s+$/,ii=0,s=Math,t=s.round,u=s.min,f=s.max,a=s.random,n=function(i,r){if(i=i?i:"",r=r||{},i instanceof n)return i;if(!(this instanceof n))return new n(i,r);var u=d(i);this._originalInput=i;this._r=u.r;this._g=u.g;this._b=u.b;this._a=u.a;this._roundA=t(100*this._a)/100;this._format=r.format||u.format;this._gradientType=r.gradientType;this._r<1&&(this._r=t(this._r));this._g<1&&(this._g=t(this._g));this._b<1&&(this._b=t(this._b));this._ok=u.ok;this._tc_id=ii++},l,k,e;n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},setAlpha:function(n){return this._a=b(n),this._roundA=t(100*this._a)/100,this},toHsv:function(){var n=y(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=y(this._r,this._g,this._b),i=t(n.h*360),r=t(n.s*100),u=t(n.v*100);return this._a==1?"hsv("+i+", "+r+"%, "+u+"%)":"hsva("+i+", "+r+"%, "+u+"%, "+this._roundA+")"},toHsl:function(){var n=v(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=v(this._r,this._g,this._b),i=t(n.h*360),r=t(n.s*100),u=t(n.l*100);return this._a==1?"hsl("+i+", "+r+"%, "+u+"%)":"hsla("+i+", "+r+"%, "+u+"%, "+this._roundA+")"},toHex:function(n){return p(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(){return w(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:t(this._r),g:t(this._g),b:t(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+t(this._r)+", "+t(this._g)+", "+t(this._b)+")":"rgba("+t(this._r)+", "+t(this._g)+", "+t(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:t(i(this._r,255)*100)+"%",g:t(i(this._g,255)*100)+"%",b:t(i(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+t(i(this._r,255)*100)+"%, "+t(i(this._g,255)*100)+"%, "+t(i(this._b,255)*100)+"%)":"rgba("+t(i(this._r,255)*100)+"%, "+t(i(this._g,255)*100)+"%, "+t(i(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:k[p(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var i="#"+w(this._r,this._g,this._b,this._a),r=i,f=this._gradientType?"GradientType = 1, ":"",u;return t&&(u=n(t),r=u.toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+f+"startColorstr="+i+",endColorstr="+r+")"},toString:function(n){var i=!!n;n=n||this._format;var t=!1,r=this._a<1&&this._a>=0,u=!i&&r&&(n==="hex"||n==="hex6"||n==="hex3"||n==="name");return u?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(t=this.toRgbString()),n==="prgb"&&(t=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(t=this.toHexString()),n==="hex3"&&(t=this.toHexString(!0)),n==="hex8"&&(t=this.toHex8String()),n==="name"&&(t=this.toName()),n==="hsl"&&(t=this.toHslString()),n==="hsv"&&(t=this.toHsvString()),t||this.toHexString())},_applyModification:function(n,t){var i=n.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(ft,arguments)},brighten:function(){return this._applyModification(et,arguments)},darken:function(){return this._applyModification(ot,arguments)},desaturate:function(){return this._applyModification(it,arguments)},saturate:function(){return this._applyModification(rt,arguments)},greyscale:function(){return this._applyModification(ut,arguments)},spin:function(){return this._applyModification(st,arguments)},_applyCombination:function(n,t){return n.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(vt,arguments)},complement:function(){return this._applyCombination(ht,arguments)},monochromatic:function(){return this._applyCombination(yt,arguments)},splitcomplement:function(){return this._applyCombination(at,arguments)},triad:function(){return this._applyCombination(ct,arguments)},tetrad:function(){return this._applyCombination(lt,arguments)}};n.fromRatio=function(t,i){var u,r;if(typeof t=="object"){u={};for(r in t)t.hasOwnProperty(r)&&(u[r]=r==="a"?t[r]:h(t[r]));t=u}return n(t,i)};n.equals=function(t,i){return!t||!i?!1:n(t).toRgbString()==n(i).toRgbString()};n.random=function(){return n.fromRatio({r:a(),g:a(),b:a()})};n.mix=function(t,i,r){var o,l;r=r===0?0:r||50;var f=n(t).toRgb(),e=n(i).toRgb(),h=r/100,s=h*2-1,c=e.a-f.a,u;return u=s*c==-1?s:(s+c)/(1+s*c),u=(u+1)/2,o=1-u,l={r:e.r*u+f.r*o,g:e.g*u+f.g*o,b:e.b*u+f.b*o,a:e.a*h+f.a*(1-h)},n(l)};n.readability=function(t,i){var f=n(t),e=n(i),r=f.toRgb(),u=e.toRgb(),o=f.getBrightness(),s=e.getBrightness(),h=Math.max(r.r,u.r)-Math.min(r.r,u.r)+Math.max(r.g,u.g)-Math.min(r.g,u.g)+Math.max(r.b,u.b)-Math.min(r.b,u.b);return{brightness:Math.abs(o-s),color:h}};n.isReadable=function(t,i){var r=n.readability(t,i);return r.brightness>125&&r.color>500};n.mostReadable=function(t,i){for(var h=null,o=0,r=!1,u=0;u<i.length;u++){var f=n.readability(t,i[u]),e=f.brightness>125&&f.color>500,s=3*(f.brightness/125)+f.color/500;(e&&!r||e&&r&&s>o||!e&&!r&&s>o)&&(r=e,o=s,h=n(i[u]))}return h};l=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};k=n.hexNames=pt(l);e=function(){var n="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=n}();n(function(){n.fn.spectrum.load&&n.fn.spectrum.processNativeColorInputs()})});
/*! vex.combined.js: vex 3.1.0, vex-dialog 1.0.6 */
!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;t.vex=n()}}(function(){var n;return function t(n,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!n[f]){if(h="function"==typeof require&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};n[f][0].call(s.exports,function(t){var i=n[f][1][t];return u(i?i:t)},s,s.exports,t,n,i,r)}return i[f].exports}for(var e="function"==typeof require&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(){"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?!function(){"use strict";var n=document.createElement("_"),t,i;(n.classList.add("c1","c2"),n.classList.contains("c2"))||(t=function(n){var t=DOMTokenList.prototype[n];DOMTokenList.prototype[n]=function(n){for(var r=arguments.length,i=0;i<r;i++)n=arguments[i],t.call(this,n)}},t("add"),t("remove"));(n.classList.toggle("c3",!1),n.classList.contains("c3"))&&(i=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(n,t){return 1 in arguments&&!this.contains(n)==!t?t:i.call(this,n)});n=null}():!function(n){"use strict";var f;if("Element"in n){var e="classList",t="prototype",o=n.Element[t],r=Object,l=String[t].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[t].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1},s=function(n,t){this.name=n;this.code=DOMException[n];this.message=t},u=function(n,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(n,t)},h=function(n){for(var i=l.call(n.getAttribute("class")||""),r=i?i.split(/\s+/):[],t=0,u=r.length;t<u;t++)this.push(r[t]);this._updateClassName=function(){n.setAttribute("class",this.toString())}},i=h[t]=[],c=function(){return new h(this)};if(s[t]=Error[t],i.item=function(n){return this[n]||null},i.contains=function(n){return n+="",u(this,n)!==-1},i.add=function(){var n,t=arguments,i=0,f=t.length,r=!1;do n=t[i]+"",u(this,n)===-1&&(this.push(n),r=!0);while(++i<f);r&&this._updateClassName()},i.remove=function(){var t,n,i=arguments,r=0,e=i.length,f=!1;do for(t=i[r]+"",n=u(this,t);n!==-1;)this.splice(n,1),f=!0,n=u(this,t);while(++r<e);f&&this._updateClassName()},i.toggle=function(n,t){n+="";var i=this.contains(n),r=i?t!==!0&&"remove":t!==!1&&"add";return r&&this[r](n),t===!0||t===!1?t:!i},i.toString=function(){return this.join(" ")},r.defineProperty){f={get:c,enumerable:!0,configurable:!0};try{r.defineProperty(o,e,f)}catch(v){v.number===-2146823252&&(f.enumerable=!1,r.defineProperty(o,e,f))}}else r[t].__defineGetter__&&o.__defineGetter__(e,c)}}(window.self))},{}],2:[function(n,t){function f(n,t){var u,f,r,o;if("string"!=typeof n)throw new TypeError("String expected");if(t||(t=document),u=/<([\w:]+)/.exec(n),!u)return t.createTextNode(n);if(n=n.replace(/^\s+|\s+$/g,""),f=u[1],"body"==f)return r=t.createElement("html"),r.innerHTML=n,r.removeChild(r.lastChild);var e=i[f]||i._default,s=e[0],h=e[1],c=e[2],r=t.createElement("div");for(r.innerHTML=h+n+c;s--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);for(o=t.createDocumentFragment();r.firstChild;)o.appendChild(r.removeChild(r.firstChild));return o}var r,u,i;t.exports=f;u=!1;"undefined"!=typeof document&&(r=document.createElement("div"),r.innerHTML='  <link/><table><\/table><a href="/a">a<\/a><input type="checkbox"/>',u=!r.getElementsByTagName("link").length,r=void 0);i={legend:[1,"<fieldset>","<\/fieldset>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],_default:u?[1,"X<div>","<\/div>"]:[0,"",""]};i.td=i.th=[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"];i.option=i.optgroup=[1,'<select multiple="multiple">',"<\/select>"];i.thead=i.tbody=i.colgroup=i.caption=i.tfoot=[1,"<table>","<\/table>"];i.polyline=i.ellipse=i.polygon=i.circle=i.text=i.line=i.path=i.rect=i.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"<\/svg>"]},{}],3:[function(n,t){"use strict";function i(n){var u,i,t,r,e;if(void 0===n||null===n)throw new TypeError("Cannot convert first argument to object");for(u=Object(n),i=1;i<arguments.length;i++)if(t=arguments[i],void 0!==t&&null!==t)for(var o=Object.keys(Object(t)),f=0,s=o.length;f<s;f++)r=o[f],e=Object.getOwnPropertyDescriptor(t,r),void 0!==e&&e.enumerable&&(u[r]=t[r]);return u}function r(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:i})}t.exports={assign:i,polyfill:r}},{}],4:[function(n,t){function u(n,t){var i,f,u;"object"!=typeof t?t={hash:!!t}:void 0===t.hash&&(t.hash=!0);for(var r=t.hash?{}:"",c=t.serializer||(t.hash?e:o),p=n&&n.elements?n.elements:[],l=Object.create(null),v=0;v<p.length;++v)if(i=p[v],(t.disabled||!i.disabled)&&i.name&&h.test(i.nodeName)&&!s.test(i.type)){if(u=i.name,f=i.value,"checkbox"!==i.type&&"radio"!==i.type||i.checked||(f=void 0),t.empty){if("checkbox"!==i.type||i.checked||(f=""),"radio"===i.type&&(l[i.name]||i.checked?i.checked&&(l[i.name]=!0):l[i.name]=!1),!f&&"radio"==i.type)continue}else if(!f)continue;if("select-multiple"!==i.type)r=c(r,u,f);else{f=[];for(var w=i.options,b=!1,y=0;y<w.length;++y){var a=w[y],k=t.empty&&!a.value,d=a.value||k;a.selected&&d&&(b=!0,r=t.hash&&"[]"!==u.slice(u.length-2)?c(r,u+"[]",a.value):c(r,u,a.value))}!b&&t.empty&&(r=c(r,u,""))}}if(t.empty)for(u in l)l[u]||(r=c(r,u,""));return r}function f(n){var i=[],u=new RegExp(r),t=/^([^\[\]]*)/.exec(n);for(t[1]&&i.push(t[1]);null!==(t=u.exec(n));)i.push(t[1]);return i}function i(n,t,r){var u,o,f,e;return 0===t.length?r:(u=t.shift(),o=u.match(/^\[(.+?)\]$/),"[]"===u)?(n=n||[],Array.isArray(n)?n.push(i(null,t,r)):(n._values=n._values||[],n._values.push(i(null,t,r))),n):(o?(f=o[1],e=+f,isNaN(e)?(n=n||{},n[f]=i(n[f],t,r)):(n=n||[],n[e]=i(n[e],t,r))):n[u]=i(n[u],t,r),n)}function e(n,t,u){var s=t.match(r),o,e;return s?(o=f(t),i(n,o,u)):(e=n[t],e?(Array.isArray(e)||(n[t]=[e]),n[t].push(u)):n[t]=u),n}function o(n,t,i){return i=i.replace(/(\r)?\n/g,"\r\n"),i=encodeURIComponent(i),i=i.replace(/%20/g,"+"),n+(n?"&":"")+encodeURIComponent(t)+"="+i}var s=/^(?:submit|button|image|reset|file)$/i,h=/^(?:input|select|textarea|keygen)/i,r=/(\[[^\[\]]*\])/g;t.exports=u},{}],5:[function(t,i,r){(function(u){!function(t){if("object"==typeof r&&"undefined"!=typeof i)i.exports=t();else if("function"==typeof n&&n.amd)n([],t);else{var f;f="undefined"!=typeof window?window:"undefined"!=typeof u?u:"undefined"!=typeof self?self:this;f.vexDialog=t()}}(function(){return function n(i,r,u){function f(e,s){var c,l,h;if(!r[e]){if(!i[e]){if(c="function"==typeof t&&t,!s&&c)return c(e,!0);if(o)return o(e,!0);l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l;}h=r[e]={exports:{}};i[e][0].call(h.exports,function(n){var t=i[e][1][n];return f(t?t:n)},h,h.exports,n,i,r,u)}return r[e].exports}for(var o="function"==typeof t&&t,e=0;e<u.length;e++)f(u[e]);return f}({1:[function(n,t){function f(n,t){var u,f,r,o;if("string"!=typeof n)throw new TypeError("String expected");if(t||(t=document),u=/<([\w:]+)/.exec(n),!u)return t.createTextNode(n);if(n=n.replace(/^\s+|\s+$/g,""),f=u[1],"body"==f)return r=t.createElement("html"),r.innerHTML=n,r.removeChild(r.lastChild);var e=i[f]||i._default,s=e[0],h=e[1],c=e[2],r=t.createElement("div");for(r.innerHTML=h+n+c;s--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);for(o=t.createDocumentFragment();r.firstChild;)o.appendChild(r.removeChild(r.firstChild));return o}var r,u,i;t.exports=f;u=!1;"undefined"!=typeof document&&(r=document.createElement("div"),r.innerHTML='  <link/><table><\/table><a href="/a">a<\/a><input type="checkbox"/>',u=!r.getElementsByTagName("link").length,r=void 0);i={legend:[1,"<fieldset>","<\/fieldset>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],_default:u?[1,"X<div>","<\/div>"]:[0,"",""]};i.td=i.th=[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"];i.option=i.optgroup=[1,'<select multiple="multiple">',"<\/select>"];i.thead=i.tbody=i.colgroup=i.caption=i.tfoot=[1,"<table>","<\/table>"];i.polyline=i.ellipse=i.polygon=i.circle=i.text=i.line=i.path=i.rect=i.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"<\/svg>"]},{}],2:[function(n,t){function u(n,t){var i,f,u;"object"!=typeof t?t={hash:!!t}:void 0===t.hash&&(t.hash=!0);for(var r=t.hash?{}:"",c=t.serializer||(t.hash?e:o),p=n&&n.elements?n.elements:[],l=Object.create(null),v=0;v<p.length;++v)if(i=p[v],(t.disabled||!i.disabled)&&i.name&&h.test(i.nodeName)&&!s.test(i.type)){if(u=i.name,f=i.value,"checkbox"!==i.type&&"radio"!==i.type||i.checked||(f=void 0),t.empty){if("checkbox"!==i.type||i.checked||(f=""),"radio"===i.type&&(l[i.name]||i.checked?i.checked&&(l[i.name]=!0):l[i.name]=!1),!f&&"radio"==i.type)continue}else if(!f)continue;if("select-multiple"!==i.type)r=c(r,u,f);else{f=[];for(var w=i.options,b=!1,y=0;y<w.length;++y){var a=w[y],k=t.empty&&!a.value,d=a.value||k;a.selected&&d&&(b=!0,r=t.hash&&"[]"!==u.slice(u.length-2)?c(r,u+"[]",a.value):c(r,u,a.value))}!b&&t.empty&&(r=c(r,u,""))}}if(t.empty)for(u in l)l[u]||(r=c(r,u,""));return r}function f(n){var i=[],u=new RegExp(r),t=/^([^\[\]]*)/.exec(n);for(t[1]&&i.push(t[1]);null!==(t=u.exec(n));)i.push(t[1]);return i}function i(n,t,r){var u,o,f,e;return 0===t.length?r:(u=t.shift(),o=u.match(/^\[(.+?)\]$/),"[]"===u)?(n=n||[],Array.isArray(n)?n.push(i(null,t,r)):(n._values=n._values||[],n._values.push(i(null,t,r))),n):(o?(f=o[1],e=+f,isNaN(e)?(n=n||{},n[f]=i(n[f],t,r)):(n=n||[],n[e]=i(n[e],t,r))):n[u]=i(n[u],t,r),n)}function e(n,t,u){var s=t.match(r),o,e;return s?(o=f(t),i(n,o,u)):(e=n[t],e?(Array.isArray(e)||(n[t]=[e]),n[t].push(u)):n[t]=u),n}function o(n,t,i){return i=i.replace(/(\r)?\n/g,"\r\n"),i=encodeURIComponent(i),i=i.replace(/%20/g,"+"),n+(n?"&":"")+encodeURIComponent(t)+"="+i}var s=/^(?:submit|button|image|reset|file)$/i,h=/^(?:input|select|textarea|keygen)/i,r=/(\[[^\[\]]*\])/g;t.exports=u},{}],3:[function(n,t){var i=n("domify"),r=n("form-serialize"),u=function(n){var t=document.createElement("form"),r,u;return t.classList.add("vex-dialog-form"),r=document.createElement("div"),r.classList.add("vex-dialog-message"),r.appendChild(n.message instanceof window.Node?n.message:i(n.message)),u=document.createElement("div"),u.classList.add("vex-dialog-input"),u.appendChild(n.input instanceof window.Node?n.input:i(n.input)),t.appendChild(r),t.appendChild(u),t},f=function(n){var u=document.createElement("div"),i,r,t;for(u.classList.add("vex-dialog-buttons"),i=0;i<n.length;i++)r=n[i],t=document.createElement("button"),t.type=r.type,t.textContent=r.text,t.classList.add(r.className),t.classList.add("vex-dialog-button"),0===i?t.classList.add("vex-first"):i===n.length-1&&t.classList.add("vex-last"),function(n){t.addEventListener("click",function(t){n.click&&n.click.call(this,t)}.bind(this))}.bind(this)(r),u.appendChild(t);return u},e=function(n){var t={name:"dialog",open:function(t){var i=Object.assign({},this.defaultOptions,t),o;i.unsafeMessage&&!i.message?i.message=i.unsafeMessage:i.message&&(i.message=n._escapeHtml(i.message));var e=i.unsafeContent=u(i),r=n.open(i),s=i.beforeClose&&i.beforeClose.bind(r);return(r.options.beforeClose=function(){var n=!s||s();return n&&i.callback(this.value||!1),n}.bind(r),e.appendChild(f.call(r,i.buttons)),r.form=e,e.addEventListener("submit",i.onSubmit.bind(r)),i.focusFirstInput)&&(o=r.contentEl.querySelector("button, input, textarea"),o&&o.focus()),r},alert:function(n){return"string"==typeof n&&(n={message:n}),n=Object.assign({},this.defaultOptions,this.defaultAlertOptions,n),this.open(n)},confirm:function(n){if("object"!=typeof n||"function"!=typeof n.callback)throw new Error("dialog.confirm(options) requires options.callback.");return n=Object.assign({},this.defaultOptions,this.defaultConfirmOptions,n),this.open(n)},prompt:function(t){var i,r,u;if("object"!=typeof t||"function"!=typeof t.callback)throw new Error("dialog.prompt(options) requires options.callback.");return i=Object.assign({},this.defaultOptions,this.defaultPromptOptions),r={unsafeMessage:'<label for="vex">'+n._escapeHtml(t.label||i.label)+"<\/label>",input:'<input name="vex" type="text" class="vex-dialog-prompt-input" placeholder="'+n._escapeHtml(t.placeholder||i.placeholder)+'" value="'+n._escapeHtml(t.value||i.value)+'" />'},t=Object.assign(i,r,t),u=t.callback,t.callback=function(n){n=n[Object.keys(n)[0]];u(n)},this.open(t)}};return t.buttons={YES:{text:"OK",type:"submit",className:"vex-dialog-button-primary",click:function(){this.value=!0}},NO:{text:"Cancel",type:"button",className:"vex-dialog-button-secondary",click:function(){this.value=!1;this.close()}}},t.defaultOptions={callback:function(){},afterOpen:function(){},message:"",input:"",buttons:[t.buttons.YES,t.buttons.NO],showCloseButton:!1,onSubmit:function(n){return n.preventDefault(),this.options.input&&(this.value=r(this.form,{hash:!0})),this.close()},focusFirstInput:!0},t.defaultAlertOptions={buttons:[t.buttons.YES]},t.defaultPromptOptions={label:"Prompt:",placeholder:"",value:""},t.defaultConfirmOptions={},t};t.exports=e},{domify:1,"form-serialize":2}]},{},[3])(3)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{domify:2,"form-serialize":4}],6:[function(n,t){var i=n("./vex");i.registerPlugin(n("vex-dialog"));t.exports=i},{"./vex":7,"vex-dialog":5}],7:[function(n,t){n("classlist-polyfill");n("es6-object-assign").polyfill();var h=n("domify"),s=function(n){if("undefined"!=typeof n){var t=document.createElement("div");return t.appendChild(document.createTextNode(n)),t.innerHTML}return""},f=function(n,t){var r,i,u;if("string"==typeof t&&0!==t.length)for(r=t.split(" "),i=0;i<r.length;i++)u=r[i],u.length&&n.classList.add(u)},e=function(){var i=document.createElement("div"),n={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oanimationend",msAnimation:"MSAnimationEnd",animation:"animationend"};for(var t in n)if(void 0!==i.style[t])return n[t];return!1}(),u={vex:"vex",content:"vex-content",overlay:"vex-overlay",close:"vex-close",closing:"vex-closing",open:"vex-open"},r={},c=1,o=!1,i={open:function(n){var w=function(n){console.warn('The "'+n+'" property is deprecated in vex 3. Use CSS classes and the appropriate "ClassName" options, instead.');console.warn("See http://github.hubspot.com/vex/api/advanced/#options")},t,l,a,v,y,p;return n.css&&w("css"),n.overlayCSS&&w("overlayCSS"),n.contentCSS&&w("contentCSS"),n.closeCSS&&w("closeCSS"),t={},t.id=c++,r[t.id]=t,t.isOpen=!0,t.close=function(){function t(n){return"none"!==f.getPropertyValue(n+"animation-name")&&"0s"!==f.getPropertyValue(n+"animation-duration")}var n,i;if(!this.isOpen)return!0;if((n=this.options,o&&!n.escapeButtonCloses)||(i=function(){return!n.beforeClose||n.beforeClose.call(this)}.bind(this)(),i===!1))return!1;this.isOpen=!1;var f=window.getComputedStyle(this.contentEl),h=t("")||t("-webkit-")||t("-moz-")||t("-o-"),s=function c(){this.rootEl.parentNode&&(this.rootEl.removeEventListener(e,c),delete r[this.id],this.rootEl.parentNode.removeChild(this.rootEl),n.afterClose&&n.afterClose.call(this),0===Object.keys(r).length&&document.body.classList.remove(u.open))}.bind(this);return e&&h?(this.rootEl.addEventListener(e,s),this.rootEl.classList.add(u.closing)):s(),!0},"string"==typeof n&&(n={content:n}),n.unsafeContent&&!n.content?n.content=n.unsafeContent:n.content&&(n.content=s(n.content)),l=t.options=Object.assign({},i.defaultOptions,n),a=t.rootEl=document.createElement("div"),a.classList.add(u.vex),f(a,l.className),v=t.overlayEl=document.createElement("div"),v.classList.add(u.overlay),f(v,l.overlayClassName),l.overlayClosesOnClick&&v.addEventListener("click",function(n){n.target===v&&t.close()}),a.appendChild(v),y=t.contentEl=document.createElement("div"),(y.classList.add(u.content),f(y,l.contentClassName),y.appendChild(l.content instanceof window.Node?l.content:h(l.content)),a.appendChild(y),l.showCloseButton)&&(p=t.closeEl=document.createElement("div"),p.classList.add(u.close),f(p,l.closeClassName),p.addEventListener("click",t.close.bind(t)),y.appendChild(p)),document.querySelector(l.appendLocation).appendChild(a),l.afterOpen&&l.afterOpen.call(t),document.body.classList.add(u.open),t},close:function(n){var t;if(n.id)t=n.id;else{if("string"!=typeof n)throw new TypeError("close requires a vex object or id string");t=n}return!!r[t]&&r[t].close()},closeTop:function(){var n=Object.keys(r);return!!n.length&&r[n[n.length-1]].close()},closeAll:function(){for(var n in r)this.close(n);return!0},getAll:function(){return r},getById:function(n){return r[n]}};window.addEventListener("keyup",function(n){27===n.keyCode&&(o=!0,i.closeTop(),o=!1)});window.addEventListener("popstate",function(){i.defaultOptions.closeAllOnPopState&&i.closeAll()});i.defaultOptions={content:"",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",overlayClassName:"",contentClassName:"",closeClassName:"",closeAllOnPopState:!0};Object.defineProperty(i,"_escapeHtml",{configurable:!1,enumerable:!1,writable:!1,value:s});i.registerPlugin=function(n,t){var r=n(i),u=t||r.name;if(i[u])throw new Error("Plugin "+t+" is already registered.");i[u]=r};t.exports=i},{"classlist-polyfill":1,domify:2,"es6-object-assign":3}]},{},[6])(6)});
/**
 * @license twgl.js 2.1.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
 * Available via the MIT license.
 * see: http://github.com/greggman/twgl.js for details
 */
/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */
(function(n,t){typeof define=="function"&&define.amd&&define([],t);typeof module!="undefined"&&module.exports?module.exports=t():n.twgl=t()})(this,function(){
/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */
var i,t,n;return function(r){function e(n,t){return nt.call(n,t)}function c(n,t){var o,s,r,u,h,y,c,w,i,l,p,e=t&&t.split("/"),a=f.map,v=a&&a["*"]||{};if(n&&n.charAt(0)===".")if(t){for(n=n.split("/"),h=n.length-1,f.nodeIdCompat&&b.test(n[h])&&(n[h]=n[h].replace(b,"")),n=e.slice(0,e.length-1).concat(n),i=0;i<n.length;i+=1)if(p=n[i],p===".")n.splice(i,1),i-=1;else if(p==="..")if(i===1&&(n[2]===".."||n[0]===".."))break;else i>0&&(n.splice(i-1,2),i-=2);n=n.join("/")}else n.indexOf("./")===0&&(n=n.substring(2));if((e||v)&&a){for(o=n.split("/"),i=o.length;i>0;i-=1){if(s=o.slice(0,i).join("/"),e)for(l=e.length;l>0;l-=1)if(r=a[e.slice(0,l).join("/")],r&&(r=r[s],r)){u=r;y=i;break}if(u)break;!c&&v&&v[s]&&(c=v[s],w=i)}!u&&c&&(u=c,y=w);u&&(o.splice(0,y,u),n=o.join("/"))}return n}function p(n,t){return function(){var i=tt.call(arguments,0);return typeof i[0]!="string"&&i.length===1&&i.push(null),o.apply(r,i.concat([n,t]))}}function k(n){return function(t){return c(t,n)}}function d(n){return function(t){u[n]=t}}function l(n){if(e(h,n)){var t=h[n];delete h[n];y[n]=!0;a.apply(r,t)}if(!e(u,n)&&!e(y,n))throw new Error("No "+n);return u[n]}function w(n){var i,t=n?n.indexOf("!"):-1;return t>-1&&(i=n.substring(0,t),n=n.substring(t+1,n.length)),[i,n]}function g(n){return function(){return f&&f.config&&f.config[n]||{}}}var a,o,v,s,u={},h={},f={},y={},nt=Object.prototype.hasOwnProperty,tt=[].slice,b=/\.js$/;v=function(n,t){var r,u=w(n),i=u[0];return n=u[1],i&&(i=c(i,t),r=l(i)),i?n=r&&r.normalize?r.normalize(n,k(t)):c(n,t):(n=c(n,t),u=w(n),i=u[0],n=u[1],i&&(r=l(i))),{f:i?i+"!"+n:n,n:n,pr:i,p:r}};s={notrequirebecasebrowserifymessesup:function(n){return p(n)},exports:function(n){var t=u[n];return typeof t!="undefined"?t:u[n]={}},module:function(n){return{id:n,uri:"",exports:u[n],config:g(n)}}};a=function(n,t,i,f){var w,o,k,b,c,a=[],g=typeof i,nt;if(f=f||n,g==="undefined"||g==="function"){for(t=!t.length&&i.length?["notrequirebecasebrowserifymessesup","exports","module"]:t,c=0;c<t.length;c+=1)if(b=v(t[c],f),o=b.f,o==="notrequirebecasebrowserifymessesup")a[c]=s.notrequirebecasebrowserifymessesup(n);else if(o==="exports")a[c]=s.exports(n),nt=!0;else if(o==="module")w=a[c]=s.module(n);else if(e(u,o)||e(h,o)||e(y,o))a[c]=l(o);else if(b.p)b.p.load(b.n,p(f,!0),d(o),{}),a[c]=u[o];else throw new Error(n+" missing "+o);k=i?i.apply(u[n],a):undefined;n&&(w&&w.exports!==r&&w.exports!==u[n]?u[n]=w.exports:k===r&&nt||(u[n]=k))}else n&&(u[n]=i)};i=t=o=function(n,t,i,u,e){if(typeof n=="string")return s[n]?s[n](t):l(v(n,t).f);if(!n.splice){if(f=n,f.deps&&o(f.deps,f.callback),!t)return;t.splice?(n=t,t=i,i=null):n=r}return t=t||function(){},typeof i=="function"&&(i=u,u=e),u?a(r,n,t,i):setTimeout(function(){a(r,n,t,i)},4),o};o.config=function(n){return o(n)};i._defined=u;n=function(n,t,i){if(typeof n!="string")throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]);e(u,n)||e(h,n)||(h[n]=[n,t,i])};n.amd={jQuery:!0}}(),n("node_modules/almond/almond.js",function(){}),n("twgl/typedarrays",[],function(){function o(o){if(o instanceof Int8Array)return n;if(o instanceof Uint8Array||o instanceof Uint8ClampedArray)return t;if(o instanceof Int16Array)return i;if(o instanceof Uint16Array)return r;if(o instanceof Int32Array)return u;if(o instanceof Uint32Array)return f;if(o instanceof Float32Array)return e;throw"unsupported typed array type";}function s(o){switch(o){case n:return Int8Array;case t:return Uint8Array;case i:return Int16Array;case r:return Uint16Array;case u:return Int32Array;case f:return Uint32Array;case e:return Float32Array;default:throw"unknown gl type";}}function h(n){return n&&n.buffer&&n.buffer instanceof ArrayBuffer}var c=undefined,n=5120,t=5121,i=5122,r=5123,u=5124,f=5125,e=5126;return{getGLTypeForTypedArray:o,getTypedArrayTypeForGLType:s,isArrayBuffer:h}}),n("twgl/utils",[],function(){function n(n){var t={};return Object.keys(n).forEach(function(i){t[i]=n[i]}),t}function t(n,t,i){n.forEach(function(n){var r=t[n];r!==undefined&&(i[n]=r)})}function i(n,t){Object.keys(t).forEach(function(i){t.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(t[i]=n[i])})}function r(n){return parseFloat(n.getParameter(n.VERSION).substr(6))}function u(n){return n.getParameter(n.VERSION).indexOf("WebGL 2.0")===0}function f(n){var t=r(n);return t<=1&&t>0}var e=window.console&&window.console.error&&typeof window.console.error=="function"?window.console.error.bind(window.console):function(){},o=window.console&&window.console.warn&&typeof window.console.warn=="function"?window.console.warn.bind(window.console):function(){};return{copyExistingProperties:i,copyNamedProperties:t,shallowCopy:n,isWebGL1:f,isWebGL2:u,error:e,warn:o}}),n("twgl/attributes",["./typedarrays","./utils",],function(n,t){function l(n){e.attribPrefix=n}function a(n){t.copyExistingProperties(n,e)}function o(n,t,i,r,u){n.bindBuffer(t,i);n.bufferData(t,r,u||n.STATIC_DRAW)}function i(n,t,i,r){if(t instanceof WebGLBuffer)return t;i=i||n.ARRAY_BUFFER;var u=n.createBuffer();return o(n,i,u,t,r),u}function s(n){return n==="indices"}function v(n){return n instanceof Int8Array?!0:n instanceof Uint8Array?!0:!1}function u(n){return n.length?n:n.data}function y(n,t){var i;if(i=d.test(n)?2:g.test(n)?4:3,t%i>0)throw"Can not guess numComponents for attribute '"+n+"'. Tried "+i+" but "+t+" values is not evenly divisible by "+i+". You should specify it.";return i}function f(n,t){return n.numComponents||n.size||y(t,u(n).length)}function r(t,i){if(n.isArrayBuffer(t))return t;if(n.isArrayBuffer(t.data))return t.data;Array.isArray(t)&&(t={data:t});var r=t.type;return r||(r=s(i)?Uint16Array:Float32Array),new r(t.data)}function h(t,u){var o={};return Object.keys(u).forEach(function(h){if(!s(h)){var c=u[h],a=c.attrib||c.name||c.attribName||e.attribPrefix+h,l=r(c,h);o[a]={buffer:i(t,l,undefined,c.drawType),numComponents:f(c,h),type:n.getGLTypeForTypedArray(l),normalize:c.normalize!==undefined?c.normalize:v(l),stride:c.stride||0,offset:c.offset||0,drawType:c.drawType}}}),o}function p(n,t,i,u){i=r(i);u?(n.bindBuffer(n.ARRAY_BUFFER,t.buffer),n.bufferSubData(n.ARRAY_BUFFER,u,i)):o(n,n.ARRAY_BUFFER,t.buffer,i,t.drawType)}function w(t,u){var e={attribs:h(t,u)},f=u.indices;return f?(f=r(f,"indices"),e.indices=i(t,f,t.ELEMENT_ARRAY_BUFFER),e.numElements=f.length,e.elementType=n.getGLTypeForTypedArray(f)):e.numElements=nt(u),e}function c(n,t,u){var f=u==="indices"?n.ELEMENT_ARRAY_BUFFER:n.ARRAY_BUFFER,e=r(t,u);return i(n,e,f)}function b(n,t){var i={};return Object.keys(t).forEach(function(r){i[r]=c(n,t[r],r)}),i}function k(n,t,i){var r=n.createVertexArray();return n.bindVertexArray(r),t.length||(t=[t]),t.forEach(function(t){twgl.setBuffersAndAttributes(n,t,i)}),n.bindVertexArray(null),{numElements:i.numElements,elementType:i.elementType,vertexArrayObject:r}}var tt=undefined,e={attribPrefix:""},d=/coord|texture/i,g=/color|colour/i,nt=function(){var n=["position","positions","a_position"];return function(t){for(var i,r=0;r<n.length;++r)if(i=n[r],i in t)break;r===n.length&&(i=Object.keys(t)[0]);var s=t[i],e=u(s).length,o=f(s,i),h=e/o;if(e%o>0)throw"numComponents "+o+" not correct for length "+e;return h}}();return{createAttribsFromArrays:h,createBuffersFromArrays:b,createBufferFromArray:c,createBufferFromTypedArray:i,createBufferInfoFromArrays:w,setAttribInfoBufferFromArray:p,createVertexArrayInfo:k,setAttributePrefix:l,setDefaults_:a,getNumComponents_:f,getArray_:u}}),n("twgl/programs",["./utils",],function(n){function y(n,i){return t[i].bindPoint}function at(n,t){return function(i){n.uniform1f(t,i)}}function vt(n,t){return function(i){n.uniform1fv(t,i)}}function yt(n,t){return function(i){n.uniform2fv(t,i)}}function pt(n,t){return function(i){n.uniform3fv(t,i)}}function wt(n,t){return function(i){n.uniform4fv(t,i)}}function p(n,t){return function(i){n.uniform1i(t,i)}}function w(n,t){return function(i){n.uniform1iv(t,i)}}function b(n,t){return function(i){n.uniform2iv(t,i)}}function k(n,t){return function(i){n.uniform3iv(t,i)}}function d(n,t){return function(i){n.uniform4iv(t,i)}}function bt(n,t){return function(i){n.uniform1ui(t,i)}}function kt(n,t){return function(i){n.uniform1uiv(t,i)}}function dt(n,t){return function(i){n.uniform2uiv(t,i)}}function gt(n,t){return function(i){n.uniform3uiv(t,i)}}function ni(n,t){return function(i){n.uniform4uiv(t,i)}}function ti(n,t){return function(i){n.uniformMatrix2fv(t,!1,i)}}function ii(n,t){return function(i){n.uniformMatrix3fv(t,!1,i)}}function ri(n,t){return function(i){n.uniformMatrix4fv(t,!1,i)}}function ui(n,t){return function(i){n.uniformMatrix2x3fv(t,!1,i)}}function fi(n,t){return function(i){n.uniformMatrix3x2fv(t,!1,i)}}function ei(n,t){return function(i){n.uniformMatrix2x4fv(t,!1,i)}}function oi(n,t){return function(i){n.uniformMatrix4x2fv(t,!1,i)}}function si(n,t){return function(i){n.uniformMatrix3x4fv(t,!1,i)}}function hi(n,t){return function(i){n.uniformMatrix4x3fv(t,!1,i)}}function i(n,t,i,r){var u=y(n,t);return function(t){n.uniform1i(r,i);n.activeTexture(n.TEXTURE0+i);n.bindTexture(u,t)}}function r(n,t,i,r,u){for(var o=y(n,t),e=new Int32Array(u),f=0;f<u;++f)e[f]=i+f;return function(t){n.uniform1iv(r,e);t.forEach(function(t,i){n.activeTexture(n.TEXTURE0+e[i]);n.bindTexture(o,t)})}}function ci(n,t){return t=t||0,++t,n.split("\n").map(function(n,i){return i+t+": "+n}).join("\n")}function g(n,t,i,r){var s=r||h,u=n.createShader(i),f=0,e,o;return(l.test(t)&&(f=1,t=t.replace(l,"")),n.shaderSource(u,t),n.compileShader(u),e=n.getShaderParameter(u,n.COMPILE_STATUS),!e)?(o=n.getShaderInfoLog(u),s(ci(t,f)+"\n*** Error compiling shader: "+o),n.deleteShader(u),null):u}function s(n,t,i,r,u){var e,f,o,s;return(typeof r=="function"&&(u=r,r=undefined),typeof i=="function"&&(u=i,i=undefined),e=u||h,f=n.createProgram(),t.forEach(function(t){n.attachShader(f,t)}),i&&i.forEach(function(t,i){n.bindAttribLocation(f,r?r[i]:i,t)}),n.linkProgram(f),o=n.getProgramParameter(f,n.LINK_STATUS),!o)?(s=n.getProgramInfoLog(f),e("Error in program linking:"+s),n.deleteProgram(f),null):f}function li(n,t,i,r){var e="",u,f=document.getElementById(t);if(!f)throw"*** Error: unknown script element"+t;if(e=f.text,!i)if(f.type==="x-shader/x-vertex")u=n.VERTEX_SHADER;else if(f.type==="x-shader/x-fragment")u=n.FRAGMENT_SHADER;else if(u!==n.VERTEX_SHADER&&u!==n.FRAGMENT_SHADER)throw"*** Error: unknown shader type";return g(n,e,i?i:u,r)}function ai(n,t,i,r,u){for(var e,o=[],f=0;f<t.length;++f){if(e=li(n,t[f],n[a[f]],u),!e)return null;o.push(e)}return s(n,o,i,r,u)}function nt(n,t,i,r,u){for(var e,o=[],f=0;f<t.length;++f){if(e=g(n,t[f],n[a[f]],u),!e)return null;o.push(e)}return s(n,o,i,r,u)}function tt(n,i){function h(i,r){var f=n.getUniformLocation(i,r.name),h=r.size>1&&r.name.substr(-3)==="[0]",e=r.type,u=t[e],s;if(!u)throw"unknown type: 0x"+e.toString(16);return u.bindPoint?(s=o,o+=r.size,h?u.arraySetter(n,e,s,f,r.size):u.setter(n,e,s,f,r.size)):u.arraySetter&&h?u.arraySetter(n,f):u.setter(n,f)}for(var u,r,e,o=0,s={},c=n.getProgramParameter(i,n.ACTIVE_UNIFORMS),f=0;f<c;++f){if(u=n.getActiveUniform(i,f),!u)break;r=u.name;r.substr(-3)==="[0]"&&(r=r.substr(0,r.length-3));e=h(i,u);s[r]=e}return s}function it(n,t){for(var f,e,o,s,r,c=n.getProgramParameter(t,n.ACTIVE_UNIFORMS),u=[],h=[],i=0;i<c;++i){if(h.push(i),u.push({}),f=n.getActiveUniform(t,i),!f)break;u[i].name=f.name}for([["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset",],].forEach(function(i){var r=i[0],f=i[1];n.getActiveUniforms(t,h,n[r]).forEach(function(n,t){u[t][f]=n})}),e={},o=n.getProgramParameter(t,n.ACTIVE_UNIFORM_BLOCKS),i=0;i<o;++i)s=n.getActiveUniformBlockName(t,i),r={index:i,usedByVertexShader:n.getActiveUniformBlockParameter(t,i,n.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:n.getActiveUniformBlockParameter(t,i,n.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:n.getActiveUniformBlockParameter(t,i,n.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:n.getActiveUniformBlockParameter(t,i,n.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)},r.used=r.usedByVertexSahder||r.usedByFragmentShader,e[s]=r;return{blockSpecs:e,uniformData:u}}function rt(n,i,r,u){var c=r.blockSpecs,l=r.uniformData,e=c[u],f,o;if(!e)return ki("no uniform block object named:",u),{name:u,uniforms:{}};var s=new ArrayBuffer(e.size),h=n.createBuffer(),a=e.index;return n.bindBuffer(n.UNIFORM_BUFFER,h),n.uniformBlockBinding(i,e.index,a),f=u+".",v.test(f)&&(f=f.replace(v,".")),o={},e.uniformIndices.forEach(function(n){var i=l[n],u=t[i.type],e=u.Type,h=i.size*u.size,r=i.name;r.substr(0,f.length)===f&&(r=r.substr(f.length));o[r]=new e(s,i.offset,h/e.BYTES_PER_ELEMENT)}),{name:u,array:s,asFloat:new Float32Array(s),buffer:h,uniforms:o}}function vi(n,t,i){return rt(n,t.program,t.uniformBlockSpec,i)}function ut(n,t,i){var f=t.uniformBlockSpec||t,r=f.blockSpecs[i.name],u;return r?(u=r.index,n.bindBufferRange(n.UNIFORM_BUFFER,u,i.buffer,i.offset||0,i.array.byteLength),!0):!1}function yi(n,t,i){ut(n,t,i)&&n.bufferData(n.UNIFORM_BUFFER,i.array,n.DYNAMIC_DRAW)}function pi(n,t){var f=n.uniforms,u,i,r;for(u in t)i=f[u],i&&(r=t[u],r.length?i.set(r):i[0]=r)}function ft(n){for(var t,e,i,r,u,o=n.uniformSetters||n,s=arguments.length,f=1;f<s;++f)if(t=arguments[f],Array.isArray(t))for(e=t.length,i=0;i<e;++i)ft(o,t[i]);else for(r in t)u=o[r],u&&u(t[r])}function et(n,i){function h(t){return function(i){n.bindBuffer(n.ARRAY_BUFFER,i.buffer);n.enableVertexAttribArray(t);n.vertexAttribPointer(t,i.numComponents||i.size,i.type||n.FLOAT,i.normalize||!1,i.stride||0,i.offset||0)}}function c(i,r){var f=r.size,u=r.count;return function(r){var e;n.bindBuffer(n.ARRAY_BUFFER,r.buffer);var o=r.size||r.numComponents||f,c=o/u,s=r.type||n.FLOAT,l=t[s],h=l.size*o,a=r.normalize||!1,v=r.offset||0,y=h/u;for(e=0;e<u;++e)n.enableVertexAttribArray(i+e),n.vertexAttribPointer(i+e,c,s,a,h,v+y*e)}}for(var r,f,e,s={},l=n.getProgramParameter(i,n.ACTIVE_ATTRIBUTES),o=0;o<l;++o){if(r=n.getActiveAttrib(i,o),!r)break;f=n.getAttribLocation(i,r.name);e=u[r.type];s[r.name]=e?c(f,e):h(f)}return s}function ot(n,t){var i,r;for(i in t)r=n[i],r&&r(t[i])}function wi(n,t,i){i.vertexArrayObject?n.bindVertexArray(i.vertexArrayObject):(ot(t.attribSetters||t,i.attribs),i.indices&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,i.indices))}function st(t,i){var u=tt(t,i),f=et(t,i),r={program:i,uniformSetters:u,attribSetters:f};return n.isWebGL2(t)&&(r.uniformBlockSpec=it(t,i)),r}function bi(n,t,i,r,u){var o,f,e;return(typeof r=="function"&&(u=r,r=undefined),typeof i=="function"&&(u=i,i=undefined),o=u||h,f=!0,t=t.map(function(n){if(n.indexOf("\n")<0){var t=document.getElementById(n);t?n=t.text:(o("no element with id: "+n),f=!1)}return n}),!f)?null:(e=nt(n,t,i,r,u),!e)?null:st(n,e)}var h=n.error,ki=n.warn,ht=35674,ct=35675,lt=35676,f=3553,e=34067,c=32879,o=35866,t={},u,di,l,a,v;return t[5126]={Type:Float32Array,size:4,setter:at,arraySetter:vt},t[35664]={Type:Float32Array,size:8,setter:yt},t[35665]={Type:Float32Array,size:12,setter:pt},t[35666]={Type:Float32Array,size:16,setter:wt},t[5124]={Type:Int32Array,size:4,setter:p,arraySetter:w},t[35667]={Type:Int32Array,size:8,setter:b},t[35668]={Type:Int32Array,size:12,setter:k},t[35669]={Type:Int32Array,size:16,setter:d},t[5125]={Type:Uint32Array,size:4,setter:bt,arraySetter:kt},t[36294]={Type:Uint32Array,size:8,setter:dt},t[36295]={Type:Uint32Array,size:12,setter:gt},t[36296]={Type:Uint32Array,size:16,setter:ni},t[35670]={Type:Uint32Array,size:4,setter:p,arraySetter:w},t[35671]={Type:Uint32Array,size:8,setter:b},t[35672]={Type:Uint32Array,size:12,setter:k},t[35673]={Type:Uint32Array,size:16,setter:d},t[ht]={Type:Float32Array,size:16,setter:ti},t[ct]={Type:Float32Array,size:36,setter:ii},t[lt]={Type:Float32Array,size:64,setter:ri},t[35685]={Type:Float32Array,size:24,setter:ui},t[35686]={Type:Float32Array,size:32,setter:ei},t[35687]={Type:Float32Array,size:24,setter:fi},t[35688]={Type:Float32Array,size:48,setter:si},t[35689]={Type:Float32Array,size:32,setter:oi},t[35690]={Type:Float32Array,size:48,setter:hi},t[35678]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:f},t[35680]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:e},t[35679]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:c},t[35682]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:f},t[36289]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:o},t[36292]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:o},t[36293]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:e},t[36298]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:f},t[36299]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:c},t[36300]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:e},t[36303]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:o},t[36306]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:f},t[36307]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:c},t[36308]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:e},t[36311]={Type:null,size:0,setter:i,arraySetter:r,bindPoint:o},u={},u[ht]={size:4,count:2},u[ct]={size:9,count:3},u[lt]={size:16,count:4},di=undefined,l=/^[ \t]*\n/,a=["VERTEX_SHADER","FRAGMENT_SHADER",],v=/\[\d+\]\.$/,{createAttributeSetters:et,createProgram:s,createProgramFromScripts:ai,createProgramFromSources:nt,createProgramInfo:bi,createProgramInfoFromProgram:st,createUniformSetters:tt,createUniformBlockSpecFromProgram:it,createUniformBlockInfoFromProgram:rt,createUniformBlockInfo:vi,setAttributes:ot,setBuffersAndAttributes:wi,setUniforms:ft,setUniformBlock:yi,setBlockUniforms:pi,bindUniformBlock:ut}}),n("twgl/draw",["./programs",],function(n){function t(n,t,i,r,u){i=i===undefined?n.TRIANGLES:i;var o=t.indices,f=t.elementType,e=r===undefined?t.numElements:r;u=u===undefined?0:u;f||o?n.drawElements(i,e,f===undefined?n.UNSIGNED_SHORT:t.elementType,u):n.drawArrays(i,u,e)}function i(i,r){var f=null,u=null;r.forEach(function(r){if(r.active!==!1){var e=r.programInfo,o=r.vertexArrayInfo||r.bufferInfo,s=!1,h=r.type===undefined?i.TRIANGLES:r.type;e!==f&&(f=e,i.useProgram(e.program),s=!0);(s||o!==u)&&(u&&u.vertexArrayObject&&!o.vertexArrayObject&&i.bindVertexArray(null),u=o,n.setBuffersAndAttributes(i,e,o));n.setUniforms(e,r.uniforms);t(i,o,h,r.count,r.offset)}});u.vertexArrayObject&&i.bindVertexArray(null)}return{drawBufferInfo:t,drawObjectList:i}}),n("twgl/textures",["./typedarrays","./utils",],function(n,t){function v(n){i.textureColor=new Uint8Array([n[0]*255,n[1]*255,n[2]*255,n[3]*255])}function rt(n){t.copyExistingProperties(n,i);n.textureColor&&v(n.textureColor)}function e(n,t){t.colorspaceConversion!==undefined&&(u.colorspaceConversion=n.getParameter(n.UNPACK_COLORSPACE_CONVERSION_WEBGL),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.colorspaceConversion));t.premultiplyAlpha!==undefined&&(u.premultiplyAlpha=n.getParameter(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha));t.flipY!==undefined&&(u.flipY=n.getParameter(n.UNPACK_FLIP_Y_WEBGL),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,t.flipY))}function o(n,t){t.colorspaceConversion!==undefined&&n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,u.colorspaceConversion);t.premultiplyAlpha!==undefined&&n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u.premultiplyAlpha);t.flipY!==undefined&&n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,u.flipY)}function h(n,t,i){var r=i.target||n.TEXTURE_2D;n.bindTexture(r,t);i.min&&n.texParameteri(r,n.TEXTURE_MIN_FILTER,i.min);i.mag&&n.texParameteri(r,n.TEXTURE_MAG_FILTER,i.mag);i.wrap&&(n.texParameteri(r,n.TEXTURE_WRAP_S,i.wrap),n.texParameteri(r,n.TEXTURE_WRAP_T,i.wrap),r===n.TEXTURE_3D&&n.texParameteri(r,n.TEXTURE_WRAP_R,i.wrap));i.wrapR&&n.texParameteri(r,n.TEXTURE_WRAP_R,i.wrapR);i.wrapS&&n.texParameteri(r,n.TEXTURE_WRAP_S,i.wrapS);i.wrapT&&n.texParameteri(r,n.TEXTURE_WRAP_T,i.wrapT);i.minLod&&n.texParameteri(r,n.TEXTURE_MIN_LOD,i.minLod);i.maxLod&&n.texParameteri(r,n.TEXTURE_MAX_LOD,i.maxLod);i.baseLevel&&n.texParameteri(r,n.TEXTURE_BASE_LEVEL,i.baseLevel);i.maxLevel&&n.texParameteri(r,n.TEXTURE_MAX_LEVEL,i.maxLevel)}function ut(n){return(n=n||i.textureColor,r(n))?n:new Uint8Array([n[0]*255,n[1]*255,n[2]*255,n[3]*255])}function y(n){return(n&n-1)==0}function c(n,t,r,u,f){r=r||i.textureOptions;var e=r.target||n.TEXTURE_2D;u=u||r.width;f=f||r.height;n.bindTexture(e,t);y(u)&&y(f)?n.generateMipmap(e):(n.texParameteri(e,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(e,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(e,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE))}function l(n,t){return t=t||{},t.cubeFaceOrder||[n.TEXTURE_CUBE_MAP_POSITIVE_X,n.TEXTURE_CUBE_MAP_NEGATIVE_X,n.TEXTURE_CUBE_MAP_POSITIVE_Y,n.TEXTURE_CUBE_MAP_NEGATIVE_Y,n.TEXTURE_CUBE_MAP_POSITIVE_Z,n.TEXTURE_CUBE_MAP_NEGATIVE_Z,]}function p(n,t){var r=l(n,t),i=r.map(function(n,t){return{face:n,ndx:t}});return i.sort(function(n,t){return n.face-t.face}),i}function f(){}function w(n,r,u){function o(){e.removeEventListener("error",s);e.removeEventListener("load",h);e=null}function s(){var i="couldn't load image: "+n;t.error(i);u(i,e);o()}function h(){u(null,e);o()}u=u||f;var e=new Image;return r=r!==undefined?r:i.crossOrigin,r!==undefined&&(e.crossOrigin=r),e.addEventListener("error",s),e.addEventListener("load",h),e.src=n,e}function b(n,t,r){var u,f,e;if(r=r||i.textureOptions,u=r.target||n.TEXTURE_2D,n.bindTexture(u,t),r.color!==!1)if(f=ut(r.color),u===n.TEXTURE_CUBE_MAP)for(e=0;e<6;++e)n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,f);else u===n.TEXTURE_3D?n.texImage3D(u,0,n.RGBA,1,1,1,0,n.RGBA,n.UNSIGNED_BYTE,f):n.texImage2D(u,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,f)}function k(n,r,u,e){return e=e||f,u=u||i.textureOptions,b(n,r,u),u=t.shallowCopy(u),w(u.src,u.crossOrigin,function(t,i){t?e(t,r,i):(a(n,r,i,u),e(null,r,i))})}function ft(n,i,r,u){function k(t){return function(f,c){--v;f?h.push(f):c.width!==c.height?h.push("cubemap face img is not a square: "+c.src):(e(n,r),n.bindTexture(a,i),v===5?l(n).forEach(function(t){n.texImage2D(t,0,s,s,y,c)}):n.texImage2D(t,0,s,s,y,c),o(n,r),n.generateMipmap(a));v===0&&u(h.length?h:undefined,p,i)}}var c;if(u=u||f,c=r.src,c.length!==6)throw"there must be 6 urls for a cubemap";var s=r.format||n.RGBA,y=r.type||n.UNSIGNED_BYTE,a=r.target||n.TEXTURE_2D;if(a!==n.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";b(n,i,r);r=t.shallowCopy(r);var v=6,h=[],p,d=l(n,r);p=c.map(function(n,t){return w(n,r.crossOrigin,k(d[t]))})}function d(n){switch(n){case ht:case at:return 1;case vt:return 2;case ct:return 3;case lt:return 4;default:throw"unknown type: "+n;}}function g(t,i){return r(i)?n.getGLTypeForTypedArray(i):t.UNSIGNED_BYTE}function s(n,t,i,r,u){if(u%1!=0)throw"can't guess dimensions";if(i||r){if(r){if(!i&&(i=u/r,i%1))throw"can't guess dimensions";}else if(r=u/i,r%1)throw"can't guess dimensions";}else{var f=Math.sqrt(u/(t===n.TEXTURE_CUBE_MAP?6:1));f%1==0?(i=f,r=f):(i=u,r=1)}return{width:i,height:r}}function nt(t,u,f,h){var v,a,k,rt,tt;h=h||i.textureOptions;v=h.target||t.TEXTURE_2D;t.bindTexture(v,u);var c=h.width,l=h.height,y=h.depth,b=h.format||t.RGBA,it=h.internalFormat||b,nt=h.type||g(t,f),ut=d(b),w=f.length/ut;if(w%1)throw"length wrong size for format: "+yt(t,b);if(v===t.TEXTURE_3D)if(c||l||y)!c||l&&y?!l||c&&y?(a=s(t,v,c,l,w/y),c=a.width,l=a.height):(a=s(t,v,c,y,w/l),c=a.width,y=a.height):(a=s(t,v,l,y,w/c),l=a.width,y=a.height);else{if(k=Math.cbrt(w),k%1!=0)throw"can't guess cube size of array of numElements: "+w;c=k;l=k;y=k}else a=s(t,v,c,l,w),c=a.width,l=a.height;return r(f)?f instanceof Uint8ClampedArray&&(f=new Uint8Array(f.buffer)):(rt=n.getTypedArrayTypeForGLType(nt),f=new rt(f)),t.pixelStorei(t.UNPACK_ALIGNMENT,h.unpackAlignment||1),e(t,h),v===t.TEXTURE_CUBE_MAP?(tt=w/6*ut,p(t,h).forEach(function(n){var i=tt*n.ndx,r=f.subarray(i,i+tt);t.texImage2D(n.face,0,it,c,l,0,b,nt,r)})):v===t.TEXTURE_3D?t.texImage3D(v,0,it,c,l,y,0,b,nt,f):t.texImage2D(v,0,it,c,l,0,b,nt,f),o(t,h),{width:c,height:l,depth:y}}function tt(n,t,i){var r=i.target||n.TEXTURE_2D,u;n.bindTexture(r,t);var f=i.format||n.RGBA,s=i.internalFormat||f,h=i.type||n.UNSIGNED_BYTE;if(e(n,i),r===n.TEXTURE_CUBE_MAP)for(u=0;u<6;++u)n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+u,0,s,i.width,i.height,0,f,h,null);else r===n.TEXTURE_3D?n.texImage3D(r,0,s,i.width,i.height,i.depth,0,f,h,null):n.texImage2D(r,0,s,i.width,i.height,0,f,h,null);o(n,i)}function it(n,t,u){var e,l;u=u||f;t=t||i.textureOptions;var o=n.createTexture(),s=t.target||n.TEXTURE_2D,v=t.width||1,y=t.height||1;if(n.bindTexture(s,o),s===n.TEXTURE_CUBE_MAP&&(n.texParameteri(s,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(s,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)),e=t.src,e)if(typeof e=="function"&&(e=e(n,t)),typeof e=="string")k(n,o,t,u);else if(r(e)||Array.isArray(e)&&(typeof e[0]=="number"||Array.isArray(e[0])||r(e[0])))l=nt(n,o,e,t),v=l.width,y=l.height;else if(Array.isArray(e)&&typeof e[0]=="string")ft(n,o,t,u);else if(e instanceof HTMLElement)a(n,o,e,t),v=e.width,y=e.height;else throw"unsupported src type";else tt(n,o,t);return t.auto!==!1&&c(n,o,t,v,y),h(n,o,t),o}function et(n,t,i,u,f){var s,o,c,e,h;if(u=u||i.width,f=f||i.height,s=i.target||n.TEXTURE_2D,n.bindTexture(s,t),o=i.format||n.RGBA,e=i.src,c=e?r(e)||Array.isArray(e)&&typeof e[0]=="number"?i.type||g(n,e):i.type||n.UNSIGNED_BYTE:i.type||n.UNSIGNED_BYTE,s===n.TEXTURE_CUBE_MAP)for(h=0;h<6;++h)n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+h,0,o,u,f,0,o,c,null);else n.texImage2D(s,0,o,u,f,0,o,c,null)}function ot(n){return typeof n=="string"||Array.isArray(n)&&typeof n[0]=="string"}function st(n,t,i){function o(){r===0&&setTimeout(function(){i(u.length?u:undefined,e,s)},0)}i=i||f;var r=0,u=[],e={},s={};return Object.keys(t).forEach(function(i){var f=t[i],h;ot(f.src)&&(h=function(n,t,f){s[i]=f;--r;n&&u.push(n);o()},++r);e[i]=it(n,f,h)}),o(),e}var pt=undefined,i={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:undefined},r=n.isArrayBuffer,ht=6406,ct=6407,lt=6408,at=6409,vt=6410,yt=function(){function t(t){n||(n={},Object.keys(t).forEach(function(i){typeof t[i]=="number"&&(n[t[i]]=i)}))}var n;return function(i,r){return t(),n[r]||"0x"+r.toString(16)}}(),u={},a=function(){var n=document.createElement("canvas").getContext("2d");return function(t,r,u,f){var a,v,s,y,tt,it,w;f=f||i.textureOptions;var b=f.target||t.TEXTURE_2D,rt=u.width,ut=u.height,k=f.format||t.RGBA,g=f.internalFormat||k,d=f.type||t.UNSIGNED_BYTE;if(e(t,f),t.bindTexture(b,r),b===t.TEXTURE_CUBE_MAP){if(a=u.width,v=u.height,a/6===v)s=v,y=[0,0,1,0,2,0,3,0,4,0,5,0];else if(v/6===a)s=a,y=[0,0,0,1,0,2,0,3,0,4,0,5];else if(a/3==v/2)s=a/3,y=[0,0,1,0,2,0,0,1,1,1,2,1];else if(a/2==v/3)s=a/2,y=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(u.src?u.src:u.nodeName);n.canvas.width=s;n.canvas.height=s;rt=s;ut=s;p(t,f).forEach(function(i){var r=y[i.ndx*2+0]*s,f=y[i.ndx*2+1]*s;n.drawImage(u,r,f,s,s,0,0,s,s);t.texImage2D(i.face,0,g,k,d,n.canvas)});n.canvas.width=1;n.canvas.height=1}else if(b===t.TEXTURE_3D){var l=Math.min(u.width,u.height),nt=Math.max(u.width,u.height),ft=nt/l;if(ft%1!=0)throw"can not compute 3D dimensions of element";for(tt=u.width===nt?1:0,it=u.height===nt?1:0,t.texImage3D(b,0,g,l,l,l,0,k,d,null),n.canvas.width=l,n.canvas.height=l,w=0;w<ft;++w){var et=w*l*tt,ot=w*l*it,st=l,ht=l,ct=l,lt=l;n.drawImage(u,et,ot,st,ht,0,0,ct,lt);t.texSubImage3D(b,0,0,0,w,k,d,n.canvas)}n.canvas.width=0;n.canvas.height=0}else t.texImage2D(b,0,g,k,d,u);o(t,f);f.auto!==!1&&c(t,r,f,rt,ut);h(t,r,f)}}();return{setDefaults_:rt,createTexture:it,setEmptyTexture:tt,setTextureFromArray:nt,loadTextureFromUrl:k,setTextureFromElement:a,setTextureFilteringForSize:c,setTextureParameters:h,setDefaultTextureColor:v,createTextures:st,resizeTexture:et,getNumComponentsForFormat:d}}),n("twgl/framebuffers",["./textures","./utils",],function(n,t){function l(n){return r[n]}function a(n){return i[n]}function v(i,r,u,f){var e=i.FRAMEBUFFER,s=i.createFramebuffer(),h,o;return i.bindFramebuffer(e,s),u=u||i.drawingBufferWidth,f=f||i.drawingBufferHeight,r=r||c,h=0,o={framebuffer:s,attachments:[],width:u,height:f},r.forEach(function(r){var c=r.attachment,y=r.format,v=l(y),s;if(v||(v=w+h++),c||(a(y)?(c=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,c),i.renderbufferStorage(i.RENDERBUFFER,y,u,f)):(s=t.shallowCopy(r),s.width=u,s.height=f,s.auto===undefined&&(s.auto=!1,s.min=s.min||i.LINEAR,s.mag=s.mag||i.LINEAR,s.wrapS=s.wrapS||s.wrap||i.CLAMP_TO_EDGE,s.wrapT=s.wrapT||s.wrap||i.CLAMP_TO_EDGE),c=n.createTexture(i,s))),c instanceof WebGLRenderbuffer)i.framebufferRenderbuffer(e,v,i.RENDERBUFFER,c);else if(c instanceof WebGLTexture)i.framebufferTexture2D(e,v,r.texTarget||i.TEXTURE_2D,c,r.level||0);else throw"unknown attachment type";o.attachments.push(c)}),o}function y(t,i,r,u,f){u=u||t.drawingBufferWidth;f=f||t.drawingBufferHeight;i.width=u;i.height=f;r=r||c;r.forEach(function(r,e){var o=i.attachments[e],s=r.format;if(o instanceof WebGLRenderbuffer)t.bindRenderbuffer(t.RENDERBUFFER,o),t.renderbufferStorage(t.RENDERBUFFER,s,u,f);else if(o instanceof WebGLTexture)n.resizeTexture(t,o,r,u,f);else throw"unknown attachment type";})}function p(n,t,i){i=i||n.FRAMEBUFFER;t?(n.bindFramebuffer(i,t.framebuffer),n.viewport(0,0,t.width,t.height)):(n.bindFramebuffer(i,null),n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight))}var b=undefined,f=33189,e=6401,o=36168,u=34041,w=36064,s=36096,h=36128,c=[{format:6408,type:5121,min:9729,wrap:33071},{format:u},],r={},i;return r[u]=33306,r[e]=h,r[o]=h,r[6402]=s,r[f]=s,i={},i[32854]=!0,i[32855]=!0,i[36194]=!0,i[u]=!0,i[f]=!0,i[e]=!0,i[o]=!0,{bindFramebufferInfo:p,createFramebufferInfo:v,resizeFramebufferInfo:y}}),n("twgl/twgl",["./attributes","./draw","./framebuffers","./programs","./textures","./typedarrays","./utils",],function(n,t,i,r,u,f,e){function a(t){e.copyExistingProperties(t,c);n.setDefaults_(t);u.setDefaults_(t)}function s(n){if(n&&c.enableVertexArrayObjects&&e.isWebGL1(n)){var t=n.getExtension("OES_vertex_array_object");t&&(n.createVertexArray=function(){return t.createVertexArrayOES()},n.deleteVertexArray=function(n){t.deleteVertexArrayOES(n)},n.isVertexArray=function(n){return t.isVertexArrayOES(n)},n.bindVertexArray=function(n){t.bindVertexArrayOES(n)},n.VERTEX_ARRAY_BINDING=t.VERTEX_ARRAY_BINDING_OES)}}function v(n,t){for(var u=["webgl","experimental-webgl"],i=null,r=0;r<u.length;++r){try{i=n.getContext(u[r],t)}catch(f){}if(i)break}return i}function y(n,t){var i=v(n,t);return s(i),i}function p(n,t){for(var u=["webgl2","experimental-webgl2","webgl","experimental-webgl"],i=null,r=0;r<u.length;++r){try{i=n.getContext(u[r],t)}catch(f){}if(i)break}return i}function w(n,t){var i=p(n,t);return s(i),i}function b(n,t){t=t||1;t=Math.max(1,t);var i=n.clientWidth*t|0,r=n.clientHeight*t|0;return n.width!==i||n.height!==r?(n.width=i,n.height=r,!0):!1}function k(n){return n[n.length-1]!=="_"}function h(n,t){return Object.keys(n).filter(k).forEach(function(i){t[i]=n[i]}),t}var d=undefined,c={enableVertexArrayObjects:!0},o={getContext:w,getWebGLContext:y,isWebGL1:e.isWebGL1,isWebGL2:e.isWebGL2,resizeCanvasToDisplaySize:b,setDefaults:a},l={attributes:n,draw:t,framebuffers:i,programs:r,textures:u,typedArrays:f};return Object.keys(l).forEach(function(n){var t=l[n];h(t,o);o[n]=h(t,{})}),o}),n("twgl/v3",[],function(){function t(t){var i=n;return n=t,i}function i(t,i,r){var u=new n(3);return t&&(u[0]=t),i&&(u[1]=i),r&&(u[2]=r),u}function r(t,i,r){return r=r||new n(3),r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r}function u(t,i,r){return r=r||new n(3),r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r}function f(t,i,r,u){return u=u||new n(3),u[0]=(1-r)*t[0]+r*i[0],u[1]=(1-r)*t[1]+r*i[1],u[2]=(1-r)*t[2]+r*i[2],u}function e(t,i,r){return r=r||new n(3),r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r}function o(t,i,r){return r=r||new n(3),r[0]=t[0]/i,r[1]=t[1]/i,r[2]=t[2]/i,r}function s(t,i,r){return r=r||new n(3),r[0]=t[1]*i[2]-t[2]*i[1],r[1]=t[2]*i[0]-t[0]*i[2],r[2]=t[0]*i[1]-t[1]*i[0],r}function h(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function c(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2])}function l(n){return n[0]*n[0]+n[1]*n[1]+n[2]*n[2]}function a(t,i){i=i||new n(3);var u=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=Math.sqrt(u);return r>1e-5?(i[0]=t[0]/r,i[1]=t[1]/r,i[2]=t[2]/r):(i[0]=0,i[1]=0,i[2]=0),i}function v(t,i){return i=i||new n(3),i[0]=-t[0],i[1]=-t[1],i[2]=-t[2],i}function y(t,i){return i=i||new n(3),i[0]=t[0],i[1]=t[1],i[2]=t[2],i}function p(t,i,r){return r=r||new n(3),r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r}function w(t,i,r){return r=r||new n(3),r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r}var n=Float32Array;return{add:r,copy:y,create:i,cross:s,divide:w,divScalar:o,dot:h,lerp:f,length:c,lengthSq:l,mulScalar:e,multiply:p,negate:v,normalize:a,setDefaultType:t,subtract:u}}),n("twgl/m4",["./v3"],function(n){function e(n){var i=t;return t=n,i}function o(n,i){return i=i||new t(16),i[0]=-n[0],i[1]=-n[1],i[2]=-n[2],i[3]=-n[3],i[4]=-n[4],i[5]=-n[5],i[6]=-n[6],i[7]=-n[7],i[8]=-n[8],i[9]=-n[9],i[10]=-n[10],i[11]=-n[11],i[12]=-n[12],i[13]=-n[13],i[14]=-n[14],i[15]=-n[15],i}function r(n,i){return i=i||new t(16),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],i[9]=n[9],i[10]=n[10],i[11]=n[11],i[12]=n[12],i[13]=n[13],i[14]=n[14],i[15]=n[15],i}function i(n){return n=n||new t(16),n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function s(n,i){var r;if(i=i||new t(16),i===n)return r=n[1],n[1]=n[4],n[4]=r,r=n[2],n[2]=n[8],n[8]=r,r=n[3],n[3]=n[12],n[12]=r,r=n[6],n[6]=n[9],n[9]=r,r=n[7],n[7]=n[13],n[13]=r,r=n[11],n[11]=n[14],n[14]=r,i;var u=n[0],f=n[1],e=n[2],o=n[3],s=n[4],h=n[5],c=n[6],l=n[7],a=n[8],v=n[9],y=n[10],p=n[11],w=n[12],b=n[13],k=n[14],d=n[15];return i[0]=u,i[1]=s,i[2]=a,i[3]=w,i[4]=f,i[5]=h,i[6]=v,i[7]=b,i[8]=e,i[9]=c,i[10]=y,i[11]=k,i[12]=o,i[13]=l,i[14]=p,i[15]=d,i}function u(n,i){i=i||new t(16);var u=n[0],s=n[1],h=n[2],c=n[3],f=n[4],l=n[5],a=n[6],v=n[7],e=n[8],y=n[9],p=n[10],w=n[11],o=n[12],b=n[13],k=n[14],d=n[15],g=p*d,nt=k*w,tt=a*d,it=k*v,rt=a*w,ut=p*v,ft=h*d,et=k*c,ot=h*w,st=p*c,ht=h*v,ct=a*c,lt=e*b,at=o*y,vt=f*b,yt=o*l,pt=f*y,wt=e*l,bt=u*b,kt=o*s,dt=u*y,gt=e*s,ni=u*l,ti=f*s,ii=g*l+it*y+rt*b-(nt*l+tt*y+ut*b),ri=nt*s+ft*y+st*b-(g*s+et*y+ot*b),ui=tt*s+et*l+ht*b-(it*s+ft*l+ct*b),fi=ut*s+ot*l+ct*y-(rt*s+st*l+ht*y),r=1/(u*ii+f*ri+e*ui+o*fi);return i[0]=r*ii,i[1]=r*ri,i[2]=r*ui,i[3]=r*fi,i[4]=r*(nt*f+tt*e+ut*o-(g*f+it*e+rt*o)),i[5]=r*(g*u+et*e+ot*o-(nt*u+ft*e+st*o)),i[6]=r*(it*u+ft*f+ct*o-(tt*u+et*f+ht*o)),i[7]=r*(rt*u+st*f+ht*e-(ut*u+ot*f+ct*e)),i[8]=r*(lt*v+yt*w+pt*d-(at*v+vt*w+wt*d)),i[9]=r*(at*c+bt*w+gt*d-(lt*c+kt*w+dt*d)),i[10]=r*(vt*c+kt*v+ni*d-(yt*c+bt*v+ti*d)),i[11]=r*(wt*c+dt*v+ti*w-(pt*c+gt*v+ni*w)),i[12]=r*(vt*p+wt*k+at*a-(pt*k+lt*a+yt*p)),i[13]=r*(dt*k+lt*h+kt*p-(bt*p+gt*k+at*h)),i[14]=r*(bt*a+ti*k+yt*h-(ni*k+vt*h+kt*a)),i[15]=r*(ni*p+pt*h+gt*a-(dt*a+ti*p+wt*h)),i}function h(n,i,r){r=r||new t(16);var u=n[0],f=n[1],e=n[2],o=n[3],s=n[4],h=n[5],c=n[6],l=n[7],a=n[8],v=n[9],y=n[10],p=n[11],w=n[12],b=n[13],k=n[14],d=n[15],g=i[0],nt=i[1],tt=i[2],it=i[3],rt=i[4],ut=i[5],ft=i[6],et=i[7],ot=i[8],st=i[9],ht=i[10],ct=i[11],lt=i[12],at=i[13],vt=i[14],yt=i[15];return r[0]=u*g+s*nt+a*tt+w*it,r[1]=f*g+h*nt+v*tt+b*it,r[2]=e*g+c*nt+y*tt+k*it,r[3]=o*g+l*nt+p*tt+d*it,r[4]=u*rt+s*ut+a*ft+w*et,r[5]=f*rt+h*ut+v*ft+b*et,r[6]=e*rt+c*ut+y*ft+k*et,r[7]=o*rt+l*ut+p*ft+d*et,r[8]=u*ot+s*st+a*ht+w*ct,r[9]=f*ot+h*st+v*ht+b*ct,r[10]=e*ot+c*st+y*ht+k*ct,r[11]=o*ot+l*st+p*ht+d*ct,r[12]=u*lt+s*at+a*vt+w*yt,r[13]=f*lt+h*at+v*vt+b*yt,r[14]=e*lt+c*at+y*vt+k*yt,r[15]=o*lt+l*at+p*vt+d*yt,r}function c(n,t,r){return r=r||i(),n!==r&&(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11]),r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r}function l(t,i){return i=i||n.create(),i[0]=t[12],i[1]=t[13],i[2]=t[14],i}function a(t,i,r){r=r||n.create();var u=i*4;return r[0]=t[u+0],r[1]=t[u+1],r[2]=t[u+2],r}function v(n,t,i,u){u!==n&&(u=r(n,u));var f=i*4;return u[f+0]=t[0],u[f+1]=t[1],u[f+2]=t[2],u}function y(n,i,r,u,f){f=f||new t(16);var e=Math.tan(Math.PI*.5-.5*n),o=1/(r-u);return f[0]=e/i,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=e,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=(r+u)*o,f[11]=-1,f[12]=0,f[13]=0,f[14]=r*u*o*2,f[15]=0,f}function p(n,i,r,u,f,e,o){return o=o||new t(16),o[0]=2/(i-n),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/(u-r),o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=-1/(e-f),o[11]=0,o[12]=(i+n)/(n-i),o[13]=(u+r)/(r-u),o[14]=-f/(f-e),o[15]=1,o}function w(n,i,r,u,f,e,o){o=o||new t(16);var s=i-n,h=u-r,c=f-e;return o[0]=2*f/s,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*f/h,o[6]=0,o[7]=0,o[8]=(n+i)/s,o[9]=(u+r)/h,o[10]=e/c,o[11]=-1,o[12]=0,o[13]=0,o[14]=f*e/c,o[15]=0,o}function b(i,r,u,f){f=f||new t(16);var o=lt,s=at,e=vt;return n.normalize(n.subtract(i,r,e),e),n.normalize(n.cross(u,e,o),o),n.normalize(n.cross(e,o,s),s),f[0]=o[0],f[1]=o[1],f[2]=o[2],f[3]=0,f[4]=s[0],f[5]=s[1],f[6]=s[2],f[7]=0,f[8]=e[0],f[9]=e[1],f[10]=e[2],f[11]=0,f[12]=i[0],f[13]=i[1],f[14]=i[2],f[15]=1,f}function k(n,i){return i=i||new t(16),i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=n[0],i[13]=n[1],i[14]=n[2],i[15]=1,i}function d(n,i,r){r=r||new t(16);var u=i[0],f=i[1],e=i[2],o=n[0],s=n[1],h=n[2],c=n[3],l=n[4],a=n[5],v=n[6],y=n[7],p=n[8],w=n[9],b=n[10],k=n[11],d=n[12],g=n[13],nt=n[14],tt=n[15];return n!==r&&(r[0]=o,r[1]=s,r[2]=h,r[3]=c,r[4]=l,r[5]=a,r[6]=v,r[7]=y,r[8]=p,r[9]=w,r[10]=b,r[11]=k),r[12]=o*u+l*f+p*e+d,r[13]=s*u+a*f+w*e+g,r[14]=h*u+v*f+b*e+nt,r[15]=c*u+y*f+k*e+tt,r}function g(n,i){i=i||new t(16);var r=Math.cos(n),u=Math.sin(n);return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=r,i[6]=u,i[7]=0,i[8]=0,i[9]=-u,i[10]=r,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function nt(n,i,r){r=r||new t(16);var e=n[4],o=n[5],s=n[6],h=n[7],c=n[8],l=n[9],a=n[10],v=n[11],u=Math.cos(i),f=Math.sin(i);return r[4]=u*e+f*c,r[5]=u*o+f*l,r[6]=u*s+f*a,r[7]=u*h+f*v,r[8]=u*c-f*e,r[9]=u*l-f*o,r[10]=u*a-f*s,r[11]=u*v-f*h,n!==r&&(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r}function tt(n,i){i=i||new t(16);var r=Math.cos(n),u=Math.sin(n);return i[0]=r,i[1]=0,i[2]=-u,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=u,i[9]=0,i[10]=r,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function it(n,i,r){r=r||new t(16);var e=n[0],o=n[1],s=n[2],h=n[3],c=n[8],l=n[9],a=n[10],v=n[11],u=Math.cos(i),f=Math.sin(i);return r[0]=u*e-f*c,r[1]=u*o-f*l,r[2]=u*s-f*a,r[3]=u*h-f*v,r[8]=u*c+f*e,r[9]=u*l+f*o,r[10]=u*a+f*s,r[11]=u*v+f*h,n!==r&&(r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r}function rt(n,i){i=i||new t(16);var r=Math.cos(n),u=Math.sin(n);return i[0]=r,i[1]=u,i[2]=0,i[3]=0,i[4]=-u,i[5]=r,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function ut(n,i,r){r=r||new t(16);var e=n[0],o=n[1],s=n[2],h=n[3],c=n[4],l=n[5],a=n[6],v=n[7],u=Math.cos(i),f=Math.sin(i);return r[0]=u*e+f*c,r[1]=u*o+f*l,r[2]=u*s+f*a,r[3]=u*h+f*v,r[4]=u*c-f*e,r[5]=u*l-f*o,r[6]=u*a-f*s,r[7]=u*v-f*h,n!==r&&(r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r}function ft(n,i,r){r=r||new t(16);var u=n[0],f=n[1],e=n[2],c=Math.sqrt(u*u+f*f+e*e);u/=c;f/=c;e/=c;var l=u*u,a=f*f,v=e*e,h=Math.cos(i),o=Math.sin(i),s=1-h;return r[0]=l+(1-l)*h,r[1]=u*f*s+e*o,r[2]=u*e*s-f*o,r[3]=0,r[4]=u*f*s-e*o,r[5]=a+(1-a)*h,r[6]=f*e*s+u*o,r[7]=0,r[8]=u*e*s+f*o,r[9]=f*e*s-u*o,r[10]=v+(1-v)*h,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function f(n,i,r,u){u=u||new t(16);var f=i[0],e=i[1],o=i[2],g=Math.sqrt(f*f+e*e+o*o);f/=g;e/=g;o/=g;var at=f*f,vt=e*e,yt=o*o,c=Math.cos(r),s=Math.sin(r),h=1-c,l=at+(1-at)*c,a=f*e*h+o*s,v=f*o*h-e*s,y=f*e*h-o*s,p=vt+(1-vt)*c,w=e*o*h+f*s,b=f*o*h+e*s,k=e*o*h-f*s,d=yt+(1-yt)*c,nt=n[0],tt=n[1],it=n[2],rt=n[3],ut=n[4],ft=n[5],et=n[6],ot=n[7],st=n[8],ht=n[9],ct=n[10],lt=n[11];return u[0]=l*nt+a*ut+v*st,u[1]=l*tt+a*ft+v*ht,u[2]=l*it+a*et+v*ct,u[3]=l*rt+a*ot+v*lt,u[4]=y*nt+p*ut+w*st,u[5]=y*tt+p*ft+w*ht,u[6]=y*it+p*et+w*ct,u[7]=y*rt+p*ot+w*lt,u[8]=b*nt+k*ut+d*st,u[9]=b*tt+k*ft+d*ht,u[10]=b*it+k*et+d*ct,u[11]=b*rt+k*ot+d*lt,n!==u&&(u[12]=n[12],u[13]=n[13],u[14]=n[14],u[15]=n[15]),u}function et(n,i){return i=i||new t(16),i[0]=n[0],i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=n[1],i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=n[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function ot(n,i,r){r=r||new t(16);var u=i[0],f=i[1],e=i[2];return r[0]=u*n[0],r[1]=u*n[1],r[2]=u*n[2],r[3]=u*n[3],r[4]=f*n[4],r[5]=f*n[5],r[6]=f*n[6],r[7]=f*n[7],r[8]=e*n[8],r[9]=e*n[9],r[10]=e*n[10],r[11]=e*n[11],n!==r&&(r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r}function st(t,i,r){r=r||n.create();var u=i[0],f=i[1],e=i[2],o=u*t[3]+f*t[7]+e*t[11]+t[15];return r[0]=(u*t[0]+f*t[4]+e*t[8]+t[12])/o,r[1]=(u*t[1]+f*t[5]+e*t[9]+t[13])/o,r[2]=(u*t[2]+f*t[6]+e*t[10]+t[14])/o,r}function ht(t,i,r){r=r||n.create();var u=i[0],f=i[1],e=i[2];return r[0]=u*t[0]+f*t[4]+e*t[8],r[1]=u*t[1]+f*t[5]+e*t[9],r[2]=u*t[2]+f*t[6]+e*t[10],r}function ct(t,i,r){r=r||n.create();var f=u(t),e=i[0],o=i[1],s=i[2];return r[0]=e*f[0]+o*f[1]+s*f[2],r[1]=e*f[4]+o*f[5]+s*f[6],r[2]=e*f[8]+o*f[9]+s*f[10],r}var t=Float32Array,lt=n.create(),at=n.create(),vt=n.create();return{axisRotate:f,axisRotation:ft,create:i,copy:r,frustum:w,getAxis:a,getTranslation:l,identity:i,inverse:u,lookAt:b,multiply:h,negate:o,ortho:p,perspective:y,rotateX:nt,rotateY:it,rotateZ:ut,rotateAxis:f,rotationX:g,rotationY:tt,rotationZ:rt,scale:ot,scaling:et,setAxis:v,setDefaultType:e,setTranslation:c,transformDirection:ht,transformNormal:ct,transformPoint:st,translate:d,translation:k,transpose:s}}),n("twgl/primitives",["./attributes","./twgl","./utils","./m4","./v3",],function(n,t,i,r,u){function nt(n,t){var i=0;return n.push=function(){for(var t,r,u=0;u<arguments.length;++u)if(t=arguments[u],t instanceof Array||t.buffer&&t.buffer instanceof ArrayBuffer)for(r=0;r<t.length;++r)n[i++]=t[r];else n[i++]=t},n.reset=function(n){i=n||0},n.numComponents=t,Object.defineProperty(n,"numElements",{get:function(){return this.length/this.numComponents|0}}),n}function f(n,t,i){var r=i||Float32Array;return nt(new r(n*t),n)}function ot(n){return n!=="indices"}function st(n){function u(u){for(var c,l,e,o=n[u],s=o.numComponents,a=f(s,r,o.constructor),h=0;h<r;++h)for(c=t[h],l=c*s,e=0;e<s;++e)a.push(o[l+e]);i[u]=a}var t=n.indices,i={},r=t.length;return Object.keys(n).filter(ot).forEach(u),i}function ht(n){var i,o,t;if(n.indices)throw"can't flatten normals of indexed vertices. deindex them first";for(i=n.normal,o=i.length,t=0;t<o;t+=9){var s=i[t+0],h=i[t+1],c=i[t+2],l=i[t+3],a=i[t+4],v=i[t+5],y=i[t+6],p=i[t+7],w=i[t+8],r=s+l+y,u=h+a+p,f=c+v+w,e=Math.sqrt(r*r+u*u+f*f);r/=e;u/=e;f/=e;i[t+0]=r;i[t+1]=u;i[t+2]=f;i[t+3]=r;i[t+4]=u;i[t+5]=f;i[t+6]=r;i[t+7]=u;i[t+8]=f}return n}function c(n,t,i){for(var f=n.length,u=new Float32Array(3),r=0;r<f;r+=3)i(t,[n[r],n[r+1],n[r+2]],u),n[r]=u[0],n[r+1]=u[1],n[r+2]=u[2]}function ct(n,t,i){i=i||u.create();var r=t[0],f=t[1],e=t[2];return i[0]=r*n[0]+f*n[1]+e*n[2],i[1]=r*n[4]+f*n[5]+e*n[6],i[2]=r*n[8]+f*n[9]+e*n[10],i}function tt(n,t){return c(n,t,r.transformDirection),n}function it(n,t){return c(n,r.inverse(t),ct),n}function rt(n,t){return c(n,t,r.transformPoint),n}function ut(n,t){return Object.keys(n).forEach(function(i){var r=n[i];i.indexOf("pos")>=0?rt(r,t):i.indexOf("tan")>=0||i.indexOf("binorm")>=0?tt(r,t):i.indexOf("norm")>=0&&it(r,t)}),n}function l(n,t,i){return n=n||2,t=t||0,i=i||0,n*=.5,{position:{numComponents:2,data:[t+-1*n,i+-1*n,t+1*n,i+-1*n,t+-1*n,i+1*n,t+1*n,i+1*n,]},normal:[0,0,1,0,0,1,0,0,1,0,0,1,],texcoord:[0,0,1,0,0,1,1,1,],indices:[0,1,2,2,1,3]}}function a(n,t,i,u,e){var l,a,h,c,o,s;n=n||1;t=t||1;i=i||1;u=u||1;e=e||r.identity();var v=(i+1)*(u+1),y=f(3,v),p=f(3,v),w=f(2,v);for(o=0;o<=u;o++)for(s=0;s<=i;s++)l=s/i,a=o/u,y.push(n*l-n*.5,0,t*a-t*.5),p.push(0,1,0),w.push(l,a);for(h=i+1,c=f(3,i*u*2,Uint16Array),o=0;o<u;o++)for(s=0;s<i;s++)c.push((o+0)*h+s,(o+1)*h+s,(o+0)*h+s+1),c.push((o+1)*h+s,(o+1)*h+s+1,(o+0)*h+s+1);return ut({position:y,normal:p,texcoord:w,indices:c},e)}function v(n,t,i,r,u,e,o){var c,l,s,h;if(t<=0||i<=0)throw Error("subdivisionAxis and subdivisionHeight must be > 0");r=r||0;u=u||Math.PI;e=e||0;o=o||Math.PI*2;var rt=u-r,ut=o-e,a=(t+1)*(i+1),v=f(3,a),y=f(3,a),p=f(2,a);for(h=0;h<=i;h++)for(s=0;s<=t;s++){var w=s/t,b=h/i,k=ut*w,d=rt*b,ft=Math.sin(k),et=Math.cos(k),g=Math.sin(d),ot=Math.cos(d),nt=et*g,tt=ot,it=ft*g;v.push(n*nt,n*tt,n*it);y.push(nt,tt,it);p.push(1-w,b)}for(c=t+1,l=f(3,t*i*2,Uint16Array),s=0;s<t;s++)for(h=0;h<i;h++)l.push((h+0)*c+s,(h+0)*c+s+1,(h+1)*c+s),l.push((h+1)*c+s,(h+0)*c+s+1,(h+1)*c+s+1);return{position:v,normal:y,texcoord:p,indices:l}}function y(n){var r,s,u,i;n=n||1;var t=n/2,a=[[-t,-t,-t],[+t,-t,-t],[-t,+t,-t],[+t,+t,-t],[-t,-t,+t],[+t,-t,+t],[-t,+t,+t],[+t,+t,+t],],v=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1],],y=[[1,0],[0,0],[0,1],[1,1],],e=24,h=f(3,e),c=f(3,e),l=f(2,e),o=f(3,12,Uint16Array);for(r=0;r<6;++r){for(s=wt[r],u=0;u<4;++u){var p=a[s[u]],w=v[r],b=y[u];h.push(p);c.push(w);l.push(b)}i=4*r;o.push(i+0,i+1,i+2);o.push(i+0,i+2,i+3)}return{position:h,normal:c,texcoord:l,indices:o}}function h(n,t,i,r,u,e,o){var l,v,a,y,p,s,h;if(r<3)throw Error("radialSubdivisions must be 3 or greater");if(u<1)throw Error("verticalSubdivisions must be 1 or greater");var d=e===undefined?!0:e,g=o===undefined?!0:o,w=(d?2:0)+(g?2:0),b=(r+1)*(u+1+w),nt=f(3,b),tt=f(3,b),it=f(2,b),k=f(3,r*(u+w)*2,Uint16Array),c=r+1,rt=Math.atan2(n-t,i),ut=Math.cos(rt),ft=Math.sin(rt),et=d?-2:0,ot=u+(g?2:0);for(s=et;s<=ot;++s)for(l=s/u,v=i*l,s<0?(v=0,l=1,a=n):s>u?(v=i,l=1,a=t):a=n+(t-n)*(s/u),(s===-2||s===u+2)&&(a=0,l=0),v-=i/2,h=0;h<c;++h)y=Math.sin(h*Math.PI*2/r),p=Math.cos(h*Math.PI*2/r),nt.push(y*a,v,p*a),tt.push(s<0||s>u?0:y*ut,s<0?-1:s>u?1:ft,s<0||s>u?0:p*ut),it.push(h/r,1-l);for(s=0;s<u+w;++s)for(h=0;h<r;++h)k.push(c*(s+0)+0+h,c*(s+0)+1+h,c*(s+1)+1+h),k.push(c*(s+0)+0+h,c*(s+1)+1+h,c*(s+1)+0+h);return{position:nt,normal:tt,texcoord:it,indices:k}}function ft(n,t){var r,i,e,u,f;for(t=t||[],r=[],i=0;i<n.length;i+=4)for(e=n[i],u=n.slice(i+1,i+4),u.push.apply(u,t),f=0;f<e;++f)r.push.apply(r,u);return r}function p(){var r=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0,],u=ft([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0,]),e=ft([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220,],[255]),n=r.length/3,t={position:f(3,n),texcoord:f(2,n),normal:f(3,n),color:f(4,n,Uint8Array),indices:f(3,n/3,Uint16Array)},i;for(t.position.push(r),t.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0,]),t.normal.push(u),t.color.push(e),i=0;i<n;++i)t.indices.push(i);return t}function w(n,t,i,r,e,o,s){function g(n,t,i){return n+(t-n)*i}function a(t,i,f,s,h,c){for(var y,a=0;a<=e;a++){var p=i/(l-1),w=a/e,rt=(p-.5)*2,tt=(o+w*nt)*Math.PI,v=Math.sin(tt),it=Math.cos(tt),ut=g(n,t,v),ft=rt*r,et=it*n,ot=v*ut;b.push(ft,et,ot);y=u.add(u.multiply([0,v,it],f),s);k.push(y);d.push(p*h+c,w)}}function v(n,t){for(var i=0;i<e;++i)y.push(n+i+0,n+i+1,t+i+0),y.push(n+i+1,t+i+1,t+i+0)}var c,p,y,h;if(e<=0)throw Error("subdivisionDown must be > 0");o=o||0;s=s||1;var l=2,nt=s-o,w=(e+1)*2*(2+l),b=f(3,w),k=f(3,w),d=f(2,w);for(c=0;c<l;c++)p=(c/(l-1)-.5)*2,a(t,c,[1,1,1],[0,0,0],1,0),a(t,c,[0,0,0],[p,0,0],0,0),a(i,c,[1,1,1],[0,0,0],1,0),a(i,c,[0,0,0],[p,0,0],0,1);return y=f(3,e*2*(2+l),Uint16Array),h=e+1,v(h*0,h*4),v(h*5,h*7),v(h*6,h*2),v(h*3,h*1),{position:b,normal:k,texcoord:d,indices:y}}function b(n,t,i,r,u,f){return h(n,n,t,i,r,u,f)}function k(n,t,i,r,u,e){var o,s,c,l;if(i<3)throw Error("radialSubdivisions must be 3 or greater");if(r<3)throw Error("verticalSubdivisions must be 3 or greater");u=u||0;e=e||Math.PI*2;range=e-u;var h=i+1,p=r+1,a=h*p,w=f(3,a),b=f(3,a),k=f(2,a),v=f(3,i*r*2,Uint16Array);for(o=0;o<p;++o){var d=o/r,g=d*Math.PI*2,y=Math.sin(g),nt=n+y*t,tt=Math.cos(g),et=tt*t;for(s=0;s<h;++s){var it=s/i,rt=u+it*range,ut=Math.sin(rt),ft=Math.cos(rt),ot=ut*nt,st=ft*nt,ht=ut*y,ct=ft*y;w.push(ot,et,st);b.push(ht,tt,ct);k.push(it,1-d)}}for(o=0;o<r;++o)for(s=0;s<i;++s)c=1+s,l=1+o,v.push(h*o+s,h*l+s,h*o+c),v.push(h*l+s,h*l+c,h*o+c);return{position:w,normal:b,texcoord:k,indices:v}}function d(n,t,i,r,u){var o,h,e;if(t<3)throw Error("divisions must be at least 3");i=i?i:1;u=u?u:1;r=r?r:0;var c=(t+1)*(i+1),a=f(3,c),v=f(3,c),y=f(2,c),l=f(3,i*t*2,Uint16Array),s=0,d=n-r,p=t+1;for(o=0;o<=i;++o){for(h=r+d*Math.pow(o/i,u),e=0;e<=t;++e){var w=2*Math.PI*e/t,g=h*Math.cos(w),nt=h*Math.sin(w);if(a.push(g,0,nt),v.push(0,1,0),y.push(1-e/t,o/i),o>0&&e!==t){var b=s+(e+1),tt=s+e,k=s+e-p,it=s+(e+1)-p;l.push(b,tt,k);l.push(b,k,it)}}s+=t+1}return{position:a,normal:v,texcoord:y,indices:l}}function lt(n){return Math.random()*n|0}function at(n,t){var u,h,i,c,e;t=t||{};var o=n.position.numElements,s=f(4,o,Uint8Array),r=t.rand||function(n,t){return t<3?lt(256):255};if(n.color=s,n.indices)for(i=0;i<o;++i)s.push(r(i,0),r(i,1),r(i,2),r(i,3));else for(u=t.vertsPerColor||3,h=o/u,i=0;i<h;++i)for(c=[r(i,0),r(i,1),r(i,2),r(i,3)],e=0;e<u;++e)s.push(c);return n}function e(n){return function(i){var r=n.apply(this,Array.prototype.slice.call(arguments,1));return t.createBuffersFromArrays(i,r)}}function o(n){return function(i){var r=n.apply(null,Array.prototype.slice.call(arguments,1));return t.createBufferInfoFromArrays(i,r)}}function g(n,t,i,r){var f,u;for(r=r||0,f=n.length,u=0;u<f;++u)t[i+u]=n[u]+r}function et(n,t){var r=s(n),u=new r.constructor(t),f=u;return r.numComponents&&r.numElements&&nt(u,r.numComponents),n.data&&(f={data:u},i.copyNamedProperties(bt,n,f)),f}function vt(n){function o(t){for(var u,r=0,i=0;i<n.length;++i){var e=n[i],f=e[t],o=s(f);r+=o.length;(!u||f.data)&&(u=f)}return{length:r,spec:u}}function h(t,i,r){for(var o=0,f=0,u=0;u<n.length;++u){var h=n[u],c=h[t],e=s(c);t==="indices"?(g(e,r,f,o),o+=i[u]):g(e,r,f);f+=e.length}}for(var i,e,r,t={},u,f=0;f<n.length;++f)i=n[f],Object.keys(i).forEach(function(n){t[n]||(t[n]=[]);u||n==="indices"||(u=n);var r=i[n],f=pt(r,n),e=s(r),o=e.length/f;t[n].push(o)});return e=t[u],r={},Object.keys(t).forEach(function(n){var t=o(n),i=et(t.spec,t.length);h(n,e,s(i));r[n]=i}),r}function yt(n){var t={};return Object.keys(n).forEach(function(i){var r=n[i],u=s(r),f=et(r,u.length);g(u,s(f),0);t[i]=f}),t}var s=n.getArray_,pt=n.getNumComponents_,wt=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0],],bt=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName",];return{create3DFBufferInfo:o(p),create3DFBuffers:e(p),create3DFVertices:p,createAugmentedTypedArray:f,createCubeBufferInfo:o(y),createCubeBuffers:e(y),createCubeVertices:y,createPlaneBufferInfo:o(a),createPlaneBuffers:e(a),createPlaneVertices:a,createSphereBufferInfo:o(v),createSphereBuffers:e(v),createSphereVertices:v,createTruncatedConeBufferInfo:o(h),createTruncatedConeBuffers:e(h),createTruncatedConeVertices:h,createXYQuadBufferInfo:o(l),createXYQuadBuffers:e(l),createXYQuadVertices:l,createCresentBufferInfo:o(w),createCresentBuffers:e(w),createCresentVertices:w,createCylinderBufferInfo:o(b),createCylinderBuffers:e(b),createCylinderVertices:b,createTorusBufferInfo:o(k),createTorusBuffers:e(k),createTorusVertices:k,createDiscBufferInfo:o(d),createDiscBuffers:e(d),createDiscVertices:d,deindexVertices:st,flattenNormals:ht,makeRandomVertexColors:at,reorientDirections:tt,reorientNormals:it,reorientPositions:rt,reorientVertices:ut,concatVertices:vt,duplicateVertices:yt}}),n("main",["twgl/twgl","twgl/m4","twgl/v3","twgl/primitives",],function(n,t,i,r){return n.m4=t,n.v3=i,n.primitives=r,n}),t(["main"],function(n){return n},undefined,!0),n("build/js/twgl-includer-full",function(){}),t("main")});!function t(n,t,i){function r(u,e){var s,h,o;if(!t[u]){if(!n[u]){if(s="function"==typeof require&&require,!e&&s)return s(u,!0);if(f)return f(u,!0);h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h;}o=t[u]={exports:{}};n[u][0].call(o.exports,function(t){var i=n[u][1][t];return r(i?i:t)},o,o.exports,t,n,t,i)}return t[u].exports}for(var f="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(n,t,i){"use strict";function w(n,t){function r(n){i=!0;n.preventDefault();n.stopPropagation();t(n,0)}function u(n){i&&(n.preventDefault(),n.stopPropagation(),t(n,1))}function f(n){i&&(n.preventDefault(),n.stopPropagation(),i=!1,t(n,3))}function e(n){i&&(n.preventDefault(),n.stopPropagation(),i=!1,t(n,2))}var i=!1;n.addEventListener("mousedown",r,!1);n.addEventListener("mousemove",u,!1);n.addEventListener("mouseout",f,!1);n.addEventListener("mouseup",e,!1);n.addEventListener("touchstart",r,!1);n.addEventListener("touchmove",u,!1);n.addEventListener("touchleave",f,!1);n.addEventListener("touchend",e,!1)}function b(n,t,i){return void 0===i&&(i=new r),t instanceof MouseEvent?l(n,t,i):t instanceof TouchEvent?l(n,t,i):i}function l(n,t,i){if(void 0===i&&(i=new r),t.offsetX)i.x=t.offsetX,i.y=t.offsetY;else if(t.layerX)i.x=t.layerX,i.y=t.layerY;else{var u=n.getBoundingClientRect();i.x=t.clientX-u.left;i.y=t.clientY-u.top}return i}function s(n,t){return Math.floor(Math.random()*(t-n+1))+n}function k(n){void 0===n&&(n=255);var t=s(0,255)<<24,i=s(0,255)<<16,r=s(0,255)<<8;return(t|i|r|n)>>>0}function d(n){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=parseInt(t[2],16)<<24,r=parseInt(t[3],16)<<16,u=parseInt(t[4],16)<<8,f=parseInt(t[1],16);return(i|r|u|f)>>>0}function g(n){var t=h((n>>24&255).toString(16)),i=h((n>>16&255).toString(16)),r=h((n>>8&255).toString(16)),u=h((255&n).toString(16));return"#"+u+t+i+r}function h(n){return 1==n.length?"0"+n:n}function nt(n){var t=n>>24&255,i=n>>16&255,r=n>>8&255,u=n>>0&255;console.log("{r: "+t+", g: "+i+", b: "+r+", a: "+u+"}")}function tt(n,t){var f=n>>24&255,e=n>>16&255,o=n>>8&255,u=n>>0&255,s=t>>24&255,h=t>>16&255,c=t>>8&255,i=u+1,r=256-u,l=i*f+r*s>>8,a=i*e+r*h>>8,v=i*o+r*c>>8;return(l<<24|a<<16|v<<8|255)>>>0}function it(n,t,i){return n>i?n:i>t?t:i}var r=function(){function n(n,t){void 0===n&&(n=0);void 0===t&&(t=0);this.x=n;this.y=t}return n.fromPoint=function(t){return new n(t.x,t.y)},n.between=function(t,i){var r=.5*(t.x+i.x),u=.5*(t.y+i.y);return new n(r,u)},n.prototype.distanceToOrigin=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.distanceToPoint=function(n){var t=this.x-n.x,i=this.y-n.y,r=t*t+i*i;return Math.sqrt(r)},n.prototype.set=function(n,t){this.x=n;this.y=t},n.prototype.setPoint=function(n){this.x=n.x;this.y=n.y},n.prototype.offset=function(n,t){this.x+=n;this.y+=t},n.prototype.log=function(){console.log(this.toString())},n.prototype.toString=function(){return"{x: "+this.x+", y: "+this.y+"}"},n.prototype.equals=function(n){return this.x==n.x&&this.y==n.y},n}(),u,o,a,v,e,f,c,y,p;i.Point=r;u=function(){function n(n,t){void 0===n&&(n=0);void 0===t&&(t=0);this.x=n;this.y=t}return n.fromVec2=function(t){return new n(t.x,t.y)},n.fromPointToPoint=function(t,i){return new n(i.x-t.x,i.y-t.y)},n.prototype.isZero=function(){return 0==this.x&&0==this.y},n.prototype.length=function(){return Math.sqrt(this.length2())},n.prototype.length2=function(){return this.x*this.x+this.y*this.y},n.prototype.set=function(n,t){this.x=n;this.y=t},n.prototype.setVec2=function(n){this.x=n.x;this.y=n.y},n.prototype.normalize=function(){this.divScalar(this.length())},n.prototype.rotateLeft=function(){n=[-this.y,this.x];this.x=n[0];this.y=n[1];var n},n.prototype.rotateRight=function(){n=[this.y,-this.x];this.x=n[0];this.y=n[1];var n},n.prototype.mulScalar=function(n){this.x*=n;this.y*=n},n.prototype.divScalar=function(n){this.x/=n;this.y/=n},n.prototype.add=function(n){this.x+=n.x;this.y+=n.y},n.prototype.subtract=function(n){this.x-=n.x;this.y-=n.y},n.prototype.multiply=function(n){this.x*=n.x;this.y*=n.y},n.prototype.divide=function(n){this.x/=n.x;this.y/=n.y},n.prototype.dot=function(n){return this.x*n.x+this.y*n.y},n.prototype.cross=function(n){return this.x*n.y-this.y*n.x},n.prototype.negate=function(){this.x=-this.x;this.y=-this.y},n.prototype.log=function(){console.log(this.toString())},n.prototype.toString=function(){return"{x: "+this.x+", y: "+this.y+" len: "+this.length()+"}"},n.prototype.equals=function(n){return this.x==n.x&&this.y==n.y},n}();i.Vec2=u;o=function(){function n(n,t,i,r){void 0===n&&(n=0);void 0===t&&(t=0);void 0===i&&(i=0);void 0===r&&(r=0);this.left=n;this.top=t;this.right=i;this.bottom=r}return n.fromRect=function(t){return new n(t.left,t.top,t.right,t.bottom)},n.fromLBRT=function(t,i,r,u){return new n(t,u,r,i)},n.fromLRBT=function(t,i,r,u){return new n(t,u,i,r)},n.fromPointToPoint=function(t,i){var r=new n(t.x,t.y,t.x,t.y);return r.unionPoint(i),r},n.fromUnion=function(t,i,r){var u=new n(0,0,0,0);return u.setUnion(t,i,r),u},n.fromIntersection=function(t,i){var r=n.fromRect(t);return r.intersectRect(i),r},n.fromDimensions=function(t,i,r,u){return new n(t,i+u,t+r,i)},n.prototype.isEmpty=function(){this.left>=this.right||this.bottom>=this.top},n.prototype.isValid=function(){return this.right>=this.left&&this.top>=this.bottom},n.prototype.width=function(){return this.right-this.left},n.prototype.height=function(){return this.top-this.bottom},n.prototype.area=function(){return this.width()*this.height()},n.prototype.center=function(){return new r(this.centerX(),this.centerY())},n.prototype.centerX=function(){return.5*(this.left+this.right)},n.prototype.centerY=function(){return.5*(this.bottom+this.top)},n.prototype.bottomLeft=function(){return new r(this.left,this.bottom)},n.prototype.bottomRight=function(){return new r(this.right,this.bottom)},n.prototype.topLeft=function(){return new r(this.left,this.top)},n.prototype.topRight=function(){return new r(this.right,this.top)},n.prototype.pointAt=function(n,t,i){return void 0===i&&(i=new r),i.x=this.left+n*this.width(),i.y=this.bottom+t*this.height(),i},n.prototype.vertices=function(){var n=new Float32Array(8);return n[0]=this.left,n[1]=this.top,n[2]=this.left,n[3]=this.bottom,n[4]=this.right,n[5]=this.bottom,n[6]=this.right,n[7]=this.top,n},n.prototype.setRect=function(n){this.left=n.left;this.top=n.top;this.right=n.right;this.bottom=n.bottom},n.prototype.setLTRB=function(n,t,i,r){this.left=n;this.top=t;this.right=i;this.bottom=r},n.prototype.setLBRT=function(n,t,i,r){this.left=n;this.top=r;this.right=i;this.bottom=t},n.prototype.setLRBT=function(n,t,i,r){this.left=n;this.top=r;this.right=t;this.bottom=i},n.prototype.setEmpty=function(){this.left=0;this.top=0;this.right=0;this.bottom=0},n.prototype.setUnion=function(n,t,i){this.left=this.right=n[t++];this.top=this.bottom=n[t++];this.unionPoints(n,t,i-1)},n.prototype.contains=function(n,t){return this.left<=n&&n<=this.right&&this.bottom<=t&&t<=this.top},n.prototype.containsPoint=function(n){return this.contains(n.x,n.y)},n.prototype.containsRect=function(n){return this.left<=n.left&&n.right<=this.right&&this.bottom<=n.bottom&&n.top<=this.top},n.prototype.intersectRect=function(n){this.left=Math.max(this.left,n.left);this.right=Math.min(this.right,n.right);this.bottom=Math.max(this.bottom,n.bottom);this.top=Math.min(this.top,n.top)},n.prototype.intersectsRect=function(n){return this.right>=n.left&&n.right>=this.left&&this.top>=n.bottom&&n.top>=this.bottom},n.prototype.intersectsRectByPercent=function(t,i){var r=n.fromIntersection(this,t);return r.isValid()&&r.area()/t.area()>=i},n.prototype.union=function(n,t){this.left=Math.min(n,this.left);this.top=Math.max(t,this.top);this.right=Math.max(n,this.right);this.bottom=Math.min(t,this.bottom)},n.prototype.unionPoint=function(n){this.union(n.x,n.y)},n.prototype.unionPoints=function(n,t,i){for(var r=0;i>r;r++)this.union(n[t++],n[t++])},n.prototype.unionRect=function(n){this.left=Math.min(this.left,n.left);this.right=Math.max(this.right,n.right);this.bottom=Math.min(this.bottom,n.bottom);this.top=Math.max(this.top,n.top)},n.prototype.inset=function(n,t){this.left+=n;this.top-=t;this.right-=n;this.bottom+=t},n.prototype.offset=function(n,t){this.left+=n;this.top+=t;this.right+=n;this.bottom+=t},n.prototype.mulScalar=function(n){this.left*=n;this.top*=n;this.right*=n;this.bottom*=n},n.prototype.divScalar=function(n){this.left/=n;this.top/=n;this.right/=n;this.bottom/=n},n.prototype.scale=function(n,t){var i=this.centerX(),r=this.centerY();this.offset(-i,-r);this.left*=n;this.right*=n;this.bottom*=t;this.top*=t;this.offset(i,r)},n.prototype.stretch=function(n){this.scale(n,n)},n.prototype.shrinkToSquare=function(){var n=this.width(),t=this.height();t>n?this.scale(1,n/t):n>t&&this.scale(t/n,1)},n.prototype.expandToSquare=function(){var n=this.width(),t=this.height();t>n?this.scale(t/n,1):n>t&&this.scale(1,n/t)},n.prototype.sort=function(){var n,t;this.bottom>this.top&&(n=this.top,this.top=this.bottom,this.bottom=n);this.left>this.right&&(t=this.right,this.right=this.left,this.left=t)},n.prototype.log=function(){console.log(this.toString())},n.prototype.toString=function(){return"{bottom: "+this.bottom+", left: "+this.left+", width: "+this.width()+", height: "+this.height()+", isValid: "+this.isValid()+"}"},n.prototype.equals=function(n){return this.left==n.left&&this.top==n.top&&this.right==n.right&&this.bottom==n.bottom},n}();i.Rect=o;a=function(){function n(n,t,i,r){void 0===n&&(n=1);void 0===t&&(t=1);void 0===i&&(i=0);void 0===r&&(r=0);this.rx=n;this.ry=t;this.cx=i;this.cy=r}return n.fromRect=function(t){var i=t.width()/2,r=t.height()/2,u=t.centerX(),f=t.centerY();return new n(i,r,u,f)},n.fromEllipse=function(t){return new n(t.rx,t.ry,t.cx,t.cy)},n.prototype.contains=function(n,t){var u=this.cx-n,f=this.cy-t,i=u/this.rx,r=f/this.ry;return 1>=i*i+r*r},n.prototype.containsPoint=function(n){return this.contains(n.x,n.y)},n}();i.Ellipse=a;v=function(){function n(n,t,i,r){this.x1=n;this.y1=t;this.x2=i;this.y2=r}return n.fromLine=function(t){return new n(t.x1,t.y1,t.x2,t.y2)},n.fromPointToPoint=function(t,i){return new n(t.x,t.y,i.x,i.y)},n.prototype.contains=function(n,t,i){var e=new r(this.x1,this.y1),o=new u(this.x2-this.x1,this.y2-this.y1),f=-1,l=new u(n-e.x,t-e.y),a=o.dot(l),s=o.length2();if(0!=s&&(f=a/s),0>f||f>1)return!1;var v=e.x+f*o.x,y=e.y+f*o.y,h=n-v,c=t-y,p=h*h+c*c;return i*i/4>p},n.prototype.containsPoint=function(n,t){return this.contains(n.x,n.y,t)},n}();i.Line=v;e=function(){function n(n,t,i,r,u,f){void 0===n&&(n=0);void 0===t&&(t=0);void 0===i&&(i=0);void 0===r&&(r=0);void 0===u&&(u=0);void 0===f&&(f=0);this.m11=n;this.m12=t;this.m13=i;this.m21=r;this.m22=u;this.m23=f}return n.test=function(){console.log("Matrix test");var e=new r(50,50),i=new r(100,0),u=new r(0,100),f=n.stretchRotateFromPointToPoint(i,u,e.x,e.y),t=new r;f.mapPoint(i,t);console.log("end:"+u);console.log("end?"+t);f.invert();f.mapPoint(u,t);console.log("start:"+i);console.log("start?"+t);console.log("End test")},n.fromMatrix=function(t){return new n(t.m11,t.m12,t.m13,t.m21,t.m22,t.m23)},n.from2x2=function(t,i,r,u){return new n(t,i,0,r,u,0)},n.identity=function(){return new n(1,0,0,0,1,0)},n.rectToRect=function(t,i,r){var u=new n;return u.setRectToRect(t,i,r),u},n.rotateByAngle=function(t,i,r){void 0===i&&(i=0);void 0===r&&(r=0);var u=Math.sin(t),f=Math.cos(t);return n.rotateBySinCos(u,f,i,r)},n.rotateBySinCos=function(t,i,r,u){void 0===r&&(r=0);void 0===u&&(u=0);var f=new n;return f.setSinCos(t,i),f.preTranslate(-r,-u),f.postTranslate(r,u),f},n.rotateFromPointToPoint=function(t,i,f,e){var c,l;void 0===f&&(f=0);void 0===e&&(e=0);var h=new r(f,e),o=u.fromPointToPoint(h,t),s=u.fromPointToPoint(h,i);return o.normalize(),s.normalize(),c=o.cross(s),l=o.dot(s),n.rotateBySinCos(c,l,f,e)},n.scale=function(t,i,r,u){void 0===r&&(r=0);void 0===u&&(u=0);var f=new n;return f.setScale(t,i),f.preTranslate(-r,-u),f.postTranslate(r,u),f},n.scaleFromPointToPoint=function(t,i,r,u){void 0===r&&(r=0);void 0===u&&(u=0);var f=(i.x-r)/(t.x-r),e=(i.y-u)/(t.y-u);return n.scale(f,e,r,u)},n.stretch=function(t,i,r){return n.scale(t,t,i,r)},n.stretchFromPointToPoint=function(t,i,f,e){void 0===f&&(f=0);void 0===e&&(e=0);var o=new r(f,e),s=u.fromPointToPoint(o,t).length(),h=u.fromPointToPoint(o,i).length(),c=h/s;return n.stretch(c,f,e)},n.stretchRotateFromPointToPoint=function(t,i,f,e){void 0===f&&(f=0);void 0===e&&(e=0);var c=new r(f,e),s=u.fromPointToPoint(c,t),h=u.fromPointToPoint(c,i),l=s.length(),a=h.length(),v=a/l;s.mulScalar(1/l);h.mulScalar(1/a);var y=s.cross(h),p=s.dot(h),o=new n;return o.setSinCos(y,p),o.postStretch(v),o.preTranslate(-f,-e),o.postTranslate(f,e),o},n.translate=function(t,i){return new n(1,0,t,0,1,i)},n.translateFromPointToPoint=function(t,i){return n.translate(i.x-t.x,i.y-t.y)},n.concat=function(t,i){var r=new n;return r.setConcat(t,i),r},n.prototype.determinant=function(){return this.m11*this.m22-this.m12*this.m21},n.prototype.inverse=function(){var t=new n;return t.setInverse(this),t},n.prototype.invert=function(){this.setInverse(this)},n.prototype.postConcat=function(n){this.setConcat(n,this)},n.prototype.preConcat=function(n){this.setConcat(this,n)},n.prototype.postRotate=function(n){var t=Math.cos(n),i=Math.sin(n),r=this.m11,u=this.m12,f=this.m13;this.m11=i*r-t*this.m21;this.m12=i*u-t*this.m22;this.m13=i*f-t*this.m23;this.m21=t*r+i*this.m21;this.m22=t*u+i*this.m22;this.m23=t*f+t*this.m23},n.prototype.preRotate=function(n){var t=Math.cos(n),i=Math.sin(n),r=this.m11,u=this.m21;this.m11=r*i+this.m12*t;this.m21=u*i+this.m22*t;this.m12=r*-t+this.m12*i;this.m22=u*-t+this.m22*i},n.prototype.postScale=function(n,t){this.m11*=n;this.m12*=n;this.m13*=n;this.m21*=t;this.m22*=t;this.m23*=t},n.prototype.preScale=function(n,t){this.m11*=n;this.m21*=n;this.m12*=t;this.m22*=t},n.prototype.postStretch=function(n){this.postScale(n,n)},n.prototype.preStretch=function(n){this.preScale(n,n)},n.prototype.postTranslate=function(n,t){this.m13+=n;this.m23+=t},n.prototype.preTranslate=function(n,t){this.m13+=this.m11*n+this.m12*t;this.m23+=this.m21*n+this.m22*t},n.prototype.set=function(n,t,i,r,u,f){this.m11=n;this.m12=t;this.m13=i;this.m21=r;this.m22=u;this.m23=f},n.prototype.setMatrix=function(n){this.m11=n.m11;this.m12=n.m12;this.m13=n.m13;this.m21=n.m21;this.m22=n.m22;this.m23=n.m23},n.prototype.setConcat=function(n,t){this.set(n.m11*t.m11+n.m12*t.m21,n.m11*t.m12+n.m12*t.m22,n.m11*t.m13+n.m12*t.m23+n.m13,n.m21*t.m11+n.m22*t.m21,n.m21*t.m12+n.m22*t.m22,n.m21*t.m13+n.m22*t.m23+n.m23)},n.prototype.setIdentity=function(){this.m11=1;this.m12=0;this.m13=0;this.m21=0;this.m22=1;this.m23=0},n.prototype.setInverse=function(n){var t=1/n.determinant(),i=n.m22*t,r=-n.m12*t,u=(n.m12*n.m23-n.m13*n.m22)*t,f=-n.m21*t,e=n.m11*t,o=(n.m21*n.m13-n.m11*n.m23)*t;this.set(i,r,u,f,e,o)},n.prototype.setRectToRect=function(n,t,i){var r,u,f,e;switch(i){case 0:r=n.center();u=t.center();break;case 1:r=n.bottomRight();u=t.bottomRight();break;default:r=n.topLeft();u=t.topLeft()}f=t.width()/n.width();e=t.height()/n.height();this.setTranslate(-r.x,-r.y);2===i?this.postScale(f,e):this.postStretch(Math.min(f,e));this.postTranslate(u.x,u.y)},n.prototype.setRotate=function(n){var t=Math.sin(n),i=Math.cos(n);this.setSinCos(t,i)},n.prototype.setSinCos=function(n,t){this.m11=t;this.m12=-n;this.m13=0;this.m21=n;this.m22=t;this.m23=0},n.prototype.setScale=function(n,t){this.m11=n;this.m12=0;this.m13=0;this.m21=0;this.m22=t;this.m23=0},n.prototype.setStretch=function(n){this.setScale(n,n)},n.prototype.setTranslate=function(n,t){this.m11=1;this.m12=0;this.m13=n;this.m21=0;this.m22=1;this.m23=t},n.prototype.mapX=function(n,t){return this.m11*n+this.m12*t+this.m13},n.prototype.mapY=function(n,t){return this.m21*n+this.m22*t+this.m23},n.prototype.map=function(n,t,i){return void 0===i&&(i=new r),i.x=this.mapX(n,t),i.y=this.mapY(n,t),i},n.prototype.mapPoint=function(n,t){return void 0===t&&(t=new r),this.map(n.x,n.y,t)},n.prototype.mapPoints=function(n,t,i,r,u){var f,e,o;for(void 0===r&&(r=n),void 0===u&&(u=t),f=0;i>f;f++)e=n[t++],o=n[t++],r[u++]=this.mapX(e,o),r[u++]=this.mapY(e,o)},n.prototype.mapRect=function(n,t){void 0===t&&(t=new o);var i=n.topLeft(),r=n.bottomLeft(),u=n.bottomRight(),f=n.topRight();return this.mapPoint(i,i),this.mapPoint(r,r),this.mapPoint(u,u),this.mapPoint(f,f),t.left=t.right=i.x,t.top=t.bottom=i.y,t.unionPoint(r),t.unionPoint(u),t.unionPoint(f),t},n.prototype.log=function(){console.log(this.toString())},n.prototype.toString=function(){return"m11: "+this.m11+", m12: "+this.m12+", m13: "+this.m13+", m21: "+this.m21+", m22: "+this.m22+", m23: "+this.m23},n.prototype.equals=function(n){this.m11==n.m11&&this.m12==n.m12&&this.m13==n.m13&&this.m21==n.m21&&this.m22==n.m22&&this.m23==n.m23},n}();i.Matrix=e;f=function(){function n(n,t){void 0===t&&(t=0);this._data=n;this._size=t;this._capacity=n.length/2}return n.fromPath=function(t){return new n(new Float32Array(t._data),t._size)},n.withCapacity=function(t){return new n(new Float32Array(2*t))},Object.defineProperty(n.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"capacity",{get:function(){return this._capacity},enumerable:!0,configurable:!0}),n.prototype.pointAt=function(n){var t=2*n,i=this._data[t],u=this._data[t+1];return new r(i,u)},n.prototype.xAt=function(n){return this._data[2*n]},n.prototype.yAt=function(n){return this._data[2*n+1]},n.prototype.pointBetween=function(n,t){return r.between(this.pointAt(n),this.pointAt(t))},n.prototype.forEach=function(n,t,i){void 0===t&&(t=0);void 0===i&&(i=this._size);for(var r=2*t,u=0;i>u;u++)n(this._data[r++],this._data[r++],t++)},n.prototype.forEachEdge=function(n,t,i){void 0===t&&(t=0);void 0===i&&(i=this._size);for(var r=this._data,u=2*t,f=2*(t+i),s=r[f-2],h=r[f-1],e=0,o=0;f>u;)e=r[u++],o=r[u++],n(s,h,e,o),s=e,h=o},n.prototype.put=function(n,t){this.set(this._size++,n,t)},n.prototype.putPoint=function(n){this.setPoint(this._size++,n)},n.prototype.putPath=function(n){this.putData(n._data,0,n._size)},n.prototype.putData=function(n,t,i){this.setData(this._size,n,t,i);this._size+=i},n.prototype.set=function(n,t,i){var r=2*n;this._data[r]=t;this._data[r+1]=i},n.prototype.setPoint=function(n,t){this.set(n,t.x,t.y)},n.prototype.setPath=function(n,t){this.setData(n,t._data,0,t._size)},n.prototype.setData=function(n,t,i,r){for(var u=2*n,f=0;r>f;f++)this._data[u++]=t[i++],this._data[u++]=t[i++]},n.prototype.calculateBounds=function(n,t){return void 0===n&&(n=0),void 0===t&&(t=this._size),o.fromUnion(this._data,2*n,t)},n.prototype.contains=function(n,t,i,r){void 0===i&&(i=0);void 0===r&&(r=this._size);var u=!1;return this.forEachEdge(function(i,r,f,e){r>t!=e>t&&(f-i)*(t-r)/(e-r)+i>n&&(u=!u)},i,r),u},n.prototype.containsPoint=function(n,t,i){return void 0===t&&(t=0),void 0===i&&(i=this._size),this.contains(n.x,n.y,t,i)},n.prototype.offset=function(n,t,i,r){void 0===i&&(i=0);void 0===r&&(r=this.size);for(var u=2*i,f=0;r>=f;f++)this._data[u++]+=n,this._data[u++]+=t},n.prototype.transform=function(n,t,i){void 0===t&&(t=0);void 0===i&&(i=this.size);n.mapPoints(this._data,2*t,i,this._data,2*t)},n.prototype.log=function(){console.log(this.toString())},n.prototype.toString=function(){return"{capacity: "+this._capacity+", count: "+this._size+", data: "+this._data+"}"},n.prototype.logData=function(){var n="";this.forEach(function(t,i){n+=t+", "+i+" "});console.log(n)},n}();i.Path=f;c=function(){function n(n,t,i,r){this.vertices=n;this.indices=t;this.bounds=n.calculateBounds();this.fixedPoint=i;this.controlPoint=r}return n.polygon=function(t){var i=n.generatePolygonVertices(t),u=n.generatePolygonIndices(t),f=i.pointAt(0),r=t>>1,e=1&t?i.pointBetween(r,r+1):i.pointAt(r);return new n(i,u,f,e)},n.generatePolygonVertices=function(n){var t=f.withCapacity(n),i=new r(0,100),u;for(t.putPoint(i),u=e.rotateByAngle(2*Math.PI/n);t.size<t.capacity;)u.mapPoint(i,i),t.putPoint(i);return t},n.generatePolygonIndices=function(n){for(var t=new Uint16Array(3*(n-2)),i=0,r=1,u=2;i<t.length;r=u++)t[i++]=0,t[i++]=r,t[i++]=u;return t},n.star=function(t,i,r){var u=n.generateStarVertices(t,i,r),f=n.generateStarIndices(t),e=u.pointAt(0),o=1&t?u.pointBetween(t-1,t+1):u.pointAt(t);return new n(u,f,e,o)},n.generateStarVertices=function(n,t,i){var u=f.withCapacity(n+n),c=2*Math.PI/n,s=new e,h=new r(0,100*i),o;for(u.putPoint(h),o=new r(0,100*t),s.setRotate(.5*c),s.mapPoint(o,o),u.putPoint(o),s.setRotate(c);u.size<u.capacity;)s.mapPoint(h,h),s.mapPoint(o,o),u.putPoint(h),u.putPoint(o);return u},n.generateStarIndices=function(n){for(var f=3*(n-2),o=3*n,t=new Uint16Array(f+o),i=0,u=3,r=5;f>i;u=r++,r++)t[i++]=1,t[i++]=u,t[i++]=r;for(var e=2*n-1,u=0,r=1;i<t.length;e=r++,u=r++)t[i++]=e,t[i++]=u,t[i++]=r;return t},n.diamond=function(){return n.star(2,.5,1)},n.square=function(){var t=f.withCapacity(10);t.put(-100,100);t.put(-100,-100);t.put(100,-100);t.put(100,100);var i=n.generatePolygonIndices(4),u=new r(0,100),e=new r(0,-100);return new n(t,i,u,e)},n.star5=function(){return n.star(5,.4,1)},n.bat=function(){var t=f.withCapacity(20);t.put(0,3);t.put(-2,5);t.put(-3,2);t.put(-5,0);t.put(-8,3);t.put(-10,7);t.put(-17,10);t.put(-13,5);t.put(-12,-1);t.put(-3,-7);t.put(0,-10);t.put(3,-7);t.put(12,-1);t.put(13,5);t.put(17,10);t.put(10,7);t.put(8,3);t.put(5,0);t.put(3,2);t.put(2,5);var i=new Uint16Array([0,1,2,0,2,3,0,3,9,0,9,10,0,10,11,0,11,17,0,17,18,0,18,19,4,5,6,4,6,7,4,7,8,4,8,9,4,9,3,16,14,15,16,13,14,16,12,13,16,11,12,16,17,11]),r=t.pointBetween(1,19),u=t.pointAt(10);return new n(t,i,r,u)},n.heart=function(){var t=f.withCapacity(10);t.put(0,12);t.put(-3,16);t.put(-5,16);t.put(-8,12);t.put(-8,8);t.put(0,0);t.put(8,8);t.put(8,12);t.put(5,16);t.put(3,16);var i=n.generatePolygonIndices(10),r=t.pointBetween(1,9),u=t.pointAt(5);return new n(t,i,r,u)},n.flower=function(){var t=f.withCapacity(20);t.put(0,-2);t.put(-1,-1);t.put(-2,-1);t.put(-2,-2);t.put(-3,-3);t.put(-1,-3);t.put(-2,-4);t.put(-2,-5);t.put(-1,-5);t.put(0,-6);t.put(0,-4);t.put(1,-5);t.put(2,-5);t.put(2,-4);t.put(3,-3);t.put(1,-3);t.put(2,-2);t.put(2,-1);t.put(1,-1);t.put(0,0);var i=new Uint16Array([5,0,1,5,1,2,5,2,3,5,3,4,5,6,7,5,7,8,5,8,9,5,9,10,5,10,0,15,0,10,15,10,11,15,11,12,15,12,13,15,13,14,15,16,17,15,17,18,15,18,19,15,19,0]),r=t.pointAt(19),u=t.pointAt(9);return new n(t,i,r,u)},n.prototype.contains=function(n,t){return this.bounds.contains(n,t)&&this.vertices.contains(n,t)},n.prototype.containsPoint=function(n){return this.contains(n.x,n.y)},n.prototype.log=function(){console.log(this.toString())},n.prototype.toString=function(){return"vertices: "+this.vertices+", bounds: "+this.bounds+",\n                    fixedPoint: "+this.fixedPoint+", controlPoint: "+this.controlPoint},n}();i.Mesh=c;y=function(){function n(n,t,i,r){this.meshes=n;this.vertices=t;this.indices=i;this.offsets=r}return n.fromMeshes=function(t){for(var a,e,r,o=0,s=0,i=0;i<t.length;i++)o+=t[i].vertices.size,s+=t[i].indices.length;for(var u=f.withCapacity(o),h=new Uint16Array(s),c=new Uint16Array(t.length),l=0,i=0;i<t.length;i++)for(a=u.size,c[i]=l,u.putPath(t[i].vertices),e=t[i].indices,r=0;r<e.length;r++)h[l++]=e[r]+a;return new n(t,u.data,h,c)},n}();i.PackedMeshInfo=y;p=function(){function n(n){this.mesh=n;this.matrix=e.identity();this.inverse=e.identity()}return n.test=function(){console.log("Shape test");var t=c.diamond(),i=new n(t),f=new r(0,100),e=new r(0,0),u=new r,s=o.fromLRBT(0,100,0,100),h=new o;i.stretchAcrossLine(f,e);i.matrix.mapPoint(t.fixedPoint,u);console.log("start:"+f);console.log("start?"+u);i.matrix.mapPoint(t.controlPoint,u);console.log("end:"+e);console.log("end?"+u);i.fitInRect(s,2);t.vertices.transform(i.matrix);h=t.vertices.calculateBounds();console.log("rect:"+s);console.log("rect?:"+h);console.log("End test")},n.prototype.contains=function(n,t){var i=this.inverse.map(n,t);return this.mesh.containsPoint(i)},n.prototype.containsPoint=function(n){return this.contains(n.x,n.y)},n.prototype.offset=function(n,t){this.matrix.postTranslate(n,t);this.inverse.postTranslate(-n,-t)},n.prototype.transform=function(n){this.matrix.postConcat(n);this.inverse.setInverse(this.matrix)},n.prototype.fitInRect=function(n,t){this.matrix.setRectToRect(this.mesh.bounds,n,t);this.inverse.setRectToRect(n,this.mesh.bounds,t)},n.prototype.stretchAcrossLine=function(n,t){var i=u.fromPointToPoint(this.mesh.fixedPoint,n),f=n.x,o=n.y;n=r.fromPoint(this.mesh.controlPoint);n.offset(i.x,i.y);this.matrix=e.stretchRotateFromPointToPoint(n,t,f,o);this.matrix.preTranslate(i.x,i.y);this.inverse.setInverse(this.matrix)},n.prototype.log=function(){console.log(this.toString())},n.prototype.toString=function(){return"mesh: "+this.mesh.toString()+", matrix: "+this.matrix+", inverse: "+this.inverse},n}();i.Shape=p;i.addDragListener=w;i.getEventPosition=b;i.randomInt=s;i.randomRgba=k;i.stringToRgba=d;i.rgbaToString=g;i.logRgba=nt;i.blend=tt;i.clamp=it},{}],2:[function(n,t,i){"use strict";function s(n,t,i){for(var r=-t;t>=r;r++)for(var e=Math.max(-t,-r-t),o=Math.min(t,-r+t),u=e;o>=u;u++)i(new f(r+n.q,u+n.r))}function c(n,t,i,r){var e=f.fromCube(t),o,u;e.subtract(n);for(var c=e.distanceToOrigin(),l=1/Math.max(c,1),h=0;c>=h;h++)o=l*h,u=f.fromCube(n),u.q+=e.q*o,u.r+=e.r*o,u.s+=e.s*o,u.round(),s(u,i,r)}var r=n("./graphics2d"),e=Math.sqrt(3),o=6,l=!1,h=twgl.primitives.createAugmentedTypedArray,u=function(){function n(n,t,i,r,u,f){void 0===t&&(t=n.inverse());this.matrix=n;this.inverse=t;this.width=i;this.height=r;this.right=u;this.up=f}return n}(),f,a,v,y,p,w;u.FlatTop=new u(r.Matrix.from2x2(1.5,0,e/2,e),r.Matrix.from2x2(2/3,0,-1/3,e/3),2,e,.5,e/2);u.PointyTop=new u(r.Matrix.from2x2(e,e/2,0,1.5),r.Matrix.from2x2(e/3,-1/3,0,2/3),e,2,e/2,.5);i.Orientation=u;f=function(){function n(n,t,i){void 0===n&&(n=0);void 0===t&&(t=0);void 0===i&&(i=-n-t);this.q=n;this.r=t;this.s=i}return n.fromCube=function(t){return new n(t.q,t.r,t.s)},n.prototype.set=function(n,t,i){void 0===i&&(i=-n-t);this.q=n;this.r=t;this.s=i},n.prototype.distanceToCube=function(n){return Math.max(Math.abs(this.q-n.q),Math.abs(this.r-n.r),Math.abs(this.s-n.s))},n.prototype.distanceToOrigin=function(){return Math.max(Math.abs(this.q),Math.abs(this.r),Math.abs(this.s))},n.prototype.neighbors=function(){for(var t=[],n=0;n<i.Directions.length;n++)t.push(this.neighbor(i.Directions[n]));return t},n.prototype.neighbor=function(t){var i=n.fromCube(this);return i.add(t),i},n.prototype.forEachNeighbor=function(n){for(var t=0;t<i.Directions.length;t++)n(this.neighbor(i.Directions[t]))},n.prototype.add=function(n){this.q+=n.q;this.r+=n.r;this.s+=n.s},n.prototype.subtract=function(n){this.q-=n.q;this.r-=n.r;this.s-=n.s},n.prototype.round=function(){var n=this.q,t=this.r,i=this.s;this.q=Math.round(n);this.r=Math.round(t);this.s=Math.round(i);var r=Math.abs(this.q-n),u=Math.abs(this.r-t),f=Math.abs(this.s-i);r>u&&r>f?this.q=-this.r-this.s:u>f?this.r=-this.q-this.s:this.s=-this.q-this.r},n.prototype.equals=function(n){return this.q===n.q&&this.r===n.r&&this.s===n.s},n.prototype.log=function(){console.log(this.toString())},n.prototype.toString=function(){return"{q: "+this.q+", r: "+this.r+" s: "+this.s+"}"},n}();i.Cube=f;i.Directions=[new f(1,-1,0),new f(1,0,-1),new f(0,1,-1),new f(-1,1,0),new f(-1,0,1),new f(0,-1,1)];a=function(){function n(n,t,i){void 0===i&&(i=u.PointyTop);this.rows=t;this.cols=n;this.size=t*n;this.orientation=i}return n.prototype.width=function(){return this.orientation===u.FlatTop?this.orientation.width*(.75*this.cols+.25):this.orientation.width*(this.cols+.5)},n.prototype.height=function(){return this.orientation===u.FlatTop?this.orientation.height*(this.rows+.5):this.orientation.height*(.75*this.rows+.25)},n.prototype.forEachCube=function(n){var r,i,e,t;if(this.orientation===u.FlatTop)for(t=0;t<this.cols;t++)for(r=t>>1,i=-r;i<this.rows-r;i++)n(new f(t,i));else for(i=0;i<this.rows;i++)for(e=i>>1,t=-e;t<this.cols-e;t++)n(new f(t,i))},n.prototype.cubeAt=function(n){var i,t;return this.orientation===u.FlatTop?(t=n/this.rows>>0,i=n%this.rows-(t>>1),new f(t,i)):(i=n/this.cols>>0,t=n%this.cols-(i>>1),new f(t,i))},n.prototype.offsetAt=function(n){var t,i;return this.orientation===u.FlatTop?(t=n/this.rows,i=n%this.rows,new r.Point(t>>0,i>>0)):(t=n%this.cols,i=n/this.cols,new r.Point(t>>0,i>>0))},n.prototype.indexOfCube=function(n){var t,i;if(this.orientation===u.FlatTop){if(0<=n.q&&n.q<this.cols&&(t=n.q>>1,-t<=n.r&&n.r<this.rows-t))return this.rows*n.q+n.r+t}else if(0<=n.r&&n.r<this.rows&&(i=n.r>>1,-i<=n.q&&n.q<this.cols-i))return this.cols*n.r+n.q+i;return-1},n.prototype.indexOfOffset=function(n){return 0<=n.x&&n.x<this.cols&&0<=n.y&&n.y<this.rows?this.orientation===u.FlatTop?this.rows*n.x+n.y:this.cols*n.y+n.x:-1},n}();i.Grid=a;v=function(){function n(n,t){void 0===t&&(t=new ArrayBuffer(4*n.size));this.grid=n;this.hexels=new DataView(t);this.bounds=r.Rect.fromLRBT(0,n.width(),0,n.height());this.hexelsPerSection=Math.min(n.size,8192);this.sections=n.size/this.hexelsPerSection}return n.prototype.sectionWidth=function(){var n=this.grid;return n.orientation==u.FlatTop?.75*n.orientation.width*n.cols/this.sections:n.orientation.width*n.cols/this.sections},n.prototype.sectionHeight=function(){var n=this.grid;return n.orientation==u.FlatTop?n.orientation.height*n.rows/this.sections:.75*n.rows*n.orientation.height/this.sections},n.prototype.generateVertices=function(){var i=this.hexelsPerSection,t=h(2,o*i,Float32Array),n=this.grid.orientation;return this.grid.orientation===u.FlatTop?this.forEachCenterVertex(function(i,r){t.push(i-n.right,r+n.up);t.push(i-1,r);t.push(i-n.right,r-n.up);t.push(i+n.right,r-n.up);t.push(i+1,r);t.push(i+n.right,r+n.up)},i):this.forEachCenterVertex(function(i,r){t.push(i,r+1);t.push(i-n.right,r+n.up);t.push(i-n.right,r-n.up);t.push(i,r-1);t.push(i+n.right,r-n.up);t.push(i+n.right,r+n.up)},i),t},n.prototype.generateIndices=function(){for(var n,i=this.hexelsPerSection,r=h(1,12*i,Uint16Array),t=0;i>t;t++)n=t*o,r.push(n,n+1,n+2,n,n+2,n+3,n,n+3,n+4,n,n+4,n+5);return r},n.prototype.generateTexCoords=function(){for(var i,n,t,f=this.hexelsPerSection,r=h(2,o*f,Float32Array),e=this.grid.rows,s=this.grid.cols,c=0,u=0;e>u;u++)for(i=0;s>i;i++)if(n=i/s,t=u/e,r.push(n,t,n,t,n,t,n,t,n,t,n,t),++c===f)return r;return r},n.prototype.generateGradientAttribs=function(){for(var n=this.hexelsPerSection,t=h(1,o*n,Float32Array),i=18/256,r=.125,u=50/256,f=0;n>f;f++)t.push(i,r,u,-i,-r,-u);return t},n.prototype.forEachCenterVertex=function(n,t){var c,r,l,i,s,h;void 0===t&&(t=this.grid.size);var e=this.grid,f=e.orientation,a=this.bounds.left+f.width/2,v=this.bounds.bottom+f.height/2,o=0;if(f===u.FlatTop){for(i=0;i<e.cols;i++)for(c=i/2-(i>>1),r=c;r<e.rows+c;r++)if(s=a+i*f.width*.75,h=v+r*f.height,n(s,h,o++),o===t)return}else for(r=0;r<e.rows;r++)for(l=r/2-(r>>1),i=l;i<e.cols+l;i++)if(s=a+i*f.width,h=v+r*f.height*.75,n(s,h,o++),o===t)return},n.prototype.cubeToClip=function(n){var t=this.grid.orientation,i=this.bounds.left+t.width/2,f=this.bounds.bottom+t.height/2;return this.grid.orientation===u.FlatTop?(i+=n.q*t.width*.75,f+=(n.r+n.q/2)*t.height):(i+=(n.q+n.r/2)*t.width,f+=n.r*t.height*.75),new r.Point(i,f)},n.prototype.clipToCube=function(n){var t=this.grid.orientation,i=n.x-(t.width/2+this.bounds.left),r=n.y-(t.height/2+this.bounds.bottom),u=t.inverse.mapX(i,r),e=t.inverse.mapY(i,r);return new f(u,e)},n.prototype.indexOfHexel=function(n){var t=this.clipToCube(n);return t.round(),this.grid.indexOfCube(t)},n.prototype.getColor=function(n){return this.hexels.getUint32(4*n,l)},n.prototype.setColor=function(n,t){this.hexels.setUint32(4*n,t,l)},n.prototype.mixColor=function(n,t){var i=this.getColor(n),u=r.blend(t,i);this.setColor(n,u)},n.prototype.addLine=function(n,t,i){var r=this;this.forEachCenterVertex(function(u,f,e){n.contains(u,f,t)&&r.mixColor(e,i)})},n.prototype.eraseLine=function(n,t){var i=this;this.forEachCenterVertex(function(r,u,f){n.contains(r,u,t)&&i.setColor(f,0)})},n.prototype.addShape=function(n,t){var i=this;this.forEachCenterVertex(function(r,u,f){n.contains(r,u)&&i.mixColor(f,t)})},n.prototype.eraseShape=function(n){var t=this;this.forEachCenterVertex(function(i,r,u){n.contains(i,r)&&t.setColor(u,0)})},n.prototype.addStroke=function(n,t,i,r){var u=this;c(n,t,i,function(n){var t=u.grid.indexOfCube(n);-1!=t&&u.mixColor(t,r)})},n.prototype.eraseStroke=function(n,t,i){var r=this;c(n,t,i,function(n){var t=r.grid.indexOfCube(n);-1!=t&&r.setColor(t,0)})},n.prototype.setRange=function(n,t,i){var r=this;s(n,t,function(n){var t=r.grid.indexOfCube(n);-1!=t&&r.mixColor(t,i)})},n.prototype.eraseRange=function(n,t){var i=this;s(n,t,function(n){var t=i.grid.indexOfCube(n);-1!=t&&i.setColor(t,0)})},n.prototype.floodFill=function(n,t){var i=this.getColor(n),u;(t=r.blend(t,i),i!==t)&&(u=this.grid.offsetAt(n),this.floodFillScanLine(u.x,u.y,t,i))},n.prototype.floodFillErase=function(n){var i=this.getColor(n),t;0!==i&&(t=this.grid.offsetAt(n),this.floodFillScanLine(t.x,t.y,0,i))},n.prototype.floodFillScanLine=function(n,t,i,u){var s,h,c,e,o,l=this.grid.cols,v=this.grid.rows,f=[],a=new r.Point(n,t);for(f.push(a);f.length>0;){for(a=f.pop(),n=a.x,t=a.y,s=t*l,h=s+l,c=s-l,e=!1,o=!1;n>=0&&this.getColor(n+s)==u;)n--;for(0==(1&t)&&n>=0&&(t>0&&this.getColor(n+c)==u&&(f.push(new r.Point(n,t-1)),e=!0),v-1>t&&this.getColor(n+h)==u&&(f.push(new r.Point(n,t+1)),o=!0)),n++;l>n&&this.getColor(n+s)==u;n++)this.setColor(n+s,i),t>0&&(e||this.getColor(n+c)!=u?e&&this.getColor(n+c)!=u&&(e=!1):(f.push(new r.Point(n,t-1)),e=!0)),v-1>t&&(o||this.getColor(n+h)!=u?o&&this.getColor(n+h)!=u&&(o=!1):(f.push(new r.Point(n,t+1)),o=!0));1&t&&l>n&&(!e&&t>0&&this.getColor(n+c)==u&&f.push(new r.Point(n,t-1)),!o&&v-1>t&&this.getColor(n+h)==u&&f.push(new r.Point(n,t+1)))}},n.prototype.recursiveFloodFillScanLine=function(n,t,i,r){for(var e=this.grid.cols,h=this.grid.rows,f=t*e,o,s,u=n;e>u&&this.getColor(u+f)==r;u++)this.setColor(u+f,i);for(u=n-1;u>=0&&this.getColor(u+f)==r;u--)this.setColor(u+f,i);if(t>0){for(o=f-e,u=n;e>u&&this.getColor(u+f)==i;u++)this.getColor(u+o)==r&&this.recursiveFloodFillScanLine(u,t-1,i,r);for(1&t&&e>u&&this.getColor(u+o)==r&&this.recursiveFloodFillScanLine(u,t-1,i,r),u=n-1;u>=0&&this.getColor(u+f)==i;u--)this.getColor(u+o)==r&&this.recursiveFloodFillScanLine(u,t-1,i,r);0==(1&t)&&u>=0&&this.getColor(u+o)==r&&this.recursiveFloodFillScanLine(u,t-1,i,r)}if(h-1>t){for(s=f+e,u=n;e>u&&this.getColor(u+f)==i;u++)this.getColor(u+s)==r&&this.recursiveFloodFillScanLine(u,t+1,i,r);for(1&t&&e>u&&this.getColor(u+s)==r&&this.recursiveFloodFillScanLine(u,t+1,i,r),u=n-1;u>=0&&this.getColor(u+f)==i;u--)this.getColor(u+s)==r&&this.recursiveFloodFillScanLine(u,t+1,i,r);0==(1&t)&&u>=0&&this.getColor(u+s)==r&&this.recursiveFloodFillScanLine(u,t+1,i,r)}},n}();i.Layout=v;y=function(){function n(n,t,i){this.region=new r.Rect;this.matrix=twgl.m4.identity();this.zoom=1;this.pan=new r.Vec2;this.bounds=n;this.minZoom=t;this.maxZoom=i}return n.prototype.fillViewport=function(n,t){this.region.setRect(this.bounds);var u=this.bounds.width(),f=this.bounds.height(),i=n/t,r=u/f;i>r?this.region.scale(i/r,1):this.region.scale(1,r/i);this.region.stretch(1/this.zoom);this.region.offset(this.pan.x,this.pan.y);this.applyChangesToMatrix()},n.prototype.panByVector=function(n){this.applyChangeInPan(n);this.applyChangesToMatrix()},n.prototype.zoomToPoint=function(n,t){var f=this.region.pointAt(t.x,t.y),i,u;this.applyChangeInZoom(n);i=this.region.pointAt(t.x,t.y);u=r.Vec2.fromPointToPoint(i,f);this.applyChangeInPan(u);this.applyChangesToMatrix()},n.prototype.applyChangeInZoom=function(n){var t=this.zoom*n;t<this.minZoom?(n=this.minZoom/this.zoom,this.zoom=this.minZoom):t>this.maxZoom?(n=this.maxZoom/this.zoom,this.zoom=this.maxZoom):this.zoom=t;this.region.stretch(1/n)},n.prototype.applyChangeInPan=function(n){var i=new r.Vec2,t;i.add(this.pan);i.add(n);t=r.Rect.fromRect(this.bounds);t.mulScalar((this.zoom-this.minZoom)/this.zoom);t.offset(-t.centerX(),-t.centerY());i.x<t.left?n.x=t.left-this.pan.x:i.x>t.right&&(n.x=t.right-this.pan.x);i.y<t.bottom?n.y=t.bottom-this.pan.y:i.y>t.top&&(n.y=t.top-this.pan.y);this.region.offset(n.x,n.y);this.pan.add(n)},n.prototype.applyChangesToMatrix=function(){twgl.m4.ortho(this.region.left,this.region.right,this.region.bottom,this.region.top,.1,10,this.matrix)},n}();i.Projection=y;p=function(){function n(n,t,i,r){this.needToRender=!1;this.program=-1;this.rgba=[0,0,0,1];this.alpha=1;this.gl=n;this.layout=t;this.projection=i;this.packedMeshInfo=r}return Object.defineProperty(n.prototype,"color",{set:function(n){this.rgba[0]=(n>>24&255)/255;this.rgba[1]=(n>>16&255)/255;this.rgba[2]=(n>>8&255)/255;this.rgba[3]=(n>>0&255)/255;this.rgba[0]*=this.rgba[3];this.rgba[1]*=this.rgba[3];this.rgba[2]*=this.rgba[3]},enumerable:!0,configurable:!0}),n.prototype.onSurfaceCreated=function(){this.gl.clearColor(0,0,0,0);this.gl.cullFace(this.gl.BACK);this.gl.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA);this.ellipseShader=twgl.createProgramInfo(this.gl,["vs-ellipse","fs-ellipse"]);this.hexelShader=twgl.createProgramInfo(this.gl,["vs-hexel","fs-hexel"]);this.lineShader=twgl.createProgramInfo(this.gl,["vs-line","fs-line"]);this.polyShader=twgl.createProgramInfo(this.gl,["vs-poly","fs-poly"]);this.ellipseShader.bufferInfo=twgl.createBufferInfoFromArrays(this.gl,{indices:{numComponents:1,data:r.Mesh.generatePolygonIndices(4)},a_texCoord:{numComponents:2,data:new Float32Array([0,1,0,0,1,0,1,1])}});this.hexelShader.bufferInfo=twgl.createBufferInfoFromArrays(this.gl,{indices:this.layout.generateIndices(),a_position:this.layout.generateVertices(),a_texCoord:this.layout.generateTexCoords(),a_gradient:this.layout.generateGradientAttribs()});this.lineShader.bufferInfo=twgl.createBufferInfoFromArrays(this.gl,{indices:{numComponents:1,data:r.Mesh.generatePolygonIndices(4)},a_position:{numComponents:2,data:new Float32Array([0,.5,0,-.5,1,-.5,1,.5])}});this.polyShader.bufferInfo=twgl.createBufferInfoFromArrays(this.gl,{indices:{numComponents:1,data:this.packedMeshInfo.indices},a_position:{numComponents:2,data:this.packedMeshInfo.vertices}});this.texOptions={width:this.layout.grid.cols,height:this.layout.grid.rows,minMag:this.gl.NEAREST,wrap:this.gl.CLAMP_TO_EDGE,src:new Uint8Array(this.layout.hexels.buffer)};this.texture=twgl.createTexture(this.gl,this.texOptions)},n.prototype.onSurfaceChanged=function(n,t){this.gl.viewport(0,0,n,t);this.projection.fillViewport(n,t);this.needToRender=!0},n.prototype.onDrawFrame=function(){this.clear();this.renderLayout(this.layout);this.shape&&this.renderShape(this.shape);this.ellipse&&this.renderEllipse(this.ellipse);this.line&&this.renderLine(this.line)},n.prototype.clear=function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)},n.prototype.renderLayout=function(n){var i,s;this.useShader(this.hexelShader)&&(this.gl.enable(this.gl.CULL_FACE),this.gl.disable(this.gl.BLEND));twgl.setUniforms(this.hexelShader,{u_tex:this.texture});var t=r.Rect.fromRect(this.projection.region),h=twgl.m4.identity(),e=0,o=0;n.grid.orientation==u.FlatTop?e=-n.sectionWidth():o=-n.sectionHeight();i=new Float32Array(2);i[0]=.5/n.grid.cols;i[1]=.5/n.grid.rows;var c=1/n.sections,a=n.clipToCube(new r.Point(0,t.bottom)).r-1,v=n.clipToCube(new r.Point(0,t.top)).r+1,l=n.hexelsPerSection/n.grid.cols,f=Math.max(0,Math.floor(a/l)),y=Math.min(n.sections,Math.ceil(v/l));for(t.offset(f*e,f*o),i[1]+=c*f,s=f;y>s;s++)twgl.m4.ortho(t.left,t.right,t.bottom,t.top,.1,10,h),twgl.setUniforms(this.hexelShader,{u_MVP:h,u_baseTexCoord:i}),twgl.drawBufferInfo(this.gl,this.hexelShader.bufferInfo),t.offset(e,o),i[1]+=c},n.prototype.renderShape=function(n){var t;this.useShader(this.polyShader)&&(this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND));t=[];t[0]=n.matrix.m11;t[1]=n.matrix.m21;t[2]=0;t[3]=n.matrix.m12;t[4]=n.matrix.m22;t[5]=0;t[6]=n.matrix.m13;t[7]=n.matrix.m23;t[8]=0;twgl.setUniforms(this.polyShader,{u_MVP:this.projection.matrix,u_shapeMatrix:t,u_color:this.rgba,u_alpha:this.alpha});var i=this.gl.TRIANGLES,r=n.mesh.indices.length,u=this.gl.UNSIGNED_SHORT,f=this.packedMeshInfo.meshes.indexOf(n.mesh),e=2*this.packedMeshInfo.offsets[f];this.gl.drawElements(i,r,u,e)},n.prototype.renderEllipse=function(n){this.useShader(this.ellipseShader)&&this.gl.enable(this.gl.BLEND);var t=[];t[0]=n.left;t[1]=n.bottom;t[2]=n.width();t[3]=n.height();twgl.setUniforms(this.ellipseShader,{u_MVP:this.projection.matrix,u_rect:t,u_color:this.rgba});twgl.drawBufferInfo(this.gl,this.ellipseShader.bufferInfo)},n.prototype.renderLine=function(n){this.useShader(this.lineShader)&&this.gl.enable(this.gl.BLEND);var t=[];t[0]=n.x1;t[1]=n.y1;t[2]=n.x2;t[3]=n.y2;twgl.setUniforms(this.lineShader,{u_MVP:this.projection.matrix,u_color:this.rgba,u_thickness:this.lineThickness,u_line:t});twgl.drawBufferInfo(this.gl,this.lineShader.bufferInfo)},n.prototype.useShader=function(n){return this.program!=n.program?(this.gl.useProgram(n.program),this.program=n.program,twgl.setBuffersAndAttributes(this.gl,n,n.bufferInfo),!0):!1},n.prototype.applyColorChanges=function(){twgl.setTextureFromArray(this.gl,this.texture,this.texOptions.src,this.texOptions);this.needToRender=!0},n.prototype.applyLayoutChanges=function(){var n=this.gl,i=this.hexelShader.bufferInfo,t=this.hexelShader.bufferInfo.attribs,r=this.layout.generateIndices(),u=this.layout.generateVertices(),f=this.layout.generateTexCoords(),e=this.layout.generateGradientAttribs();n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,i.indices);n.bufferData(n.ELEMENT_ARRAY_BUFFER,r,n.STATIC_DRAW);i.numElements=r.length;twgl.setAttribInfoBufferFromArray(n,t.a_position,u);twgl.setAttribInfoBufferFromArray(n,t.a_texCoord,f);twgl.setAttribInfoBufferFromArray(n,t.a_gradient,e);this.texOptions={width:this.layout.grid.cols,height:this.layout.grid.rows,minMag:this.gl.NEAREST,wrap:this.gl.CLAMP_TO_EDGE,src:new Uint8Array(this.layout.hexels.buffer)};this.gl.deleteTexture(this.texture);this.texture=twgl.createTexture(this.gl,this.texOptions);this.needToRender=!0},n.prototype.enableShadows=function(){twgl.setAttribInfoBufferFromArray(this.gl,this.hexelShader.bufferInfo.attribs.a_gradient,this.layout.generateGradientAttribs());this.needToRender=!0},n.prototype.disableShadows=function(){twgl.setAttribInfoBufferFromArray(this.gl,this.hexelShader.bufferInfo.attribs.a_gradient,new Float32Array(this.layout.hexelsPerSection*o));this.needToRender=!0},n}();i.Renderer=p;w=function(){function n(n,t){this.canvas=n;this.renderer=t;var i=this.canvas.clientWidth,r=this.canvas.clientHeight;this.renderer.onSurfaceCreated();this.renderer.onSurfaceChanged(i,r)}return n.prototype.requestRender=function(){this.renderer.needToRender=!0},n.prototype.resize=function(){var i=window.devicePixelRatio,n=Math.floor(this.canvas.clientWidth*i),t=Math.floor(this.canvas.clientHeight*i);return this.canvas.width!==n||this.canvas.height!==t?(this.canvas.width=n,this.canvas.height=t,this.renderer.onSurfaceChanged(n,t),!0):!1},n.prototype.screenToCanvas=function(n,t){return void 0===t&&(t=new r.Point),r.getEventPosition(this.canvas,n,t)},n.prototype.screenToNdc=function(n,t){return void 0===t&&(t=new r.Point),this.screenToCanvas(n,t),this.canvasToNdc(t,t),t},n.prototype.screenToClip=function(n,t){return void 0===t&&(t=new r.Point),this.screenToCanvas(n,t),this.canvasToNdc(t,t),this.ndcToClip(t,t),t},n.prototype.canvasToNdc=function(n,t){void 0===t&&(t=new r.Point);var u=this.canvas.clientWidth,i=this.canvas.clientHeight;return t.x=n.x/u,t.y=(i-n.y)/i,t},n.prototype.ndcToClip=function(n,t){return void 0===t&&(t=new r.Point),this.renderer.projection.region.pointAt(n.x,n.y,t)},n}();i.Surface=w;i.forEachCubeInRange=s;i.forEachCubeInLine=c},{"./graphics2d":1}],3:[function(n){"use strict";function h(n,t){n!=l&&($(ut).children("i").addClass("md-inactive").removeClass("md-active"),$(t).children("i").addClass("md-active").removeClass("md-inactive"),yt=l,pt=ut,l=n,ut=t)}function st(){(e.resize()||t.needToRender)&&(t.needToRender=!1,t.onDrawFrame());requestAnimationFrame(st)}function ht(n){n.preventDefault();n.stopPropagation();var i=n.detail<0||n.wheelDelta>0,r=i?1.5:.666666,u=e.screenToNdc(n);t.projection.zoomToPoint(r,u);t.needToRender=!0}function ct(n){for(var t=-1;0!=n;)n>>=1,t++;return t}function bt(n,t){var i=new FileReader;i.onload=function(n){var i=new Image;i.onload=function(){t(i)};i.src=n.target.result};i.readAsDataURL(n)}function kt(n,t,r,u,f,e,o){void 0===u&&(u=0);void 0===f&&(f=0);void 0===e&&(e=i.cols);void 0===o&&(o=i.rows);t.clearRect(0,0,n.width,n.height);t.drawImage(r,0,0,r.width,r.height,u,f,e,o)}function dt(n,r,f){for(var e,c,h,l,a=r.getImageData(0,0,i.cols,i.rows).data,v=new DataView(a.buffer),o=0,s=n.height-1;s>=0;s--)for(e=0;e<n.width;e++,o++)c=n.width*s+e,h=v.getUint32(4*c,!1),0!=h&&(l=u.blend(h,f.getColor(o)),f.setColor(o,l));t.applyColorChanges()}function gt(n,t,r){for(var s,c,u=new Uint8ClampedArray(n.hexels.buffer),f=new Uint8ClampedArray(u.byteLength),o=0,e=0,h=i.rows-1;h>=0;h--)for(s=0;s<i.cols;s++)e=4*(t.width*h+s),f[e++]=u[o++],f[e++]=u[o++],f[e++]=u[o++],f[e++]=u[o++];c=new ImageData(f,i.cols,i.rows);r.clearRect(0,0,t.width,t.height);r.putImageData(c,0,0)}var u=n("./graphics2d"),s=n("./hexel"),ft,v,p;vex.defaultOptions.className="vex-theme-wireframe";var c=document.getElementById("onscreen-canvas"),ni=twgl.getWebGLContext(c),f=8388863,a=0,w=1,b=!0,y=!0,k=8,d=8,tt="hexel-art",i=new s.Grid(1<<k,1<<d,s.Orientation.PointyTop),r=new s.Layout(i),g=new s.Projection(r.bounds,1,Math.max(i.rows,i.cols)),it=[u.Mesh.polygon(3),u.Mesh.square(),u.Mesh.diamond(),u.Mesh.polygon(5),u.Mesh.polygon(6),u.Mesh.star5(),u.Mesh.heart(),u.Mesh.flower(),u.Mesh.bat()],t=new s.Renderer(ni,r,g,u.PackedMeshInfo.fromMeshes(it)),e=new s.Surface(c,t),o=document.getElementById("offscreen-canvas"),rt=o.getContext("2d");o.width=i.cols;o.height=i.rows;var ti={handleDragAction:function(n,i){switch(i){case 0:this.previous=e.screenToClip(n);break;case 1:var r=e.screenToClip(n),f=u.Vec2.fromPointToPoint(r,this.previous);t.projection.panByVector(f);t.needToRender=!0;this.previous.x=r.x+f.x;this.previous.y=r.y+f.y}}},lt={handleDragAction:function(n,i){var s,o,h,u,c;switch(i){case 0:s=e.screenToClip(n);o=r.clipToCube(s);o.round();h=r.indexOfHexel(s);-1!==h&&(r.setRange(o,a,f),t.applyColorChanges());this.previous=o;case 1:u=r.clipToCube(e.screenToClip(n));u.round();c=u.distanceToCube(this.previous);c>0&&(-1==f?r.eraseStroke(this.previous,u,a):r.addStroke(this.previous,u,a,f),t.applyColorChanges(),this.previous=u)}}},ii={handleDragAction:function(n,i){switch(i){case 0:if(t.needToRender)return;var o=e.screenToClip(n),u=r.indexOfHexel(o);-1!==u&&(-1==f?r.floodFillErase(u):r.floodFill(u,f),t.applyColorChanges())}}},ri={handleDragAction:function(n,i){switch(i){case 0:case 1:var s=e.screenToClip(n),o=r.indexOfHexel(s);-1!=o&&(f=r.getColor(o),v=p=(255&f)/255,$("#color-picker").spectrum("set",u.rgbaToString(f)),t.color=f);break;case 2:h(yt,pt)}}},ui={handleDragAction:function(n,i){switch(i){case 0:this.start=e.screenToClip(n);break;case 1:if(t.needToRender)return;var o=e.screenToClip(n);t.line=u.Line.fromPointToPoint(this.start,o);t.needToRender=!0;break;case 2:case 3:t.line&&(-1==f?r.eraseLine(t.line,t.lineThickness):r.addLine(t.line,t.lineThickness,f),t.line=null,t.applyColorChanges())}}},at={handleDragAction:function(n,i){var h,o,s;switch(i){case 0:this.start=e.screenToClip(n);break;case 1:if(t.needToRender)return;h=e.screenToClip(n);o=u.Rect.fromPointToPoint(this.start,h);b&&o.expandToSquare();t.ellipse=o;t.needToRender=!0;break;case 2:case 3:t.ellipse&&(s=u.Ellipse.fromRect(t.ellipse),-1==f?r.eraseShape(s):r.addShape(s,f),t.ellipse=null,t.applyColorChanges())}}},vt={handleDragAction:function(n,i){var o;switch(i){case 0:this.start=e.screenToClip(n);break;case 1:if(t.needToRender)return;if(t.shape||(t.shape=new u.Shape(wt)),o=e.screenToClip(n),b)t.shape.stretchAcrossLine(this.start,o);else{var s=this.start,h=o,c=u.Rect.fromLBRT(h.x,h.y,s.x,s.y);t.shape.fitInRect(c,2)}t.needToRender=!0;break;case 2:case 3:t.shape&&(-1==f?r.eraseShape(t.shape):r.addShape(t.shape,f),t.shape=null,t.applyColorChanges())}}},l=lt,ut="#brush",yt=l,pt="#brush",wt=it[0],nt="icon-circle";st();c.addEventListener("DOMMouseScroll",ht,!1);c.addEventListener("mousewheel",ht,!1);ft=1;u.addDragListener(c,function(n,i){switch(0==i&&n instanceof MouseEvent&&(n.altKey&&(f=u.randomRgba(255*v>>0),$("#color-picker").spectrum("set",u.rgbaToString(f)),t.color=f),ft=n.which),ft){case 1:l.handleDragAction(n,i);break;case 2:ti.handleDragAction(n,i);break;case 3:return}});v=1;p=1;t.color=f;$("#color-picker").spectrum({color:"#008000",flat:!1,showInput:!1,showInitial:!1,allowEmpty:!1,showAlpha:!0,disabled:!1,showPalette:!0,showPaletteOnly:!0,togglePaletteOnly:!0,showSelectionPalette:!1,clickoutFiresChange:!0,hideAfterPaletteSelect:!0,preferredFormat:"rgb",palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]],change:function(n){if(n){v=p;n.setAlpha(v);var i=n.toHex8String();$(this).spectrum("set",i);f=u.stringToRgba(i);t.color=f}else f=-1,t.color=255},hide:function(){p=v}});$("#color-picker").on("dragstop.spectrum",function(n,t){p=t.getAlpha()});$("#brush").click(function(){h(lt,"#brush")});$("#line").click(function(){h(ui,"#line")});$("#color-sampler").click(function(){h(ri,"#color-sampler")});$("#paint-bucket").click(function(){h(ii,"#paint-bucket")});$("#shape").click(function(){$(this).children("i").hasClass("icon-circle")?h(at,"#shape"):h(vt,"#shape")});$("#circle").click(function(){l=at;var n="icon-circle";$("#shape").children("i").removeClass(nt).addClass(n);nt=n});for(var et=["triangle","square","diamond","pentagon","hexagon","star","heart","flower","bat"],fi=function(n){$("#"+et[n]).click(function(){l=vt;wt=it[n];var t="icon-"+et[n];$("#shape").children("i").removeClass(nt).addClass(t);nt=t})},ot=0;ot<et.length;ot++)fi(ot);t.lineThickness=1.5;$("#options").click(function(){vex.dialog.open({message:"Options",input:'\n<div class="vex-custom-field-wrapper">\n    <div class="vex-custom-input-wrapper">\n        <label for="enableShadows">Enable shadows:<\/label>\n        <input name="enableShadows" type="checkbox" '+(y?"checked":"")+'/>\n    <\/div>\n<\/div>\n<div class="vex-custom-field-wrapper">\n    <div class="vex-custom-input-wrapper">\n        <label for="maintainAspect">Maintain shape ratios:<\/label>\n        <input name="maintainAspect" type="checkbox" '+(b?"checked":"")+'/>\n    <\/div>\n<\/div>\n<div class="vex-custom-field-wrapper">\n    <div class="vex-custom-input-wrapper">\n        <label for="brushRadius">Brush radius:<\/label>\n        <input name="brushRadius" type="number" min="0" max="15"/>\n    <\/div>\n<\/div>\n<div class="vex-custom-field-wrapper">\n    <div class="vex-custom-input-wrapper">\n        <label for="lineThickness">Line width:<\/label>\n        <input name="lineThickness" type="number" min="1" max="100" />\n    <\/div>\n<\/div>\n<div class="vex-custom-field-wrapper">\n    <div class="vex-custom-input-wrapper">\n          <label for="gridWidth">Grid width:<\/label>\n          <input name="gridWidth" type="number" min="5" max="10" />\n    <\/div>\n<\/div>\n<div class="vex-custom-field-wrapper">\n    <div class="vex-custom-input-wrapper">\n          <label for="gridHeight">Grid height:<\/label>\n          <input name="gridHeight" type="number" min="5" max="10" />\n    <\/div>\n<\/div>\n',callback:function(n){var u;if(n){if(n.brushRadius!==a&&(a=parseInt(n.brushRadius)),n.lineThickness!==w&&(w=parseInt(n.lineThickness),t.lineThickness=1.5*w),n.gridWidth!=k||n.gridHeight!=d){k=parseInt(n.gridWidth);d=parseInt(n.gridHeight);for(var f=o.width=1<<k,h=o.height=1<<d,v=new Uint32Array(r.hexels.buffer),l=new Uint32Array(f*h),p=Math.min(h,i.rows),nt=Math.min(f,i.cols),e=0;p>e;e++)for(u=0;nt>u;u++)l[e*f+u]=v[e*i.cols+u];i=new s.Grid(f,h);r=new s.Layout(i,l.buffer);g=new s.Projection(r.bounds,1,Math.max(i.rows,i.cols));g.fillViewport(c.clientWidth,c.clientHeight);t.projection=g;t.layout=r;t.applyLayoutChanges()}b=n.maintainAspect?!0:!1;n.enableShadows?y||(t.enableShadows(),y=!0):y&&(t.disableShadows(),y=!1)}}});$("input[name=brushRadius]").slider({min:0,max:15,step:1,value:a,tooltip:"show"});$("input[name=lineThickness]").slider({min:1,max:100,step:1,value:w,tooltip:"show"});$("input[name=gridWidth]").slider({ticks:[5,6,7,8,9,10],ticks_labels:["32","64","128","256","512","1024"],min:5,max:10,step:1,value:ct(i.cols),tooltip:"hide"});$("input[name=gridHeight]").slider({ticks:[5,6,7,8,9,10],ticks_labels:["32","64","128","256","512","1024"],min:5,max:10,step:1,value:ct(i.rows),tooltip:"hide"})});$("#upload").click(function(){var n;vex.dialog.open({message:"Upload image onto this "+i.cols+"x"+i.rows+" grid.",input:'\n<div class="vex-custom-field-wrapper">\n    <div class="vex-custom-input-wrapper">\n        <label for="imagefile">Image:<\/label>\n        <input name="imagefile" type="file" accept="image/*" required>\n    <\/div>\n    <div class="vex-custom-input-wrapper">\n        <label for="x">X (hexels from left):<\/label>\n        <input name="x" type="number" min="0" max="'+i.cols+'">\n    <\/div>\n    <div class="vex-custom-input-wrapper">\n        <label for="y">Y (hexels from top):<\/label>\n        <input name="y" type="number" min="0" max="'+i.rows+'">\n    <\/div>\n    <div class="vex-custom-input-wrapper">\n        <label for="width">Width (in hexels):<\/label>\n        <input name="width" type="number" min="0">\n    <\/div>\n    <div class="vex-custom-input-wrapper">\n        <label for="height">Height (in hexels):<\/label>\n        <input name="height" type="number" min="0">\n    <\/div>\n<\/div>\n',callback:function(t){if(n&&t){var i=t.x,u=t.y,f=t.width,e=t.height;kt(o,rt,n,i,u,f,e);dt(o,rt,r)}n=null}});$("input[name=imagefile]").change(function(t){if(t.target.files[0]){var i=t.target.files[0];bt(i,function(t){var f=o.width/t.width,e=o.height/t.height,i=Math.min(f,e),r=Math.round(t.width*i),u=Math.round(t.height*i),s=Math.round((o.width-r)/2),h=Math.round((o.height-u)/2);$("input[name=x]").val(s);$("input[name=y]").val(h);$("input[name=width]").val(r);$("input[name=height]").val(u);n=t})}})});$("#download").click(function(){vex.dialog.open({message:"Download hexel art as a "+i.cols+"x"+i.rows+" image file.",input:'\n<div class="vex-custom-field-wrapper">\n    <div class="vex-custom-input-wrapper">\n        <label for="filename">Filename:<\/label>\n        <input name="filename" type="text" value="'+tt+'"/>\n    <\/div>\n<\/div>\n<p> Note: an image viewer will interpret the file as pixel art, but if you reupload the file to this app, you will be able to view and modify the original hexel art.<\/p>\n',callback:function(n){n&&n.filename&&(tt=n.filename,gt(r,o,rt),o.toBlob(function(n){saveAs(n,tt,!0)},"image/png"))}})})},{"./graphics2d":1,"./hexel":2}]},{},[3]);